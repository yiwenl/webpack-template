/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/js/debug/debug.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/alfrid/build/alfrid.js":
/*!*********************************************!*\
  !*** ./node_modules/alfrid/build/alfrid.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(root,factory){ true?module.exports=factory():undefined}("undefined"!=typeof self?self:this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=37)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(2),_getAndApplyExtension=__webpack_require__(42),_getAndApplyExtension2=_interopRequireDefault(_getAndApplyExtension),_exposeAttributes=__webpack_require__(43),_exposeAttributes2=_interopRequireDefault(_exposeAttributes),_getFloat=__webpack_require__(44),_getFloat2=_interopRequireDefault(_getFloat),_getHalfFloat=__webpack_require__(45),_getHalfFloat2=_interopRequireDefault(_getHalfFloat),_getAttribLoc=__webpack_require__(24),_ExtensionsList=(_interopRequireDefault(_getAttribLoc),__webpack_require__(46)),_ExtensionsList2=_interopRequireDefault(_ExtensionsList),gl=void 0,GLTool=function(){function GLTool(){_classCallCheck(this,GLTool),this.canvas,this._viewport=[0,0,0,0],this._enabledVertexAttribute=[],this.identityMatrix=_glMatrix.mat4.create(),this._normalMatrix=_glMatrix.mat3.create(),this._inverseModelViewMatrix=_glMatrix.mat3.create(),this._modelMatrix=_glMatrix.mat4.create(),this._matrix=_glMatrix.mat4.create(),this._matrixStacks=[],this._lastMesh=null,this._useWebGL2=!1,this._hasArrayInstance,this._extArrayInstance,this._hasCheckedExt=!1,_glMatrix.mat4.identity(this.identityMatrix,this.identityMatrix),this.isMobile=!1,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(this.isMobile=!0)}return _createClass(GLTool,[{key:"init",value:function(mCanvas){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===mCanvas||void 0===mCanvas)return void console.error("Canvas not exist");void 0!==this.canvas&&null!==this.canvas&&this.destroy(),this.canvas=mCanvas,this.setSize(window.innerWidth,window.innerHeight),mParameters.useWebgl2=mParameters.useWebgl2||!1;var ctx=void 0;mParameters.useWebgl2?(ctx=this.canvas.getContext("experimental-webgl2",mParameters)||this.canvas.getContext("webgl2",mParameters),ctx?this._useWebGL2=!0:(ctx=this.canvas.getContext("webgl",mParameters)||this.canvas.getContext("experimental-webgl",mParameters),this._useWebGL2=!1)):(ctx=this.canvas.getContext("webgl",mParameters)||this.canvas.getContext("experimental-webgl",mParameters),this._useWebGL2=!1),console.log("Using WebGL 2 ?",this.webgl2),this.initWithGL(ctx)}},{key:"initWithGL",value:function(ctx){this.canvas||(this.canvas=ctx.canvas),gl=this.gl=ctx,this.extensions={};for(var i=0;i<_ExtensionsList2.default.length;i++)this.extensions[_ExtensionsList2.default[i]]=gl.getExtension(_ExtensionsList2.default[i]);(0,_exposeAttributes2.default)(),(0,_getAndApplyExtension2.default)(gl,"OES_vertex_array_object"),(0,_getAndApplyExtension2.default)(gl,"ANGLE_instanced_arrays"),(0,_getAndApplyExtension2.default)(gl,"WEBGL_draw_buffers"),this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.enable(this.BLEND),this.enableAlphaBlending()}},{key:"setViewport",value:function(x,y,w,h){var hasChanged=!1;x!==this._viewport[0]&&(hasChanged=!0),y!==this._viewport[1]&&(hasChanged=!0),w!==this._viewport[2]&&(hasChanged=!0),h!==this._viewport[3]&&(hasChanged=!0),hasChanged&&(gl.viewport(x,y,w,h),this._viewport=[x,y,w,h])}},{key:"scissor",value:function(x,y,w,h){gl.scissor(x,y,w,h)}},{key:"clear",value:function(r,g,b,a){gl.clearColor(r,g,b,a),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT)}},{key:"cullFace",value:function(mValue){gl.cullFace(mValue)}},{key:"setMatrices",value:function(mCamera){this.camera=mCamera,this.rotate(this.identityMatrix)}},{key:"useShader",value:function(mShader){this.shader=mShader,this.shaderProgram=this.shader.shaderProgram}},{key:"rotate",value:function(mRotation){_glMatrix.mat4.copy(this._modelMatrix,mRotation),_glMatrix.mat4.multiply(this._matrix,this.camera.matrix,this._modelMatrix),_glMatrix.mat3.fromMat4(this._normalMatrix,this._matrix),_glMatrix.mat3.invert(this._normalMatrix,this._normalMatrix),_glMatrix.mat3.transpose(this._normalMatrix,this._normalMatrix),_glMatrix.mat3.fromMat4(this._inverseModelViewMatrix,this._matrix),_glMatrix.mat3.invert(this._inverseModelViewMatrix,this._inverseModelViewMatrix)}},{key:"draw",value:function(mMesh,mDrawingType){if(mMesh.length)for(var i=0;i<mMesh.length;i++)this.draw(mMesh[i]);else{mMesh.bind(this.shaderProgram),void 0!==this.camera&&(this.shader.uniform("uProjectionMatrix","mat4",this.camera.projection),this.shader.uniform("uViewMatrix","mat4",this.camera.matrix)),this.shader.uniform("uModelMatrix","mat4",this._modelMatrix),this.shader.uniform("uNormalMatrix","mat3",this._normalMatrix),this.shader.uniform("uModelViewMatrixInverse","mat3",this._inverseModelViewMatrix);var drawType=mMesh.drawType;void 0!==mDrawingType&&(drawType=mDrawingType),mMesh.isInstanced?gl.drawElementsInstanced(mMesh.drawType,mMesh.iBuffer.numItems,gl.UNSIGNED_SHORT,0,mMesh.numInstance):drawType===gl.POINTS?gl.drawArrays(drawType,0,mMesh.vertexSize):gl.drawElements(drawType,mMesh.iBuffer.numItems,gl.UNSIGNED_SHORT,0),mMesh.unbind()}}},{key:"drawTransformFeedback",value:function(mTransformObject){var meshSource=mTransformObject.meshSource,meshDestination=mTransformObject.meshDestination,numPoints=mTransformObject.numPoints,transformFeedback=mTransformObject.transformFeedback;meshSource.bind(this.shaderProgram),meshDestination.generateBuffers(this.shaderProgram),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,transformFeedback),meshDestination.attributes.forEach(function(attr,i){gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER,i,attr.buffer)}),gl.enable(gl.RASTERIZER_DISCARD),gl.beginTransformFeedback(gl.POINTS),gl.drawArrays(gl.POINTS,0,numPoints),gl.endTransformFeedback(),gl.disable(gl.RASTERIZER_DISCARD),gl.useProgram(null),gl.bindBuffer(gl.ARRAY_BUFFER,null),meshDestination.attributes.forEach(function(attr,i){gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER,i,null)}),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,null),meshSource.unbind()}},{key:"setSize",value:function(mWidth,mHeight){this._width=mWidth,this._height=mHeight,this.canvas.width=this._width,this.canvas.height=this._height,this._aspectRatio=this._width/this._height,gl&&this.viewport(0,0,this._width,this._height)}},{key:"showExtensions",value:function(){console.log("Extensions : ",this.extensions);for(var ext in this.extensions)this.extensions[ext]&&console.log(ext,":",this.extensions[ext])}},{key:"checkExtension",value:function(mExtension){return!!this.extensions[mExtension]}},{key:"getExtension",value:function(mExtension){return this.extensions[mExtension]}},{key:"enableAlphaBlending",value:function(){gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA)}},{key:"enableAdditiveBlending",value:function(){gl.blendFunc(gl.ONE,gl.ONE)}},{key:"pushMatrix",value:function(){var mtx=_glMatrix.mat4.clone(this._modelMatrix);this._matrixStacks.push(mtx)}},{key:"popMatrix",value:function(){if(0==this._matrixStacks.length)return null;var mtx=this._matrixStacks.pop();this.rotate(mtx)}},{key:"enable",value:function(mParameter){gl.enable(mParameter)}},{key:"disable",value:function(mParameter){gl.disable(mParameter)}},{key:"viewport",value:function(x,y,w,h){this.setViewport(x,y,w,h)}},{key:"destroy",value:function(){if(this.canvas.parentNode)try{this.canvas.parentNode.removeChild(this.canvas)}catch(e){console.log("Error : ",e)}this.canvas=null}},{key:"FLOAT",get:function(){return(0,_getFloat2.default)()}},{key:"HALF_FLOAT",get:function(){return(0,_getHalfFloat2.default)()}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"aspectRatio",get:function(){return this._aspectRatio}},{key:"webgl2",get:function(){return this._useWebGL2}}]),GLTool}(),GL=new GLTool;exports.default=GL},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),isSame=(__webpack_require__(47),function(array1,array2){if(array1.length!==array2.length)return!1;for(var i=0;i<array1.length;i++)if(array1[i]!==array2[i])return!1;return!0}),addLineNumbers=function(string){for(var lines=string.split("\n"),i=0;i<lines.length;i++)lines[i]=i+1+": "+lines[i];return lines.join("\n")},cloneArray=function(mArray){return mArray.slice?mArray.slice(0):new Float32Array(mArray)},gl=void 0,defaultVertexShader=__webpack_require__(9),defaultFragmentShader=__webpack_require__(48),uniformMapping={float:"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1i",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"},GLShader=function(){function GLShader(){var strVertexShader=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultVertexShader,strFragmentShader=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultFragmentShader,mVaryings=arguments[2];_classCallCheck(this,GLShader),gl=_GLTool2.default.gl,this.parameters=[],this.uniformTextures=[],this._varyings=mVaryings,strVertexShader||(strVertexShader=defaultVertexShader),strFragmentShader||(strFragmentShader=defaultVertexShader);var vsShader=this._createShaderProgram(strVertexShader,!0),fsShader=this._createShaderProgram(strFragmentShader,!1);this._attachShaderProgram(vsShader,fsShader)}return _createClass(GLShader,[{key:"bind",value:function(){_GLTool2.default.shader!==this&&(gl.useProgram(this.shaderProgram),_GLTool2.default.useShader(this),this.uniformTextures=[])}},{key:"uniform",value:function(mName,mType,mValue){if("object"===(void 0===mName?"undefined":_typeof(mName)))return void this.uniformObject(mName);for(var uniformType=uniformMapping[mType]||mType,hasUniform=!1,oUniform=void 0,parameterIndex=-1,i=0;i<this.parameters.length;i++)if(oUniform=this.parameters[i],oUniform.name===mName){hasUniform=!0,parameterIndex=i;break}var isNumber=!1;if(hasUniform?(this.shaderProgram[mName]=oUniform.uniformLoc,isNumber=oUniform.isNumber):(isNumber="uniform1i"===uniformType||"uniform1f"===uniformType,this.shaderProgram[mName]=gl.getUniformLocation(this.shaderProgram,mName),isNumber?this.parameters.push({name:mName,type:uniformType,value:mValue,uniformLoc:this.shaderProgram[mName],isNumber:isNumber}):this.parameters.push({name:mName,type:uniformType,value:cloneArray(mValue),uniformLoc:this.shaderProgram[mName],isNumber:isNumber}),parameterIndex=this.parameters.length-1),this.parameters[parameterIndex].uniformLoc)if(-1===uniformType.indexOf("Matrix"))if(isNumber){var needUpdate=this.parameters[parameterIndex].value!==mValue||!hasUniform;needUpdate&&(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=mValue)}else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=cloneArray(mValue));else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],!1,mValue),this.parameters[parameterIndex].value=cloneArray(mValue))}},{key:"uniformObject",value:function(mUniformObj){for(var uniformName in mUniformObj){var uniformValue=mUniformObj[uniformName],uniformType=GLShader.getUniformType(uniformValue);if(uniformValue.concat&&uniformValue[0].concat){for(var tmp=[],i=0;i<uniformValue.length;i++)tmp=tmp.concat(uniformValue[i]);uniformValue=tmp}this.uniform(uniformName,uniformType,uniformValue)}}},{key:"_createShaderProgram",value:function(mShaderStr,isVertexShader){var shaderType=isVertexShader?_GLTool2.default.VERTEX_SHADER:_GLTool2.default.FRAGMENT_SHADER,shader=gl.createShader(shaderType);return gl.shaderSource(shader,mShaderStr),gl.compileShader(shader),gl.getShaderParameter(shader,gl.COMPILE_STATUS)?shader:(console.warn("Error in Shader : ",gl.getShaderInfoLog(shader)),console.log(addLineNumbers(mShaderStr)),null)}},{key:"_attachShaderProgram",value:function(mVertexShader,mFragmentShader){this.shaderProgram=gl.createProgram(),gl.attachShader(this.shaderProgram,mVertexShader),gl.attachShader(this.shaderProgram,mFragmentShader),gl.deleteShader(mVertexShader),gl.deleteShader(mFragmentShader),this._varyings&&(console.log("Transform feedback setup : ",this._varyings),gl.transformFeedbackVaryings(this.shaderProgram,this._varyings,gl.SEPARATE_ATTRIBS)),gl.linkProgram(this.shaderProgram)}}]),GLShader}();GLShader.getUniformType=function(mValue){var isArray=!!mValue.concat,getArrayUniformType=function(mValue){return 9===mValue.length?"uniformMatrix3fv":16===mValue.length?"uniformMatrix4fv":"vec"+mValue.length};return isArray?getArrayUniformType(mValue[0].concat?mValue[0]:mValue):"float"},exports.default=GLShader},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vec4=exports.vec3=exports.vec2=exports.quat2=exports.quat=exports.mat4=exports.mat3=exports.mat2d=exports.mat2=exports.glMatrix=void 0;var _common=__webpack_require__(3),glMatrix=_interopRequireWildcard(_common),_mat=__webpack_require__(38),mat2=_interopRequireWildcard(_mat),_mat2d=__webpack_require__(39),mat2d=_interopRequireWildcard(_mat2d),_mat2=__webpack_require__(18),mat3=_interopRequireWildcard(_mat2),_mat3=__webpack_require__(19),mat4=_interopRequireWildcard(_mat3),_quat=__webpack_require__(20),quat=_interopRequireWildcard(_quat),_quat2=__webpack_require__(40),quat2=_interopRequireWildcard(_quat2),_vec=__webpack_require__(41),vec2=_interopRequireWildcard(_vec),_vec2=__webpack_require__(21),vec3=_interopRequireWildcard(_vec2),_vec3=__webpack_require__(22),vec4=_interopRequireWildcard(_vec3);exports.glMatrix=glMatrix,exports.mat2=mat2,exports.mat2d=mat2d,exports.mat3=mat3,exports.mat4=mat4,exports.quat=quat,exports.quat2=quat2,exports.vec2=vec2,exports.vec3=vec3,exports.vec4=vec4},function(module,exports,__webpack_require__){"use strict";function setMatrixArrayType(type){exports.ARRAY_TYPE=ARRAY_TYPE=type}function toRadian(a){return a*degree}function equals(a,b){return Math.abs(a-b)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setMatrixArrayType=setMatrixArrayType,exports.toRadian=toRadian,exports.equals=equals;var EPSILON=exports.EPSILON=1e-6,ARRAY_TYPE=exports.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,degree=(exports.RANDOM=Math.random,Math.PI/180)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Scheduler=function(){function Scheduler(){_classCallCheck(this,Scheduler),this._delayTasks=[],this._nextTasks=[],this._deferTasks=[],this._highTasks=[],this._usurpTask=[],this._enterframeTasks=[],this._idTable=0,this._startTime=(new Date).getTime(),this._deltaTime=0,this._internalTime=0,this._isPaused=!1,this._loop()}return _createClass(Scheduler,[{key:"addEF",value:function(func,params){params=params||[];var id=this._idTable;return this._enterframeTasks[id]={func:func,params:params},this._idTable++,id}},{key:"removeEF",value:function(id){return void 0!==this._enterframeTasks[id]&&(this._enterframeTasks[id]=null),-1}},{key:"delay",value:function(func,params,_delay){var time=(new Date).getTime(),t={func:func,params:params,delay:_delay,time:time};this._delayTasks.push(t)}},{key:"defer",value:function(func,params){var t={func:func,params:params};this._deferTasks.push(t)}},{key:"next",value:function(func,params){var t={func:func,params:params};this._nextTasks.push(t)}},{key:"usurp",value:function(func,params){var t={func:func,params:params};this._usurpTask.push(t)}},{key:"pause",value:function(){this._isPaused=!0}},{key:"advance",value:function(){this._internalTime+=1/60}},{key:"resume",value:function(){this._isPaused=!1}},{key:"_process",value:function(){var i=0,task=void 0,interval=void 0;for(i=0;i<this._enterframeTasks.length;i++)null!==(task=this._enterframeTasks[i])&&void 0!==task&&task.func(task.params);for(;this._highTasks.length>0;)task=this._highTasks.pop(),task.func(task.params);var startTime=(new Date).getTime(),_startTime=this._deltaTime;for(this._deltaTime=(startTime-this._startTime)/1e3,i=0;i<this._delayTasks.length;i++)task=this._delayTasks[i],startTime-task.time>task.delay&&(task.func(task.params),this._delayTasks.splice(i,1));for(startTime=(new Date).getTime(),this._deltaTime=(startTime-this._startTime)/1e3,interval=1e3/60;this._deferTasks.length>0;){if(task=this._deferTasks.shift(),!((new Date).getTime()-startTime<interval)){this._deferTasks.unshift(task);break}task.func(task.params)}for(startTime=(new Date).getTime(),this._deltaTime=(startTime-this._startTime)/1e3,interval=1e3/60;this._usurpTask.length>0;)task=this._usurpTask.shift(),(new Date).getTime()-startTime<interval&&task.func(task.params);this._highTasks=this._highTasks.concat(this._nextTasks),this._nextTasks=[],this._usurpTask=[],this._isPaused||(this._internalTime+=this._deltaTime-_startTime)}},{key:"_loop",value:function(){var _this=this;this._process(),window.requestAnimationFrame(function(){return _this._loop()})}},{key:"intervalTime",get:function(){return this._internalTime}},{key:"deltaTime",get:function(){return this._deltaTime}}]),Scheduler}(),scheduler=new Scheduler;exports.default=scheduler},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_glMatrix=__webpack_require__(2),_getAttribLoc=__webpack_require__(24),_getAttribLoc2=_interopRequireDefault(_getAttribLoc),gl=void 0,getBuffer=function(attr){var buffer=void 0;return void 0!==attr.buffer?buffer=attr.buffer:(buffer=gl.createBuffer(),attr.buffer=buffer),buffer},formBuffer=function(mData,mNum){for(var ary=[],i=0;i<mData.length;i+=mNum){for(var o=[],j=0;j<mNum;j++)o.push(mData[i+j]);ary.push(o)}return ary},Mesh=function(){function Mesh(){var mDrawingType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,mUseVao=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_classCallCheck(this,Mesh),gl=_GLTool2.default.gl,this.drawType=mDrawingType,this._attributes=[],this._numInstance=-1,this._enabledVertexAttribute=[],this._indices=[],this._faces=[],this._bufferChanged=[],this._hasIndexBufferChanged=!1,this._hasVAO=!1,this._isInstanced=!1,this._extVAO=!!_GLTool2.default.gl.createVertexArray,this._useVAO=!!this._extVAO&&mUseVao}return _createClass(Mesh,[{key:"bufferVertex",value:function(mArrayVertices){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mArrayVertices,"aVertexPosition",3,mDrawType),this.normals.length<this.vertices.length&&this.bufferNormal(mArrayVertices,mDrawType),this}},{key:"bufferTexCoord",value:function(mArrayTexCoords){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mArrayTexCoords,"aTextureCoord",2,mDrawType),this}},{key:"bufferNormal",value:function(mNormals){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mNormals,"aNormal",3,mDrawType),this}},{key:"bufferIndex",value:function(mArrayIndices){var isDynamic=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._drawType=isDynamic?gl.DYNAMIC_DRAW:gl.STATIC_DRAW,this._indices=new Uint16Array(mArrayIndices),this._numItems=this._indices.length,this}},{key:"bufferFlattenData",value:function(mData,mName,mItemSize){var data=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],formBuffer(mData,mItemSize));return this.bufferData(data,mName,mItemSize,35044,!1),this}},{key:"bufferData",value:function(mData,mName,mItemSize){var mDrawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:35044,isInstanced=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=0,drawType=mDrawType,bufferData=[];for(mItemSize||(mItemSize=mData[0].length),this._isInstanced=isInstanced||this._isInstanced,i=0;i<mData.length;i++)for(var j=0;j<mData[i].length;j++)bufferData.push(mData[i][j]);var dataArray=new Float32Array(bufferData),attribute=this.getAttribute(mName);return attribute?(attribute.itemSize=mItemSize,attribute.dataArray=dataArray,attribute.source=mData):this._attributes.push({name:mName,source:mData,itemSize:mItemSize,drawType:drawType,dataArray:dataArray,isInstanced:isInstanced}),this._bufferChanged.push(mName),this}},{key:"bufferInstance",value:function(mData,mName){if(!_GLTool2.default.gl.vertexAttribDivisor)return void console.error("Extension : ANGLE_instanced_arrays is not supported with this device !");var itemSize=mData[0].length;this._numInstance=mData.length,this.bufferData(mData,mName,itemSize,35044,!0)}},{key:"bind",value:function(mShaderProgram){this.generateBuffers(mShaderProgram),this.hasVAO?gl.bindVertexArray(this.vao):(this.attributes.forEach(function(attribute){gl.bindBuffer(gl.ARRAY_BUFFER,attribute.buffer);var attrPosition=attribute.attrPosition;gl.vertexAttribPointer(attrPosition,attribute.itemSize,gl.FLOAT,!1,0,0),attribute.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.iBuffer))}},{key:"generateBuffers",value:function(mShaderProgram){var _this=this;0!=this._bufferChanged.length&&(this._useVAO?(this._vao||(this._vao=gl.createVertexArray()),gl.bindVertexArray(this._vao),this._attributes.forEach(function(attrObj){if(-1!==_this._bufferChanged.indexOf(attrObj.name)){var buffer=getBuffer(attrObj);gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,attrObj.dataArray,attrObj.drawType);var attrPosition=(0,_getAttribLoc2.default)(gl,mShaderProgram,attrObj.name);gl.enableVertexAttribArray(attrPosition),gl.vertexAttribPointer(attrPosition,attrObj.itemSize,gl.FLOAT,!1,0,0),attrObj.attrPosition=attrPosition,attrObj.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}}),this._updateIndexBuffer(),gl.bindVertexArray(null),this._hasVAO=!0):(this._attributes.forEach(function(attrObj){if(-1!==_this._bufferChanged.indexOf(attrObj.name)){var buffer=getBuffer(attrObj);gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,attrObj.dataArray,attrObj.drawType);var attrPosition=(0,_getAttribLoc2.default)(gl,mShaderProgram,attrObj.name);gl.enableVertexAttribArray(attrPosition),gl.vertexAttribPointer(attrPosition,attrObj.itemSize,gl.FLOAT,!1,0,0),attrObj.attrPosition=attrPosition,attrObj.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}}),this._updateIndexBuffer()),this._hasIndexBufferChanged=!1,this._bufferChanged=[])}},{key:"unbind",value:function(){this._useVAO&&gl.bindVertexArray(null),this._attributes.forEach(function(attribute){attribute.isInstanced&&gl.vertexAttribDivisor(attribute.attrPosition,0)})}},{key:"_updateIndexBuffer",value:function(){this._hasIndexBufferChanged||(this.iBuffer||(this.iBuffer=gl.createBuffer()),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.iBuffer),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,this._indices,this._drawType),this.iBuffer.itemSize=1,this.iBuffer.numItems=this._numItems)}},{key:"computeNormals",value:function(){var usingFaceNormals=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.generateFaces(),usingFaceNormals?this._computeFaceNormals():this._computeVertexNormals()}},{key:"_computeFaceNormals",value:function(){for(var faceIndex=void 0,face=void 0,normals=[],i=0;i<this._indices.length;i+=3){faceIndex=i/3,face=this._faces[faceIndex];var N=face.normal;normals[face.indices[0]]=N,normals[face.indices[1]]=N,normals[face.indices[2]]=N}this.bufferNormal(normals)}},{key:"_computeVertexNormals",value:function(){for(var face=void 0,sumNormal=_glMatrix.vec3.create(),normals=[],vertices=this.vertices,i=0;i<vertices.length;i++){_glMatrix.vec3.set(sumNormal,0,0,0);for(var j=0;j<this._faces.length;j++)face=this._faces[j],face.indices.indexOf(i)>=0&&(sumNormal[0]+=face.normal[0],sumNormal[1]+=face.normal[1],sumNormal[2]+=face.normal[2]);_glMatrix.vec3.normalize(sumNormal,sumNormal),normals.push([sumNormal[0],sumNormal[1],sumNormal[2]])}this.bufferNormal(normals)}},{key:"generateFaces",value:function(){for(var ia=void 0,ib=void 0,ic=void 0,a=void 0,b=void 0,c=void 0,vertices=(_glMatrix.vec3.create(),_glMatrix.vec3.create(),_glMatrix.vec3.create(),this.vertices),i=0;i<this._indices.length;i+=3){ia=this._indices[i],ib=this._indices[i+1],ic=this._indices[i+2],a=vertices[ia],b=vertices[ib],c=vertices[ic];var face={indices:[ia,ib,ic],vertices:[a,b,c]};this._faces.push(face)}}},{key:"getAttribute",value:function(mName){return this._attributes.find(function(a){return a.name===mName})}},{key:"getSource",value:function(mName){var attr=this.getAttribute(mName);return attr?attr.source:[]}},{key:"vertices",get:function(){return this.getSource("aVertexPosition")}},{key:"normals",get:function(){return this.getSource("aNormal")}},{key:"coords",get:function(){return this.getSource("aTextureCoord")}},{key:"indices",get:function(){return this._indices}},{key:"vertexSize",get:function(){return this.vertices.length}},{key:"faces",get:function(){return this._faces}},{key:"attributes",get:function(){return this._attributes}},{key:"hasVAO",get:function(){return this._hasVAO}},{key:"vao",get:function(){return this._vao}},{key:"numInstance",get:function(){return this._numInstance}},{key:"isInstanced",get:function(){return this._isInstanced}}]),Mesh}();exports.default=Mesh},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),Batch=function(){function Batch(mMesh,mShader){_classCallCheck(this,Batch),this._mesh=mMesh,this._shader=mShader}return _createClass(Batch,[{key:"draw",value:function(){this._shader.bind(),_GLTool2.default.draw(this.mesh)}},{key:"mesh",get:function(){return this._mesh}},{key:"shader",get:function(){return this._shader}}]),Batch}();exports.default=Batch},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Mesh=__webpack_require__(5),_Mesh2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Mesh),Geom={},meshTri=void 0;Geom.plane=function(width,height,numSegments){for(var axis=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"xy",drawType=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,positions=[],coords=[],indices=[],normals=[],gapX=width/numSegments,gapY=height/numSegments,gapUV=1/numSegments,sx=.5*-width,sy=.5*-height,index=0,i=0;i<numSegments;i++)for(var j=0;j<numSegments;j++){var tx=gapX*i+sx,ty=gapY*j+sy,u=i/numSegments,v=j/numSegments;"xz"===axis?(positions.push([tx,0,ty+gapY]),positions.push([tx+gapX,0,ty+gapY]),positions.push([tx+gapX,0,ty]),positions.push([tx,0,ty]),coords.push([u,1-(v+gapUV)]),coords.push([u+gapUV,1-(v+gapUV)]),coords.push([u+gapUV,1-v]),coords.push([u,1-v]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0])):"yz"===axis?(positions.push([0,ty,tx]),positions.push([0,ty,tx+gapX]),positions.push([0,ty+gapY,tx+gapX]),positions.push([0,ty+gapY,tx]),coords.push([u,v]),coords.push([u+gapUV,v]),coords.push([u+gapUV,v+gapUV]),coords.push([u,v+gapUV]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0])):(positions.push([tx,ty,0]),positions.push([tx+gapX,ty,0]),positions.push([tx+gapX,ty+gapY,0]),positions.push([tx,ty+gapY,0]),coords.push([u,v]),coords.push([u+gapUV,v]),coords.push([u+gapUV,v+gapUV]),coords.push([u,v+gapUV]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1])),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++}var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.sphere=function(size,numSegments){function getPosition(i,j){var isNormal=arguments.length>2&&void 0!==arguments[2]&&arguments[2],rx=i/numSegments*Math.PI-.5*Math.PI,ry=j/numSegments*Math.PI*2,r=isNormal?1:size,pos=[];pos[1]=Math.sin(rx)*r;var t=Math.cos(rx)*r;pos[0]=Math.cos(ry)*t,pos[2]=Math.sin(ry)*t;return pos[0]=Math.floor(1e4*pos[0])/1e4,pos[1]=Math.floor(1e4*pos[1])/1e4,pos[2]=Math.floor(1e4*pos[2])/1e4,pos}for(var isInvert=arguments.length>2&&void 0!==arguments[2]&&arguments[2],drawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,positions=[],coords=[],indices=[],normals=[],gapUV=1/numSegments,index=0,i=0;i<numSegments;i++)for(var j=0;j<numSegments;j++){positions.push(getPosition(i,j)),positions.push(getPosition(i+1,j)),positions.push(getPosition(i+1,j+1)),positions.push(getPosition(i,j+1)),normals.push(getPosition(i,j,!0)),normals.push(getPosition(i+1,j,!0)),normals.push(getPosition(i+1,j+1,!0)),normals.push(getPosition(i,j+1,!0));var u=j/numSegments,v=i/numSegments;coords.push([1-u,v]),coords.push([1-u,v+gapUV]),coords.push([1-u-gapUV,v+gapUV]),coords.push([1-u-gapUV,v]),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++}isInvert&&indices.reverse();var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.cube=function(w,h,d){var drawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;h=h||w,d=d||w;var x=w/2,y=h/2,z=d/2,positions=[],coords=[],indices=[],normals=[],count=0;positions.push([-x,y,-z]),positions.push([x,y,-z]),positions.push([x,-y,-z]),positions.push([-x,-y,-z]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,-z]),positions.push([x,y,z]),positions.push([x,-y,z]),positions.push([x,-y,-z]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,z]),positions.push([-x,y,z]),positions.push([-x,-y,z]),positions.push([x,-y,z]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-x,y,z]),positions.push([-x,y,-z]),positions.push([-x,-y,-z]),positions.push([-x,-y,z]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,-z]),positions.push([-x,y,-z]),positions.push([-x,y,z]),positions.push([x,y,z]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,-y,z]),positions.push([-x,-y,z]),positions.push([-x,-y,-z]),positions.push([x,-y,-z]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++;var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.skybox=function(size){var drawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,positions=[],coords=[],indices=[],normals=[],count=0;positions.push([size,size,-size]),positions.push([-size,size,-size]),positions.push([-size,-size,-size]),positions.push([size,-size,-size]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,-size,-size]),positions.push([size,-size,size]),positions.push([size,size,size]),positions.push([size,size,-size]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-size,size,size]),positions.push([size,size,size]),positions.push([size,-size,size]),positions.push([-size,-size,size]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-size,-size,size]),positions.push([-size,-size,-size]),positions.push([-size,size,-size]),positions.push([-size,size,size]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,size,size]),positions.push([-size,size,size]),positions.push([-size,size,-size]),positions.push([size,size,-size]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,-size,-size]),positions.push([-size,-size,-size]),positions.push([-size,-size,size]),positions.push([size,-size,size]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3);var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.bigTriangle=function(){if(!meshTri){var indices=[2,1,0],positions=[[-1,-1],[-1,4],[4,-1]];meshTri=new _Mesh2.default,meshTri.bufferData(positions,"aPosition",2),meshTri.bufferIndex(indices)}return meshTri},exports.default=Geom},function(module,exports,__webpack_require__){"use strict";module.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6403:"RED",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33321:"R8",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(4),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),EaseNumber=function(){function EaseNumber(mValue){var _this=this,mEasing=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;_classCallCheck(this,EaseNumber),this.easing=mEasing,this._value=mValue,this._targetValue=mValue,this._efIndex=_scheduling2.default.addEF(function(){return _this._update()})}return _createClass(EaseNumber,[{key:"_update",value:function(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}},{key:"setTo",value:function(mValue){this._targetValue=this._value=mValue}},{key:"add",value:function(mAdd){this._targetValue+=mAdd}},{key:"limit",value:function(mMin,mMax){if(mMin>mMax)return void this.limit(mMax,mMin);this._min=mMin,this._max=mMax,this._checkLimit()}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"destroy",value:function(){_scheduling2.default.removeEF(this._efIndex)}},{key:"value",set:function(mValue){this._targetValue=mValue},get:function(){return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),EaseNumber}();exports.default=EaseNumber},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(2),a=_glMatrix.vec3.create(),b=_glMatrix.vec3.create(),c=_glMatrix.vec3.create(),target=_glMatrix.vec3.create(),edge1=_glMatrix.vec3.create(),edge2=_glMatrix.vec3.create(),normal=_glMatrix.vec3.create(),diff=_glMatrix.vec3.create(),Ray=function(){function Ray(mOrigin,mDirection){_classCallCheck(this,Ray),this.origin=_glMatrix.vec3.clone(mOrigin),this.direction=_glMatrix.vec3.clone(mDirection)}return _createClass(Ray,[{key:"at",value:function(t){return _glMatrix.vec3.copy(target,this.direction),_glMatrix.vec3.scale(target,target,t),_glMatrix.vec3.add(target,target,this.origin),target}},{key:"lookAt",value:function(mTarget){_glMatrix.vec3.sub(this.direction,mTarget,this.origin),_glMatrix.vec3.normalize(this.origin,this.origin)}},{key:"closestPointToPoint",value:function(mPoint){var result=_glMatrix.vec3.create();_glMatrix.vec3.sub(mPoint,this.origin);var directionDistance=_glMatrix.vec3.dot(result,this.direction);return directionDistance<0?_glMatrix.vec3.clone(this.origin):(_glMatrix.vec3.copy(result,this.direction),_glMatrix.vec3.scale(result,result,directionDistance),_glMatrix.vec3.add(result,result,this.origin),result)}},{key:"distanceToPoint",value:function(mPoint){return Math.sqrt(this.distanceSqToPoint(mPoint))}},{key:"distanceSqToPoint",value:function(mPoint){var v1=_glMatrix.vec3.create();_glMatrix.vec3.sub(v1,mPoint,this.origin);var directionDistance=_glMatrix.vec3.dot(v1,this.direction);return directionDistance<0?_glMatrix.vec3.squaredDistance(this.origin,mPoint):(_glMatrix.vec3.copy(v1,this.direction),_glMatrix.vec3.scale(v1,v1,directionDistance),_glMatrix.vec3.add(v1,v1,this.origin),_glMatrix.vec3.squaredDistance(v1,mPoint))}},{key:"intersectsSphere",value:function(mCenter,mRadius){return this.distanceToPoint(mCenter)<=mRadius}},{key:"intersectSphere",value:function(mCenter,mRadius){var v1=_glMatrix.vec3.create();_glMatrix.vec3.sub(v1,mCenter,this.origin);var tca=_glMatrix.vec3.dot(v1,this.direction),d2=_glMatrix.vec3.dot(v1,v1)-tca*tca,radius2=mRadius*mRadius;if(d2>radius2)return null;var thc=Math.sqrt(radius2-d2),t0=tca-thc,t1=tca+thc;return t0<0&&t1<0?null:t0<0?this.at(t1):this.at(t0)}},{key:"distanceToPlane",value:function(mPlaneCenter,mNormal){_glMatrix.vec3.dot(mNormal,this.direction)}},{key:"intersectTriangle",value:function(mPA,mPB,mPC){var backfaceCulling=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_glMatrix.vec3.copy(a,mPA),_glMatrix.vec3.copy(b,mPB),_glMatrix.vec3.copy(c,mPC),_glMatrix.vec3.sub(edge1,b,a),_glMatrix.vec3.sub(edge2,c,a),_glMatrix.vec3.cross(normal,edge1,edge2);var DdN=_glMatrix.vec3.dot(this.direction,normal),sign=void 0;if(DdN>0){if(backfaceCulling)return null;sign=1}else{if(!(DdN<0))return null;sign=-1,DdN=-DdN}_glMatrix.vec3.sub(diff,this.origin,a),_glMatrix.vec3.cross(edge2,diff,edge2);var DdQxE2=sign*_glMatrix.vec3.dot(this.direction,edge2);if(DdQxE2<0)return null;_glMatrix.vec3.cross(edge1,edge1,diff);var DdE1xQ=sign*_glMatrix.vec3.dot(this.direction,edge1);if(DdE1xQ<0)return null;if(DdQxE2+DdE1xQ>DdN)return null;var Qdn=-sign*_glMatrix.vec3.dot(diff,normal);return Qdn<0?null:this.at(Qdn/DdN)}}]),Ray}();exports.default=Ray},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(2),Camera=function(){function Camera(){_classCallCheck(this,Camera),this._matrix=_glMatrix.mat4.create(),this._quat=_glMatrix.quat.create(),this._orientation=_glMatrix.mat4.create(),this._projection=_glMatrix.mat4.create(),this.position=vec3.create()}return _createClass(Camera,[{key:"lookAt",value:function(aEye,aCenter){var aUp=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1,0];this._eye=vec3.clone(aEye),this._center=vec3.clone(aCenter),vec3.copy(this.position,aEye),_glMatrix.mat4.identity(this._matrix),_glMatrix.mat4.lookAt(this._matrix,aEye,aCenter,aUp)}},{key:"setFromOrientation",value:function(x,y,z,w){_glMatrix.quat.set(this._quat,x,y,z,w),_glMatrix.mat4.fromQuat(this._orientation,this._quat),_glMatrix.mat4.translate(this._matrix,this._orientation,this.positionOffset)}},{key:"setProjection",value:function(mProj){this._projection=_glMatrix.mat4.clone(mProj)}},{key:"setView",value:function(mView){this._matrix=_glMatrix.mat4.clone(mView)}},{key:"setFromViewProj",value:function(mView,mProj){this.setView(mView),this.setProjection(mProj)}},{key:"matrix",get:function(){return this._matrix}},{key:"viewMatrix",get:function(){return this._matrix}},{key:"projection",get:function(){return this._projection}},{key:"projectionMatrix",get:function(){return this._projection}},{key:"eye",get:function(){return this._eye}},{key:"center",get:function(){return this._center}}]),Camera}();exports.default=Camera},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Camera2=__webpack_require__(12),_Camera3=_interopRequireDefault(_Camera2),_Ray=__webpack_require__(11),_Ray2=_interopRequireDefault(_Ray),_glMatrix=__webpack_require__(2),mInverseViewProj=_glMatrix.mat4.create(),cameraDir=_glMatrix.vec3.create(),CameraPerspective=function(_Camera){function CameraPerspective(mFov,mAspectRatio,mNear,mFar){_classCallCheck(this,CameraPerspective);var _this=_possibleConstructorReturn(this,(CameraPerspective.__proto__||Object.getPrototypeOf(CameraPerspective)).call(this));return mFov&&_this.setPerspective(mFov,mAspectRatio,mNear,mFar),_this}return _inherits(CameraPerspective,_Camera),_createClass(CameraPerspective,[{key:"setPerspective",value:function(mFov,mAspectRatio,mNear,mFar){this._fov=mFov,this._near=mNear,this._far=mFar,this._aspectRatio=mAspectRatio,_glMatrix.mat4.perspective(this._projection,mFov,mAspectRatio,mNear,mFar)}},{key:"setAspectRatio",value:function(mAspectRatio){this._aspectRatio=mAspectRatio,_glMatrix.mat4.perspective(this.projection,this._fov,mAspectRatio,this._near,this._far)}},{key:"generateRay",value:function(mScreenPosition,mRay){var proj=this.projectionMatrix,view=this.viewMatrix;return _glMatrix.mat4.multiply(mInverseViewProj,proj,view),_glMatrix.mat4.invert(mInverseViewProj,mInverseViewProj),_glMatrix.vec3.transformMat4(cameraDir,mScreenPosition,mInverseViewProj),_glMatrix.vec3.sub(cameraDir,cameraDir,this.position),_glMatrix.vec3.normalize(cameraDir,cameraDir),mRay?(mRay.origin=this.position,mRay.direction=cameraDir):mRay=new _Ray2.default(this.position,cameraDir),mRay}}]),CameraPerspective}(_Camera3.default);exports.default=CameraPerspective},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BinaryLoader=function(){function BinaryLoader(){var _this=this,isArrayBuffer=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,BinaryLoader),this._req=new XMLHttpRequest,this._req.addEventListener("load",function(e){return _this._onLoaded(e)}),this._req.addEventListener("progress",function(e){return _this._onProgress(e)}),isArrayBuffer&&(this._req.responseType="arraybuffer")}return _createClass(BinaryLoader,[{key:"load",value:function(url,callback){console.log("Loading : ",url),this._callback=callback,this._req.open("GET",url),this._req.send()}},{key:"_onLoaded",value:function(){this._callback(this._req.response)}},{key:"_onProgress",value:function(){}}]),BinaryLoader}();exports.default=BinaryLoader},function(module,exports){module.exports="// bigTriangle.vert\n\n#define SHADER_NAME BIG_TRIANGLE_VERTEX\n\nprecision mediump float;\n#define GLSLIFY 1\nattribute vec2 aPosition;\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_Position = vec4(aPosition, 0.0, 1.0);\n    vTextureCoord = aPosition * .5 + .5;\n}"},function(module,exports){module.exports="// copy.frag\n\n#define SHADER_NAME COPY_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = texture2D(texture, vTextureCoord);\n}"},function(module,exports){module.exports="// simpleColor.frag\n\n#define SHADER_NAME SIMPLE_COLOR\n\nprecision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 color;\nuniform float opacity;\n\nvoid main(void) {\n    gl_FragColor = vec4(color, opacity);\n}"},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(9);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[5]=0,out[6]=0,out[7]=0),out[0]=1,out[4]=1,out[8]=1,out}function fromMat4(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[4],out[4]=a[5],out[5]=a[6],out[6]=a[8],out[7]=a[9],out[8]=a[10],out}function clone(a){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromValues(m00,m01,m02,m10,m11,m12,m20,m21,m22){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function set(out,m00,m01,m02,m10,m11,m12,m20,m21,m22){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,out[0]=b01*det,out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null}function adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return out[0]=a11*a22-a12*a21,out[1]=a02*a21-a01*a22,out[2]=a01*a12-a02*a11,out[3]=a12*a20-a10*a22,out[4]=a00*a22-a02*a20,out[5]=a02*a10-a00*a12,out[6]=a10*a21-a11*a20,out[7]=a01*a20-a00*a21,out[8]=a00*a11-a01*a10,out}function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)}function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out}function translate(out,a,v){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out}function rotate(out,a,rad){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out}function scale(out,a,v){var x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=v[0],out[7]=v[1],out[8]=1,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=-s,out[4]=c,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=v[1],out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromMat2d(out,a){return out[0]=a[0],out[1]=a[1],out[2]=0,out[3]=a[2],out[4]=a[3],out[5]=0,out[6]=a[4],out[7]=a[5],out[8]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out}function normalFromMat4(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a12*b08-a10*b11-a13*b07)*det,out[2]=(a10*b10-a11*b08+a13*b06)*det,out[3]=(a02*b10-a01*b11-a03*b09)*det,out[4]=(a00*b11-a02*b08+a03*b07)*det,out[5]=(a01*b08-a00*b10-a03*b06)*det,out[6]=(a31*b05-a32*b04+a33*b03)*det,out[7]=(a32*b02-a30*b05-a33*b01)*det,out[8]=(a30*b04-a31*b02+a33*b00)*det,out):null}function projection(out,width,height){return out[0]=2/width,out[1]=0,out[2]=0,out[3]=0,out[4]=-2/height,out[5]=0,out[6]=-1,out[7]=1,out[8]=1,out}function str(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.fromMat4=fromMat4,exports.clone=clone,exports.copy=copy,exports.fromValues=fromValues,exports.set=set,exports.identity=identity,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.translate=translate,exports.rotate=rotate,exports.scale=scale,exports.fromTranslation=fromTranslation,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.fromMat2d=fromMat2d,exports.fromQuat=fromQuat,exports.normalFromMat4=normalFromMat4,exports.projection=projection,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(16);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[11]=0,out[12]=0,out[13]=0,out[14]=0),out[0]=1,out[5]=1,out[10]=1,out[15]=1,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function fromValues(m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function set(out,m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a01,out[6]=a[9],out[7]=a[13],out[8]=a02,out[9]=a12,out[11]=a[14],out[12]=a03,out[13]=a13,out[14]=a23}else out[0]=a[0],out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a[1],out[5]=a[5],out[6]=a[9],out[7]=a[13],out[8]=a[2],out[9]=a[6],out[10]=a[10],out[11]=a[14],out[12]=a[3],out[13]=a[7],out[14]=a[11],out[15]=a[15];return out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out):null}function adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return out[0]=a11*(a22*a33-a23*a32)-a21*(a12*a33-a13*a32)+a31*(a12*a23-a13*a22),out[1]=-(a01*(a22*a33-a23*a32)-a21*(a02*a33-a03*a32)+a31*(a02*a23-a03*a22)),out[2]=a01*(a12*a33-a13*a32)-a11*(a02*a33-a03*a32)+a31*(a02*a13-a03*a12),out[3]=-(a01*(a12*a23-a13*a22)-a11*(a02*a23-a03*a22)+a21*(a02*a13-a03*a12)),out[4]=-(a10*(a22*a33-a23*a32)-a20*(a12*a33-a13*a32)+a30*(a12*a23-a13*a22)),out[5]=a00*(a22*a33-a23*a32)-a20*(a02*a33-a03*a32)+a30*(a02*a23-a03*a22),out[6]=-(a00*(a12*a33-a13*a32)-a10*(a02*a33-a03*a32)+a30*(a02*a13-a03*a12)),out[7]=a00*(a12*a23-a13*a22)-a10*(a02*a23-a03*a22)+a20*(a02*a13-a03*a12),out[8]=a10*(a21*a33-a23*a31)-a20*(a11*a33-a13*a31)+a30*(a11*a23-a13*a21),out[9]=-(a00*(a21*a33-a23*a31)-a20*(a01*a33-a03*a31)+a30*(a01*a23-a03*a21)),out[10]=a00*(a11*a33-a13*a31)-a10*(a01*a33-a03*a31)+a30*(a01*a13-a03*a11),out[11]=-(a00*(a11*a23-a13*a21)-a10*(a01*a23-a03*a21)+a20*(a01*a13-a03*a11)),out[12]=-(a10*(a21*a32-a22*a31)-a20*(a11*a32-a12*a31)+a30*(a11*a22-a12*a21)),out[13]=a00*(a21*a32-a22*a31)-a20*(a01*a32-a02*a31)+a30*(a01*a22-a02*a21),out[14]=-(a00*(a11*a32-a12*a31)-a10*(a01*a32-a02*a31)+a30*(a01*a12-a02*a11)),out[15]=a00*(a11*a22-a12*a21)-a10*(a01*a22-a02*a21)+a20*(a01*a12-a02*a11),out}function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return(a00*a11-a01*a10)*(a22*a33-a23*a32)-(a00*a12-a02*a10)*(a21*a33-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a33-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)}function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out}function translate(out,a,v){var x=v[0],y=v[1],z=v[2],a00=void 0,a01=void 0,a02=void 0,a03=void 0,a10=void 0,a11=void 0,a12=void 0,a13=void 0,a20=void 0,a21=void 0,a22=void 0,a23=void 0;return a===out?(out[12]=a[0]*x+a[4]*y+a[8]*z+a[12],out[13]=a[1]*x+a[5]*y+a[9]*z+a[13],out[14]=a[2]*x+a[6]*y+a[10]*z+a[14],out[15]=a[3]*x+a[7]*y+a[11]*z+a[15]):(a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a03,out[4]=a10,out[5]=a11,out[6]=a12,out[7]=a13,out[8]=a20,out[9]=a21,out[10]=a22,out[11]=a23,out[12]=a00*x+a10*y+a20*z+a[12],out[13]=a01*x+a11*y+a21*z+a[13],out[14]=a02*x+a12*y+a22*z+a[14],out[15]=a03*x+a13*y+a23*z+a[15]),out}function scale(out,a,v){var x=v[0],y=v[1],z=v[2];return out[0]=a[0]*x,out[1]=a[1]*x,out[2]=a[2]*x,out[3]=a[3]*x,out[4]=a[4]*y,out[5]=a[5]*y,out[6]=a[6]*y,out[7]=a[7]*y,out[8]=a[8]*z,out[9]=a[9]*z,out[10]=a[10]*z,out[11]=a[11]*z,out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function rotate(out,a,rad,axis){var x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z),s=void 0,c=void 0,t=void 0,a00=void 0,a01=void 0,a02=void 0,a03=void 0,a10=void 0,a11=void 0,a12=void 0,a13=void 0,a20=void 0,a21=void 0,a22=void 0,a23=void 0,b00=void 0,b01=void 0,b02=void 0,b10=void 0,b11=void 0,b12=void 0,b20=void 0,b21=void 0,b22=void 0;return len<glMatrix.EPSILON?null:(len=1/len,x*=len,y*=len,z*=len,s=Math.sin(rad),c=Math.cos(rad),t=1-c,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],b00=x*x*t+c,b01=y*x*t+z*s,b02=z*x*t-y*s,b10=x*y*t-z*s,b11=y*y*t+c,b12=z*y*t+x*s,b20=x*z*t+y*s,b21=y*z*t-x*s,b22=z*z*t+c,out[0]=a00*b00+a10*b01+a20*b02,out[1]=a01*b00+a11*b01+a21*b02,out[2]=a02*b00+a12*b01+a22*b02,out[3]=a03*b00+a13*b01+a23*b02,out[4]=a00*b10+a10*b11+a20*b12,out[5]=a01*b10+a11*b11+a21*b12,out[6]=a02*b10+a12*b11+a22*b12,out[7]=a03*b10+a13*b11+a23*b12,out[8]=a00*b20+a10*b21+a20*b22,out[9]=a01*b20+a11*b21+a21*b22,out[10]=a02*b20+a12*b21+a22*b22,out[11]=a03*b20+a13*b21+a23*b22,a!==out&&(out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out)}function rotateX(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[4]=a10*c+a20*s,out[5]=a11*c+a21*s,out[6]=a12*c+a22*s,out[7]=a13*c+a23*s,out[8]=a20*c-a10*s,out[9]=a21*c-a11*s,out[10]=a22*c-a12*s,out[11]=a23*c-a13*s,out}function rotateY(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c-a20*s,out[1]=a01*c-a21*s,out[2]=a02*c-a22*s,out[3]=a03*c-a23*s,out[8]=a00*s+a20*c,out[9]=a01*s+a21*c,out[10]=a02*s+a22*c,out[11]=a03*s+a23*c,out}function rotateZ(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];return a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c+a10*s,out[1]=a01*c+a11*s,out[2]=a02*c+a12*s,out[3]=a03*c+a13*s,out[4]=a10*c-a00*s,out[5]=a11*c-a01*s,out[6]=a12*c-a02*s,out[7]=a13*c-a03*s,out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=v[1],out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=v[2],out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotation(out,rad,axis){var x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z),s=void 0,c=void 0,t=void 0;return len<glMatrix.EPSILON?null:(len=1/len,x*=len,y*=len,z*=len,s=Math.sin(rad),c=Math.cos(rad),t=1-c,out[0]=x*x*t+c,out[1]=y*x*t+z*s,out[2]=z*x*t-y*s,out[3]=0,out[4]=x*y*t-z*s,out[5]=y*y*t+c,out[6]=z*y*t+x*s,out[7]=0,out[8]=x*z*t+y*s,out[9]=y*z*t-x*s,out[10]=z*z*t+c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out)}function fromXRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=c,out[6]=s,out[7]=0,out[8]=0,out[9]=-s,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromYRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=0,out[2]=-s,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=s,out[9]=0,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromZRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=0,out[4]=-s,out[5]=c,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotationTranslation(out,q,v){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-(yy+zz),out[1]=xy+wz,out[2]=xz-wy,out[3]=0,out[4]=xy-wz,out[5]=1-(xx+zz),out[6]=yz+wx,out[7]=0,out[8]=xz+wy,out[9]=yz-wx,out[10]=1-(xx+yy),out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromQuat2(out,a){var translation=new glMatrix.ARRAY_TYPE(3),bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],magnitude=bx*bx+by*by+bz*bz+bw*bw;return magnitude>0?(translation[0]=2*(ax*bw+aw*bx+ay*bz-az*by)/magnitude,translation[1]=2*(ay*bw+aw*by+az*bx-ax*bz)/magnitude,translation[2]=2*(az*bw+aw*bz+ax*by-ay*bx)/magnitude):(translation[0]=2*(ax*bw+aw*bx+ay*bz-az*by),translation[1]=2*(ay*bw+aw*by+az*bx-ax*bz),translation[2]=2*(az*bw+aw*bz+ax*by-ay*bx)),fromRotationTranslation(out,a,translation),out}function getTranslation(out,mat){return out[0]=mat[12],out[1]=mat[13],out[2]=mat[14],out}function getScaling(out,mat){var m11=mat[0],m12=mat[1],m13=mat[2],m21=mat[4],m22=mat[5],m23=mat[6],m31=mat[8],m32=mat[9],m33=mat[10];return out[0]=Math.sqrt(m11*m11+m12*m12+m13*m13),out[1]=Math.sqrt(m21*m21+m22*m22+m23*m23),out[2]=Math.sqrt(m31*m31+m32*m32+m33*m33),out}function getRotation(out,mat){var trace=mat[0]+mat[5]+mat[10],S=0;return trace>0?(S=2*Math.sqrt(trace+1),out[3]=.25*S,out[0]=(mat[6]-mat[9])/S,out[1]=(mat[8]-mat[2])/S,out[2]=(mat[1]-mat[4])/S):mat[0]>mat[5]&&mat[0]>mat[10]?(S=2*Math.sqrt(1+mat[0]-mat[5]-mat[10]),out[3]=(mat[6]-mat[9])/S,out[0]=.25*S,out[1]=(mat[1]+mat[4])/S,out[2]=(mat[8]+mat[2])/S):mat[5]>mat[10]?(S=2*Math.sqrt(1+mat[5]-mat[0]-mat[10]),out[3]=(mat[8]-mat[2])/S,out[0]=(mat[1]+mat[4])/S,out[1]=.25*S,out[2]=(mat[6]+mat[9])/S):(S=2*Math.sqrt(1+mat[10]-mat[0]-mat[5]),out[3]=(mat[1]-mat[4])/S,out[0]=(mat[8]+mat[2])/S,out[1]=(mat[6]+mat[9])/S,out[2]=.25*S),out}function fromRotationTranslationScale(out,q,v,s){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromRotationTranslationScaleOrigin(out,q,v,s,o){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2],ox=o[0],oy=o[1],oz=o[2],out0=(1-(yy+zz))*sx,out1=(xy+wz)*sx,out2=(xz-wy)*sx,out4=(xy-wz)*sy,out5=(1-(xx+zz))*sy,out6=(yz+wx)*sy,out8=(xz+wy)*sz,out9=(yz-wx)*sz,out10=(1-(xx+yy))*sz;return out[0]=out0,out[1]=out1,out[2]=out2,out[3]=0,out[4]=out4,out[5]=out5,out[6]=out6,out[7]=0,out[8]=out8,out[9]=out9,out[10]=out10,out[11]=0,out[12]=v[0]+ox-(out0*ox+out4*oy+out8*oz),out[13]=v[1]+oy-(out1*ox+out5*oy+out9*oz),out[14]=v[2]+oz-(out2*ox+out6*oy+out10*oz),out[15]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[1]=yx+wz,out[2]=zx-wy,out[3]=0,out[4]=yx-wz,out[5]=1-xx-zz,out[6]=zy+wx,out[7]=0,out[8]=zx+wy,out[9]=zy-wx,out[10]=1-xx-yy,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function frustum(out,left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return out[0]=2*near*rl,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=2*near*tb,out[6]=0,out[7]=0,out[8]=(right+left)*rl,out[9]=(top+bottom)*tb,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near*2*nf,out[15]=0,out}function perspective(out,fovy,aspect,near,far){var f=1/Math.tan(fovy/2),nf=void 0;return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[11]=-1,out[12]=0,out[13]=0,out[15]=0,null!=far&&far!==1/0?(nf=1/(near-far),out[10]=(far+near)*nf,out[14]=2*far*near*nf):(out[10]=-1,out[14]=-2*near),out}function perspectiveFromFieldOfView(out,fov,near,far){var upTan=Math.tan(fov.upDegrees*Math.PI/180),downTan=Math.tan(fov.downDegrees*Math.PI/180),leftTan=Math.tan(fov.leftDegrees*Math.PI/180),rightTan=Math.tan(fov.rightDegrees*Math.PI/180),xScale=2/(leftTan+rightTan),yScale=2/(upTan+downTan);return out[0]=xScale,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=yScale,out[6]=0,out[7]=0,out[8]=-(leftTan-rightTan)*xScale*.5,out[9]=(upTan-downTan)*yScale*.5,out[10]=far/(near-far),out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near/(near-far),out[15]=0,out}function ortho(out,left,right,bottom,top,near,far){var lr=1/(left-right),bt=1/(bottom-top),nf=1/(near-far);return out[0]=-2*lr,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=-2*bt,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=2*nf,out[11]=0,out[12]=(left+right)*lr,out[13]=(top+bottom)*bt,out[14]=(far+near)*nf,out[15]=1,out}function lookAt(out,eye,center,up){var x0=void 0,x1=void 0,x2=void 0,y0=void 0,y1=void 0,y2=void 0,z0=void 0,z1=void 0,z2=void 0,len=void 0,eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],centerx=center[0],centery=center[1],centerz=center[2];return Math.abs(eyex-centerx)<glMatrix.EPSILON&&Math.abs(eyey-centery)<glMatrix.EPSILON&&Math.abs(eyez-centerz)<glMatrix.EPSILON?identity(out):(z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,len=1/Math.sqrt(z0*z0+z1*z1+z2*z2),z0*=len,z1*=len,z2*=len,x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0,len=Math.sqrt(x0*x0+x1*x1+x2*x2),len?(len=1/len,x0*=len,x1*=len,x2*=len):(x0=0,x1=0,x2=0),y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0,len=Math.sqrt(y0*y0+y1*y1+y2*y2),len?(len=1/len,y0*=len,y1*=len,y2*=len):(y0=0,y1=0,y2=0),out[0]=x0,out[1]=y0,out[2]=z0,out[3]=0,out[4]=x1,out[5]=y1,out[6]=z1,out[7]=0,out[8]=x2,out[9]=y2,out[10]=z2,out[11]=0,out[12]=-(x0*eyex+x1*eyey+x2*eyez),out[13]=-(y0*eyex+y1*eyey+y2*eyez),out[14]=-(z0*eyex+z1*eyey+z2*eyez),out[15]=1,out)}function targetTo(out,eye,target,up){var eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],z0=eyex-target[0],z1=eyey-target[1],z2=eyez-target[2],len=z0*z0+z1*z1+z2*z2;len>0&&(len=1/Math.sqrt(len),z0*=len,z1*=len,z2*=len);var x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0;return len=x0*x0+x1*x1+x2*x2,len>0&&(len=1/Math.sqrt(len),x0*=len,x1*=len,x2*=len),out[0]=x0,out[1]=x1,out[2]=x2,out[3]=0,out[4]=z1*x2-z2*x1,out[5]=z2*x0-z0*x2,out[6]=z0*x1-z1*x0,out[7]=0,out[8]=z0,out[9]=z1,out[10]=z2,out[11]=0,out[12]=eyex,out[13]=eyey,out[14]=eyez,out[15]=1,out}function str(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out[9]=a[9]+b[9],out[10]=a[10]+b[10],out[11]=a[11]+b[11],out[12]=a[12]+b[12],out[13]=a[13]+b[13],out[14]=a[14]+b[14],out[15]=a[15]+b[15],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out[9]=a[9]-b[9],out[10]=a[10]-b[10],out[11]=a[11]-b[11],out[12]=a[12]-b[12],out[13]=a[13]-b[13],out[14]=a[14]-b[14],out[15]=a[15]-b[15],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out[9]=a[9]*b,out[10]=a[10]*b,out[11]=a[11]*b,out[12]=a[12]*b,out[13]=a[13]*b,out[14]=a[14]*b,out[15]=a[15]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out[9]=a[9]+b[9]*scale,out[10]=a[10]+b[10]*scale,out[11]=a[11]+b[11]*scale,out[12]=a[12]+b[12]*scale,out[13]=a[13]+b[13]*scale,out[14]=a[14]+b[14]*scale,out[15]=a[15]+b[15]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],a9=a[9],a10=a[10],a11=a[11],a12=a[12],a13=a[13],a14=a[14],a15=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))&&Math.abs(a9-b9)<=glMatrix.EPSILON*Math.max(1,Math.abs(a9),Math.abs(b9))&&Math.abs(a10-b10)<=glMatrix.EPSILON*Math.max(1,Math.abs(a10),Math.abs(b10))&&Math.abs(a11-b11)<=glMatrix.EPSILON*Math.max(1,Math.abs(a11),Math.abs(b11))&&Math.abs(a12-b12)<=glMatrix.EPSILON*Math.max(1,Math.abs(a12),Math.abs(b12))&&Math.abs(a13-b13)<=glMatrix.EPSILON*Math.max(1,Math.abs(a13),Math.abs(b13))&&Math.abs(a14-b14)<=glMatrix.EPSILON*Math.max(1,Math.abs(a14),Math.abs(b14))&&Math.abs(a15-b15)<=glMatrix.EPSILON*Math.max(1,Math.abs(a15),Math.abs(b15))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.fromValues=fromValues,exports.set=set,exports.identity=identity,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.translate=translate,exports.scale=scale,exports.rotate=rotate,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.fromTranslation=fromTranslation,exports.fromScaling=fromScaling,exports.fromRotation=fromRotation,exports.fromXRotation=fromXRotation,exports.fromYRotation=fromYRotation,exports.fromZRotation=fromZRotation,exports.fromRotationTranslation=fromRotationTranslation,exports.fromQuat2=fromQuat2,exports.getTranslation=getTranslation,exports.getScaling=getScaling,exports.getRotation=getRotation,exports.fromRotationTranslationScale=fromRotationTranslationScale,exports.fromRotationTranslationScaleOrigin=fromRotationTranslationScaleOrigin,exports.fromQuat=fromQuat,exports.frustum=frustum,exports.perspective=perspective,exports.perspectiveFromFieldOfView=perspectiveFromFieldOfView,exports.ortho=ortho,exports.lookAt=lookAt,exports.targetTo=targetTo,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function create(){var out=new glMatrix.ARRAY_TYPE(4);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out[3]=1,out}function identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}function setAxisAngle(out,axis,rad){rad*=.5;var s=Math.sin(rad);return out[0]=s*axis[0],out[1]=s*axis[1],out[2]=s*axis[2],out[3]=Math.cos(rad),out}function getAxisAngle(out_axis,q){var rad=2*Math.acos(q[3]),s=Math.sin(rad/2);return s>glMatrix.EPSILON?(out_axis[0]=q[0]/s,out_axis[1]=q[1]/s,out_axis[2]=q[2]/s):(out_axis[0]=1,out_axis[1]=0,out_axis[2]=0),rad}function multiply(out,a,b){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return out[0]=ax*bw+aw*bx+ay*bz-az*by,out[1]=ay*bw+aw*by+az*bx-ax*bz,out[2]=az*bw+aw*bz+ax*by-ay*bx,out[3]=aw*bw-ax*bx-ay*by-az*bz,out}function rotateX(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+aw*bx,out[1]=ay*bw+az*bx,out[2]=az*bw-ay*bx,out[3]=aw*bw-ax*bx,out}function rotateY(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],by=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw-az*by,out[1]=ay*bw+aw*by,out[2]=az*bw+ax*by,out[3]=aw*bw-ay*by,out}function rotateZ(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bz=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+ay*bz,out[1]=ay*bw-ax*bz,out[2]=az*bw+aw*bz,out[3]=aw*bw-az*bz,out}function calculateW(out,a){var x=a[0],y=a[1],z=a[2];return out[0]=x,out[1]=y,out[2]=z,out[3]=Math.sqrt(Math.abs(1-x*x-y*y-z*z)),out}function slerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3],omega=void 0,cosom=void 0,sinom=void 0,scale0=void 0,scale1=void 0;return cosom=ax*bx+ay*by+az*bz+aw*bw,cosom<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw),1-cosom>glMatrix.EPSILON?(omega=Math.acos(cosom),sinom=Math.sin(omega),scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom):(scale0=1-t,scale1=t),out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out}function random(out){var u1=glMatrix.RANDOM(),u2=glMatrix.RANDOM(),u3=glMatrix.RANDOM(),sqrt1MinusU1=Math.sqrt(1-u1),sqrtU1=Math.sqrt(u1);return out[0]=sqrt1MinusU1*Math.sin(2*Math.PI*u2),out[1]=sqrt1MinusU1*Math.cos(2*Math.PI*u2),out[2]=sqrtU1*Math.sin(2*Math.PI*u3),out[3]=sqrtU1*Math.cos(2*Math.PI*u3),out}function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return out[0]=-a0*invDot,out[1]=-a1*invDot,out[2]=-a2*invDot,out[3]=a3*invDot,out}function conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out}function fromMat3(out,m){var fTrace=m[0]+m[4]+m[8],fRoot=void 0;if(fTrace>0)fRoot=Math.sqrt(fTrace+1),out[3]=.5*fRoot,fRoot=.5/fRoot,out[0]=(m[5]-m[7])*fRoot,out[1]=(m[6]-m[2])*fRoot,out[2]=(m[1]-m[3])*fRoot;else{var i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);var j=(i+1)%3,k=(i+2)%3;fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),out[i]=.5*fRoot,fRoot=.5/fRoot,out[3]=(m[3*j+k]-m[3*k+j])*fRoot,out[j]=(m[3*j+i]+m[3*i+j])*fRoot,out[k]=(m[3*k+i]+m[3*i+k])*fRoot}return out}function fromEuler(out,x,y,z){var halfToRad=.5*Math.PI/180;x*=halfToRad,y*=halfToRad,z*=halfToRad;var sx=Math.sin(x),cx=Math.cos(x),sy=Math.sin(y),cy=Math.cos(y),sz=Math.sin(z),cz=Math.cos(z);return out[0]=sx*cy*cz-cx*sy*sz,out[1]=cx*sy*cz+sx*cy*sz,out[2]=cx*cy*sz-sx*sy*cz,out[3]=cx*cy*cz+sx*sy*sz,out}function str(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAxes=exports.sqlerp=exports.rotationTo=exports.equals=exports.exactEquals=exports.normalize=exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.lerp=exports.dot=exports.scale=exports.mul=exports.add=exports.set=exports.copy=exports.fromValues=exports.clone=void 0,exports.create=create,exports.identity=identity,exports.setAxisAngle=setAxisAngle,exports.getAxisAngle=getAxisAngle,exports.multiply=multiply,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.calculateW=calculateW,exports.slerp=slerp,exports.random=random,exports.invert=invert,exports.conjugate=conjugate,exports.fromMat3=fromMat3,exports.fromEuler=fromEuler,exports.str=str;var _common=__webpack_require__(3),glMatrix=_interopRequireWildcard(_common),_mat=__webpack_require__(18),mat3=_interopRequireWildcard(_mat),_vec=__webpack_require__(21),vec3=_interopRequireWildcard(_vec),_vec2=__webpack_require__(22),vec4=_interopRequireWildcard(_vec2),length=(exports.clone=vec4.clone,exports.fromValues=vec4.fromValues,exports.copy=vec4.copy,exports.set=vec4.set,exports.add=vec4.add,exports.mul=multiply,exports.scale=vec4.scale,exports.dot=vec4.dot,exports.lerp=vec4.lerp,exports.length=vec4.length),squaredLength=(exports.len=length,exports.squaredLength=vec4.squaredLength),normalize=(exports.sqrLen=squaredLength,exports.normalize=vec4.normalize);exports.exactEquals=vec4.exactEquals,exports.equals=vec4.equals,exports.rotationTo=function(){var tmpvec3=vec3.create(),xUnitVec3=vec3.fromValues(1,0,0),yUnitVec3=vec3.fromValues(0,1,0);return function(out,a,b){var dot=vec3.dot(a,b);return dot<-.999999?(vec3.cross(tmpvec3,xUnitVec3,a),vec3.len(tmpvec3)<1e-6&&vec3.cross(tmpvec3,yUnitVec3,a),vec3.normalize(tmpvec3,tmpvec3),setAxisAngle(out,tmpvec3,Math.PI),out):dot>.999999?(out[0]=0,out[1]=0,out[2]=0,out[3]=1,out):(vec3.cross(tmpvec3,a,b),out[0]=tmpvec3[0],out[1]=tmpvec3[1],out[2]=tmpvec3[2],out[3]=1+dot,normalize(out,out))}}(),exports.sqlerp=function(){var temp1=create(),temp2=create();return function(out,a,b,c,d,t){return slerp(temp1,a,d,t),slerp(temp2,b,c,t),slerp(out,temp1,temp2,2*t*(1-t)),out}}(),exports.setAxes=function(){var matr=mat3.create();return function(out,view,right,up){return matr[0]=right[0],matr[3]=right[1],matr[6]=right[2],matr[1]=up[0],matr[4]=up[1],matr[7]=up[2],matr[2]=-view[0],matr[5]=-view[1],matr[8]=-view[2],normalize(out,fromMat3(out,matr))}}()},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(3);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out}function clone(a){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function length(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)}function fromValues(x,y,z){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=x,out[1]=y,out[2]=z,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function set(out,x,y,z){return out[0]=x,out[1]=y,out[2]=z,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.sqrt(x*x+y*y+z*z)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return x*x+y*y+z*z}function squaredLength(a){var x=a[0],y=a[1],z=a[2];return x*x+y*y+z*z}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out}function normalize(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cross(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out}function hermite(out,a,b,c,d,t){var factorTimes2=t*t,factor1=factorTimes2*(2*t-3)+1,factor2=factorTimes2*(t-2)+t,factor3=factorTimes2*(t-1),factor4=factorTimes2*(3-2*t);return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function bezier(out,a,b,c,d,t){var inverseFactor=1-t,inverseFactorTimesTwo=inverseFactor*inverseFactor,factorTimes2=t*t,factor1=inverseFactorTimesTwo*inverseFactor,factor2=3*t*inverseFactorTimesTwo,factor3=3*factorTimes2*inverseFactor,factor4=factorTimes2*t;return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function random(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI,z=2*glMatrix.RANDOM()-1,zScale=Math.sqrt(1-z*z)*scale;return out[0]=Math.cos(r)*zScale,out[1]=Math.sin(r)*zScale,out[2]=z*scale,out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return w=w||1,out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/w,out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out}function transformMat3(out,a,m){var x=a[0],y=a[1],z=a[2];return out[0]=x*m[0]+y*m[3]+z*m[6],out[1]=x*m[1]+y*m[4]+z*m[7],out[2]=x*m[2]+y*m[5]+z*m[8],out}function transformQuat(out,a,q){var qx=q[0],qy=q[1],qz=q[2],qw=q[3],x=a[0],y=a[1],z=a[2],uvx=qy*z-qz*y,uvy=qz*x-qx*z,uvz=qx*y-qy*x,uuvx=qy*uvz-qz*uvy,uuvy=qz*uvx-qx*uvz,uuvz=qx*uvy-qy*uvx,w2=2*qw;return uvx*=w2,uvy*=w2,uvz*=w2,uuvx*=2,uuvy*=2,uuvz*=2,out[0]=x+uvx+uuvx,out[1]=y+uvy+uuvy,out[2]=z+uvz+uuvz,out}function rotateX(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0],r[1]=p[1]*Math.cos(c)-p[2]*Math.sin(c),r[2]=p[1]*Math.sin(c)+p[2]*Math.cos(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function rotateY(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[2]*Math.sin(c)+p[0]*Math.cos(c),r[1]=p[1],r[2]=p[2]*Math.cos(c)-p[0]*Math.sin(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function rotateZ(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0]*Math.cos(c)-p[1]*Math.sin(c),r[1]=p[0]*Math.sin(c)+p[1]*Math.cos(c),r[2]=p[2],out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function angle(a,b){var tempA=fromValues(a[0],a[1],a[2]),tempB=fromValues(b[0],b[1],b[2]);normalize(tempA,tempA),normalize(tempB,tempB);var cosine=dot(tempA,tempB);return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)}function str(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],b0=b[0],b1=b[1],b2=b[2];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0,exports.create=create,exports.clone=clone,exports.length=length,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.cross=cross,exports.lerp=lerp,exports.hermite=hermite,exports.bezier=bezier,exports.random=random,exports.transformMat4=transformMat4,exports.transformMat3=transformMat3,exports.transformQuat=transformQuat,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.angle=angle,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.len=length,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=3),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2];return a}}()},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(4);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0,out[3]=0),out}function clone(a){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function fromValues(x,y,z,w){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function set(out,x,y,z,w){return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out[3]=a[3]*b[3],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out[3]=a[3]/b[3],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out[3]=Math.ceil(a[3]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out[3]=Math.floor(a[3]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out[3]=Math.min(a[3],b[3]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out[3]=Math.max(a[3],b[3]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out[3]=Math.round(a[3]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return x*x+y*y+z*z+w*w}function length(a){var x=a[0],y=a[1],z=a[2],w=a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function squaredLength(a){var x=a[0],y=a[1],z=a[2],w=a[3];return x*x+y*y+z*z+w*w}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=-a[3],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out[3]=1/a[3],out}function normalize(out,a){var x=a[0],y=a[1],z=a[2],w=a[3],len=x*x+y*y+z*z+w*w;return len>0&&(len=1/Math.sqrt(len),out[0]=x*len,out[1]=y*len,out[2]=z*len,out[3]=w*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out[3]=aw+t*(b[3]-aw),out}function random(out,scale){scale=scale||1;var v1,v2,v3,v4,s1,s2;do{v1=2*glMatrix.RANDOM()-1,v2=2*glMatrix.RANDOM()-1,s1=v1*v1+v2*v2}while(s1>=1);do{v3=2*glMatrix.RANDOM()-1,v4=2*glMatrix.RANDOM()-1,s2=v3*v3+v4*v4}while(s2>=1);var d=Math.sqrt((1-s1)/s2);return out[0]=scale*v1,out[1]=scale*v2,out[2]=scale*v3*d,out[3]=scale*v4*d,out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=a[3];return out[0]=m[0]*x+m[4]*y+m[8]*z+m[12]*w,out[1]=m[1]*x+m[5]*y+m[9]*z+m[13]*w,out[2]=m[2]*x+m[6]*y+m[10]*z+m[14]*w,out[3]=m[3]*x+m[7]*y+m[11]*z+m[15]*w,out}function transformQuat(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out[3]=a[3],out}function str(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0,exports.create=create,exports.clone=clone,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.length=length,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.lerp=lerp,exports.random=random,exports.transformMat4=transformMat4,exports.transformQuat=transformQuat,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.len=length,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=4),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],vec[3]=a[i+3],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2],a[i+3]=vec[3];return a}}()},function(module,exports,__webpack_require__){"use strict";module.exports={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,RED:6403,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0,R8:33321}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(gl,shaderProgram,name){return void 0===shaderProgram.cacheAttribLoc&&(shaderProgram.cacheAttribLoc={}),void 0===shaderProgram.cacheAttribLoc[name]&&(shaderProgram.cacheAttribLoc[name]=gl.getAttribLocation(shaderProgram,name)),shaderProgram.cacheAttribLoc[name]}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}function isSourcePowerOfTwo(obj){var w=obj.width||obj.videoWidth,h=obj.height||obj.videoHeight;return!(!w||!h)&&(isPowerOfTwo(w)&&isPowerOfTwo(h))}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_WebglNumber=__webpack_require__(8),gl=(_interopRequireDefault(_WebglNumber),void 0),GLTexture=function(){function GLTexture(mSource){var isTexture=arguments.length>1&&void 0!==arguments[1]&&arguments[1],mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_classCallCheck(this,GLTexture),gl=_GLTool2.default.gl,isTexture)this._texture=mSource;else{this._mSource=mSource,this._texture=gl.createTexture(),this._isVideo="VIDEO"===mSource.tagName,this._premultiplyAlpha=!0,this._magFilter=mParameters.magFilter||gl.LINEAR,this._minFilter=mParameters.minFilter||gl.NEAREST_MIPMAP_LINEAR,this._wrapS=mParameters.wrapS||gl.MIRRORED_REPEAT,this._wrapT=mParameters.wrapT||gl.MIRRORED_REPEAT;mSource.width||mSource.videoWidth?isSourcePowerOfTwo(mSource)||(this._wrapS=this._wrapT=gl.CLAMP_TO_EDGE,this._minFilter===gl.NEAREST_MIPMAP_LINEAR&&(this._minFilter=gl.LINEAR)):(this._wrapS=this._wrapT=gl.CLAMP_TO_EDGE,this._minFilter===gl.NEAREST_MIPMAP_LINEAR&&(this._minFilter=gl.LINEAR)),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),mSource.exposure?gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,mSource.shape[0],mSource.shape[1],0,gl.RGBA,gl.FLOAT,mSource.data):gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._wrapT);var ext=_GLTool2.default.getExtension("EXT_texture_filter_anisotropic");if(ext){var max=gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT);gl.texParameterf(gl.TEXTURE_2D,ext.TEXTURE_MAX_ANISOTROPY_EXT,max)}this._canGenerateMipmap()&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}}return _createClass(GLTexture,[{key:"generateMipmap",value:function(){this._canGenerateMipmap()&&(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null))}},{key:"updateTexture",value:function(mSource){mSource&&(this._mSource=mSource),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,this._mSource),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),this._canGenerateMipmap()&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"bind",value:function(index){void 0===index&&(index=0),_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),gl.bindTexture(gl.TEXTURE_2D,this._texture),this._bindIndex=index)}},{key:"_canGenerateMipmap",value:function(){return this._minFilter===gl.LINEAR_MIPMAP_NEAREST||this._minFilter===gl.NEAREST_MIPMAP_LINEAR||this._minFilter===gl.LINEAR_MIPMAP_LINEAR||this._minFilter===gl.NEAREST_MIPMAP_NEAREST}},{key:"minFilter",set:function(mValue){if(mValue!==gl.LINEAR&&mValue!==gl.NEAREST&&mValue!==gl.NEAREST_MIPMAP_LINEAR&&mValue!==gl.NEAREST_MIPMAP_LINEAR&&mValue!==gl.LINEAR_MIPMAP_LINEAR&&mValue!==gl.NEAREST_MIPMAP_NEAREST)return this;this._minFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._minFilter}},{key:"magFilter",set:function(mValue){if(mValue!==gl.LINEAR&&mValue!==gl.NEAREST)return this;this._magFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._magFilter}},{key:"wrapS",set:function(mValue){if(mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT)return this;this._wrapS=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._wrapS),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._wrapS}},{key:"wrapT",set:function(mValue){if(mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT)return this;this._wrapT=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._wrapT),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._wrapT}},{key:"premultiplyAlpha",set:function(mValue){this._premultiplyAlpha=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),console.log("premultiplyAlpha:",mValue),gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._premultiplyAlpha}},{key:"texture",get:function(){return this._texture}}]),GLTexture}(),_whiteTexture=void 0,_greyTexture=void 0,_blackTexture=void 0;GLTexture.whiteTexture=function(){if(void 0===_whiteTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="#fff",ctx.fillRect(0,0,4,4),_whiteTexture=new GLTexture(canvas)}return _whiteTexture},GLTexture.greyTexture=function(){if(void 0===_greyTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(127, 127, 127)",ctx.fillRect(0,0,4,4),_greyTexture=new GLTexture(canvas)}return _greyTexture},GLTexture.blackTexture=function(){if(void 0===_blackTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(127, 127, 127)",ctx.fillRect(0,0,4,4),_blackTexture=new GLTexture(canvas)}return _blackTexture},exports.default=GLTexture},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}function getSourceType(mSource){var type=_GLTool2.default.UNSIGNED_BYTE;return mSource instanceof Array?type=_GLTool2.default.UNSIGNED_BYTE:mSource instanceof Uint8Array?type=_GLTool2.default.UNSIGNED_BYTE:mSource instanceof Float32Array?type=_GLTool2.default.FLOAT:mSource instanceof HTMLImageElement?type="image":mSource instanceof HTMLCanvasElement?type="canvas":mSource instanceof HTMLVideoElement&&(type="video"),type}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_getTextureParameters=__webpack_require__(49),_getTextureParameters2=_interopRequireDefault(_getTextureParameters),_WebglNumber=__webpack_require__(8),_WebglNumber2=_interopRequireDefault(_WebglNumber),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_scheduling=__webpack_require__(4),_scheduling2=_interopRequireDefault(_scheduling),gl=void 0,GLTexture=function(){function GLTexture(mSource){var mParam=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_this=this,mWidth=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,mHeight=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;_classCallCheck(this,GLTexture),gl=_GLTool2.default.gl,this._source=mSource,this._getDimension(mSource,mWidth,mHeight),this._sourceType=mParam.type||getSourceType(mSource),this._checkSource(),this._texelType=this._getTexelType(),this._isTextureReady=!0,this._params=(0,_getTextureParameters2.default)(mParam,mSource,this._width,this._height),this._checkMipmap(),this._checkWrapping(),this._texture=gl.createTexture(),"video"===this._sourceType?(this._isTextureReady=!1,_scheduling2.default.addEF(function(){return _this._loop()})):this._uploadTexture()}return _createClass(GLTexture,[{key:"_loop",value:function(){4==this._source.readyState&&(this._isTextureReady=!0,this._uploadTexture())}},{key:"_uploadTexture",value:function(){gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),this._isSourceHtmlElement()?gl.texImage2D(gl.TEXTURE_2D,0,this._params.internalFormat,this._params.format,this._texelType,this._source):gl.texImage2D(gl.TEXTURE_2D,0,this._params.internalFormat,this._width,this._height,0,this._params.format,this._texelType,this._source),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._params.magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._params.minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._params.wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._params.wrapT),gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),this._generateMipmap&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"bind",value:function(index){void 0===index&&(index=0),_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),this._isTextureReady?gl.bindTexture(gl.TEXTURE_2D,this._texture):gl.bindTexture(gl.TEXTURE_2D,GLTexture.blackTexture().texture),this._bindIndex=index)}},{key:"updateTexture",value:function(mSource){this._source=mSource,this._checkSource(),this._uploadTexture()}},{key:"generateMipmap",value:function(){this._generateMipmap&&(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null))}},{key:"showParameters",value:function(){console.log("Source type : ",_WebglNumber2.default[this._sourceType]||this._sourceType),console.log("Texel type:",_WebglNumber2.default[this.texelType]),console.log("Dimension :",this._width,this._height);for(var s in this._params)console.log(s,_WebglNumber2.default[this._params[s]]||this._params[s]);console.log("Mipmapping :",this._generateMipmap)}},{key:"_getDimension",value:function(mSource,mWidth,mHeight){mSource?(this._width=mSource.width||mSource.videoWidth,this._height=mSource.height||mSource.videoWidth,this._width=this._width||mWidth,this._height=this._height||mHeight,this._width&&this._height||(this._width=this._height=Math.sqrt(mSource.length/4))):(this._width=mWidth,this._height=mHeight)}},{key:"_checkSource",value:function(){this._source&&(this._sourceType===_GLTool2.default.UNSIGNED_BYTE?this._source instanceof Uint8Array||(this._source=new Uint8Array(this._source)):this._sourceType===_GLTool2.default.FLOAT&&(this._source instanceof Float32Array||(this._source=new Float32Array(this._source))))}},{key:"_getTexelType",value:function(){return this._isSourceHtmlElement()?_GLTool2.default.UNSIGNED_BYTE:_GLTool2.default[_WebglNumber2.default[this._sourceType]]}},{key:"_checkMipmap",value:function(){this._generateMipmap=this._params.mipmap,isPowerOfTwo(this._width)&&isPowerOfTwo(this._height)||(this._generateMipmap=!1),-1==_WebglNumber2.default[this._params.minFilter].indexOf("MIPMAP")&&(this._generateMipmap=!1)}},{key:"_checkWrapping",value:function(){this._generateMipmap||(this._params.wrapS=_GLTool2.default.CLAMP_TO_EDGE,this._params.wrapT=_GLTool2.default.CLAMP_TO_EDGE)}},{key:"_isSourceHtmlElement",value:function(){return"image"===this._sourceType||"video"===this._sourceType||"canvas"===this._sourceType}},{key:"minFilter",get:function(){return this._params.minFilter},set:function(mValue){console.log("set min filter : ",_WebglNumber2.default[mValue]),this._params.minFilter=mValue,this._checkMipmap(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._params.minFilter),gl.bindTexture(gl.TEXTURE_2D,null),this.generateMipmap()}},{key:"magFilter",get:function(){return this._params.minFilter},set:function(mValue){console.log("set mag filter : ",_WebglNumber2.default[mValue]),this._params.magFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._params.magFilter),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"wrapS",get:function(){return this._params.wrapS},set:function(mValue){this._params.wrapS=mValue,this._checkWrapping(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._params.wrapS),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"wrapT",get:function(){return this._params.wrapT},set:function(mValue){this._params.wrapT=mValue,this._checkWrapping(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._params.wrapT),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"texelType",get:function(){return this._texelType}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"texture",get:function(){return this._texture}},{key:"isTextureReady",get:function(){return this._isTextureReady}}]),GLTexture}(),_whiteTexture=void 0,_greyTexture=void 0,_blackTexture=void 0;GLTexture.whiteTexture=function(){if(void 0===_whiteTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=2;var ctx=canvas.getContext("2d");ctx.fillStyle="#fff",ctx.fillRect(0,0,2,2),_whiteTexture=new GLTexture(canvas)}return _whiteTexture},GLTexture.greyTexture=function(){if(void 0===_greyTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=2;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(127, 127, 127)",ctx.fillRect(0,0,2,2),_greyTexture=new GLTexture(canvas)}return _greyTexture},GLTexture.blackTexture=function(){if(void 0===_blackTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=2;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(0, 0, 0)",ctx.fillRect(0,0,2,2),_blackTexture=new GLTexture(canvas)}return _blackTexture},exports.default=GLTexture},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_parseDds=__webpack_require__(50),_parseDds2=_interopRequireDefault(_parseDds),gl=void 0,GLCubeTexture=function(){function GLCubeTexture(mSource){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},isCubeTexture=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_classCallCheck(this,GLCubeTexture),gl=_GLTool2.default.gl,isCubeTexture)return void(this.texture=mSource);var hasMipmaps=mSource.length>6;mSource[0].mipmapCount&&(hasMipmaps=mSource[0].mipmapCount>1),this.texture=gl.createTexture(),this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR_MIPMAP_LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,hasMipmaps||this.minFilter!=gl.LINEAR_MIPMAP_LINEAR||(this.minFilter=gl.LINEAR),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture);var targets=[gl.TEXTURE_CUBE_MAP_POSITIVE_X,gl.TEXTURE_CUBE_MAP_NEGATIVE_X,gl.TEXTURE_CUBE_MAP_POSITIVE_Y,gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,gl.TEXTURE_CUBE_MAP_POSITIVE_Z,gl.TEXTURE_CUBE_MAP_NEGATIVE_Z],numLevels=1,index=0;if(numLevels=mSource.length/6,this.numLevels=numLevels,hasMipmaps)for(var j=0;j<6;j++)for(var i=0;i<numLevels;i++)gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),index=j*numLevels+i,mSource[index].shape?gl.texImage2D(targets[j],i,gl.RGBA,mSource[index].shape[0],mSource[index].shape[1],0,gl.RGBA,gl.FLOAT,mSource[index].data):gl.texImage2D(targets[j],i,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource[index]),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter);else{for(var _index=0,_j=0;_j<6;_j++)_index=_j*numLevels,gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),mSource[_index].shape?gl.texImage2D(targets[_j],0,gl.RGBA,mSource[_index].shape[0],mSource[_index].shape[1],0,gl.RGBA,gl.FLOAT,mSource[_index].data):gl.texImage2D(targets[_j],0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource[_index]),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter);gl.generateMipmap(gl.TEXTURE_CUBE_MAP)}gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}return _createClass(GLCubeTexture,[{key:"bind",value:function(){var index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture),gl.uniform1i(_GLTool2.default.shader.uniformTextures[index],index),this._bindIndex=index)}},{key:"unbind",value:function(){gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}}]),GLCubeTexture}();GLCubeTexture.parseDDS=function(mArrayBuffer){var ddsInfos=(0,_parseDds2.default)(mArrayBuffer),flags=ddsInfos.flags,header=new Int32Array(mArrayBuffer,0,31),mipmapCount=1;131072&flags&&(mipmapCount=Math.max(1,header[7]));var sources=ddsInfos.images.map(function(img){return{data:new Float32Array(mArrayBuffer.slice(img.offset,img.offset+img.length)),shape:img.shape,mipmapCount:mipmapCount}});return new GLCubeTexture(sources)},exports.default=GLCubeTexture},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLTexture=__webpack_require__(26),_GLTexture2=_interopRequireDefault(_GLTexture),_WebglNumber=__webpack_require__(8),gl=(_interopRequireDefault(_WebglNumber),void 0),webglDepthTexture=void 0,hasCheckedMultiRenderSupport=!1,extDrawBuffer=void 0,checkMultiRender=function(){return!!_GLTool2.default.webgl2||!!(extDrawBuffer=_GLTool2.default.getExtension("WEBGL_draw_buffers"))},FrameBuffer=function(){function FrameBuffer(mWidth,mHeight){var mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},mNumTargets=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,FrameBuffer),gl=_GLTool2.default.gl,webglDepthTexture=_GLTool2.default.checkExtension("WEBGL_depth_texture"),this.width=mWidth,this.height=mHeight,this._numTargets=mNumTargets,this._multipleTargets=mNumTargets>1,this._parameters=mParameters,hasCheckedMultiRenderSupport||checkMultiRender(),this._multipleTargets&&this._checkMaxNumRenderTarget(),this._init()}return _createClass(FrameBuffer,[{key:"_init",value:function(){if(this._initTextures(),this.frameBuffer=gl.createFramebuffer(),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer),_GLTool2.default.webgl2){for(var buffers=[],i=0;i<this._numTargets;i++)gl.framebufferTexture2D(gl.DRAW_FRAMEBUFFER,gl.COLOR_ATTACHMENT0+i,gl.TEXTURE_2D,this._textures[i].texture,0),buffers.push(gl["COLOR_ATTACHMENT"+i]);gl.drawBuffers(buffers),gl.framebufferTexture2D(gl.DRAW_FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.TEXTURE_2D,this.glDepthTexture.texture,0)}else{for(var _i=0;_i<this._numTargets;_i++)gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0+_i,gl.TEXTURE_2D,this._textures[_i].texture,0);if(this._multipleTargets){for(var drawBuffers=[],_i2=0;_i2<this._numTargets;_i2++)drawBuffers.push(extDrawBuffer["COLOR_ATTACHMENT"+_i2+"_WEBGL"]);extDrawBuffer.drawBuffersWEBGL(drawBuffers)}webglDepthTexture&&gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.TEXTURE_2D,this.glDepthTexture.texture,0)}var FBOstatus=gl.checkFramebufferStatus(gl.FRAMEBUFFER);FBOstatus!=gl.FRAMEBUFFER_COMPLETE&&(console.error("FBOstatus",FBOstatus),console.error("GL_FRAMEBUFFER_COMPLETE failed, CANNOT use Framebuffer")),gl.bindTexture(gl.TEXTURE_2D,null),gl.bindRenderbuffer(gl.RENDERBUFFER,null),gl.bindFramebuffer(gl.FRAMEBUFFER,null),this.clear()}},{key:"_checkMaxNumRenderTarget",value:function(){var maxNumDrawBuffers=_GLTool2.default.gl.getParameter(extDrawBuffer.MAX_DRAW_BUFFERS_WEBGL);this._numTargets>maxNumDrawBuffers&&(console.error("Over max number of draw buffers supported : ",maxNumDrawBuffers),this._numTargets=maxNumDrawBuffers)}},{key:"_initTextures",value:function(){this._textures=[];for(var i=0;i<this._numTargets;i++){var glt=this._createTexture();this._textures.push(glt)}_GLTool2.default.webgl2?this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT16,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,!0):this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,{minFilter:_GLTool2.default.LINEAR})}},{key:"_createTexture",value:function(mInternalformat,mTexelType,mFormat){var mParameters=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},parameters=Object.assign({},this._parameters);mFormat||(mFormat=mInternalformat),parameters.internalFormat=mInternalformat||gl.RGBA,parameters.format=mFormat,parameters.type=parameters.type||mTexelType||_GLTool2.default.UNSIGNED_BYTE,mTexelType===gl.UNSIGNED_SHORT&&(parameters.type=mTexelType);for(var s in mParameters)parameters[s]=mParameters[s];return new _GLTexture2.default(null,parameters,this.width,this.height)}},{key:"bind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer)}},{key:"unbind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height),gl.bindFramebuffer(gl.FRAMEBUFFER,null),this._textures.forEach(function(texture){texture.generateMipmap()})}},{key:"clear",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.bind(),_GLTool2.default.clear(r,g,b,a),this.unbind()}},{key:"getTexture",value:function(){var mIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._textures[mIndex]}},{key:"getDepthTexture",value:function(){return this.glDepthTexture}},{key:"showParameters",value:function(){this._textures[0].showParameters()}},{key:"texture",get:function(){return this._textures[0]}},{key:"depthTexture",get:function(){return this.glDepthTexture}},{key:"minFilter",get:function(){return this._textures[0].minFilter},set:function(mValue){this._textures.forEach(function(texture){texture.minFilter=mValue})}},{key:"magFilter",get:function(){return this._textures[0].magFilter},set:function(mValue){this._textures.forEach(function(texture){texture.magFilter=mValue})}},{key:"wrapS",get:function(){return this._textures[0].wrapS},set:function(mValue){this._textures.forEach(function(texture){texture.wrapS=mValue})}},{key:"wrapT",get:function(){return this._textures[0].wrapT},set:function(mValue){this._textures.forEach(function(texture){texture.wrapT=mValue})}},{key:"numTargets",get:function(){return this._numTargets}}]),FrameBuffer}();exports.default=FrameBuffer},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),supportsCustomEvents=!0;try{document.createEvent("CustomEvent");null}catch(e){supportsCustomEvents=!1}var EventDispatcher=function(){function EventDispatcher(){_classCallCheck(this,EventDispatcher),this._eventListeners={}}return _createClass(EventDispatcher,[{key:"addEventListener",value:function(aEventType,aFunction){return null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={}),this._eventListeners[aEventType]||(this._eventListeners[aEventType]=[]),this._eventListeners[aEventType].push(aFunction),this}},{key:"on",value:function(aEventType,aFunction){return this.addEventListener(aEventType,aFunction)}},{key:"removeEventListener",value:function(aEventType,aFunction){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var currentArray=this._eventListeners[aEventType];if(void 0===currentArray)return this;for(var currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]===aFunction&&(currentArray.splice(i,1),i--,currentArrayLength--);return this}},{key:"off",value:function(aEventType,aFunction){return this.removeEventListener(aEventType,aFunction)}},{key:"dispatchEvent",value:function(aEvent){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var eventType=aEvent.type;try{null===aEvent.target&&(aEvent.target=this),aEvent.currentTarget=this}catch(theError){var newEvent={type:eventType,detail:aEvent.detail,dispatcher:this};return this.dispatchEvent(newEvent)}var currentEventListeners=this._eventListeners[eventType];if(null!==currentEventListeners&&void 0!==currentEventListeners)for(var currentArray=this._copyArray(currentEventListeners),currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++){var currentFunction=currentArray[i];currentFunction.call(this,aEvent)}return this}},{key:"dispatchCustomEvent",value:function(aEventType,aDetail){var newEvent=void 0;return supportsCustomEvents?(newEvent=document.createEvent("CustomEvent"),newEvent.dispatcher=this,newEvent.initCustomEvent(aEventType,!1,!1,aDetail)):newEvent={type:aEventType,detail:aDetail,dispatcher:this},this.dispatchEvent(newEvent)}},{key:"trigger",value:function(aEventType,aDetail){return this.dispatchCustomEvent(aEventType,aDetail)}},{key:"_destroy",value:function(){if(null!==this._eventListeners){for(var objectName in this._eventListeners)if(this._eventListeners.hasOwnProperty(objectName)){for(var currentArray=this._eventListeners[objectName],currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]=null;delete this._eventListeners[objectName]}this._eventListeners=null}}},{key:"_copyArray",value:function(aArray){for(var currentArray=new Array(aArray.length),currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]=aArray[i];return currentArray}}]),EventDispatcher}();exports.default=EventDispatcher},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_EaseNumber=__webpack_require__(10),_EaseNumber2=_interopRequireDefault(_EaseNumber),_scheduling=__webpack_require__(4),_scheduling2=_interopRequireDefault(_scheduling),_glMatrix=__webpack_require__(2),getMouse=function(mEvent,mTarget){var o=mTarget||{};return mEvent.touches?(o.x=mEvent.touches[0].pageX,o.y=mEvent.touches[0].pageY):(o.x=mEvent.clientX,o.y=mEvent.clientY),o},OrbitalControl=function(){function OrbitalControl(mTarget){var _this=this,mListenerTarget=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,mRadius=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;_classCallCheck(this,OrbitalControl),this._target=mTarget,this._listenerTarget=mListenerTarget,this._mouse={},this._preMouse={},this.center=_glMatrix.vec3.create(),this._up=_glMatrix.vec3.fromValues(0,1,0),this.radius=new _EaseNumber2.default(mRadius),this.position=_glMatrix.vec3.fromValues(0,0,this.radius.value),this.positionOffset=_glMatrix.vec3.create(),this._rx=new _EaseNumber2.default(0),this._rx.limit(-Math.PI/2,Math.PI/2),this._ry=new _EaseNumber2.default(0),this._preRX=0,this._preRY=0,this._isLockZoom=!1,this._isLockRotation=!1,this._isInvert=!1,this.sensitivity=1,this._wheelBind=function(e){return _this._onWheel(e)},this._downBind=function(e){return _this._onDown(e)},this._moveBind=function(e){return _this._onMove(e)},this._upBind=function(){return _this._onUp()},this.connect(),_scheduling2.default.addEF(function(){return _this._loop()})}return _createClass(OrbitalControl,[{key:"connect",value:function(){this.disconnect(),this._listenerTarget.addEventListener("mousewheel",this._wheelBind),this._listenerTarget.addEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.addEventListener("mousedown",this._downBind),this._listenerTarget.addEventListener("touchstart",this._downBind),this._listenerTarget.addEventListener("mousemove",this._moveBind),this._listenerTarget.addEventListener("touchmove",this._moveBind),window.addEventListener("touchend",this._upBind),window.addEventListener("mouseup",this._upBind)}},{key:"disconnect",value:function(){this._listenerTarget.removeEventListener("mousewheel",this._wheelBind),this._listenerTarget.removeEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.removeEventListener("mousedown",this._downBind),this._listenerTarget.removeEventListener("touchstart",this._downBind),this._listenerTarget.removeEventListener("mousemove",this._moveBind),this._listenerTarget.removeEventListener("touchmove",this._moveBind),window.removeEventListener("touchend",this._upBind),window.removeEventListener("mouseup",this._upBind)}},{key:"lock",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=mValue,this._isLockRotation=mValue,this._isMouseDown=!1}},{key:"lockZoom",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=mValue}},{key:"lockRotation",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockRotation=mValue}},{key:"inverseControl",value:function(){var isInvert=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=isInvert}},{key:"_onDown",value:function(mEvent){this._isLockRotation||(this._isMouseDown=!0,getMouse(mEvent,this._mouse),getMouse(mEvent,this._preMouse),this._preRX=this._rx.targetValue,this._preRY=this._ry.targetValue)}},{key:"_onMove",value:function(mEvent){if(!this._isLockRotation&&(getMouse(mEvent,this._mouse),mEvent.touches&&mEvent.preventDefault(),this._isMouseDown)){var diffX=-(this._mouse.x-this._preMouse.x);this._isInvert&&(diffX*=-1),this._ry.value=this._preRY-.01*diffX*this.sensitivity;var diffY=-(this._mouse.y-this._preMouse.y);this._isInvert&&(diffY*=-1),this._rx.value=this._preRX-.01*diffY*this.sensitivity}}},{key:"_onUp",value:function(){this._isLockRotation||(this._isMouseDown=!1)}},{key:"_onWheel",value:function(mEvent){if(!this._isLockZoom){var w=mEvent.wheelDelta,d=mEvent.detail,value=0;value=d?w?w/d/40*d>0?1:-1:-d/3:w/120,this.radius.add(2*-value)}}},{key:"_loop",value:function(){this._updatePosition(),this._target&&this._updateCamera()}},{key:"_updatePosition",value:function(){this.position[1]=Math.sin(this._rx.value)*this.radius.value;var tr=Math.cos(this._rx.value)*this.radius.value;this.position[0]=Math.cos(this._ry.value+.5*Math.PI)*tr,this.position[2]=Math.sin(this._ry.value+.5*Math.PI)*tr,_glMatrix.vec3.add(this.position,this.position,this.positionOffset)}},{key:"_updateCamera",value:function(){this._target.lookAt(this.position,this.center,this._up)}},{key:"rx",get:function(){return this._rx}},{key:"ry",get:function(){return this._ry}}]),OrbitalControl}();exports.default=OrbitalControl},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Camera2=__webpack_require__(12),_Camera3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Camera2),_glMatrix=__webpack_require__(2),CameraOrtho=function(_Camera){function CameraOrtho(){_classCallCheck(this,CameraOrtho);var _this=_possibleConstructorReturn(this,(CameraOrtho.__proto__||Object.getPrototypeOf(CameraOrtho)).call(this)),eye=_glMatrix.vec3.clone([0,0,5]),center=_glMatrix.vec3.create(),up=_glMatrix.vec3.clone([0,1,0]);return _this.lookAt(eye,center,up),_this.ortho(-1,1,1,-1),_this}return _inherits(CameraOrtho,_Camera),_createClass(CameraOrtho,[{key:"setBoundary",value:function(left,right,top,bottom){var near=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,far=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.ortho(left,right,top,bottom,near,far)}},{key:"ortho",value:function(left,right,top,bottom){var near=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,far=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.left=left,this.right=right,this.top=top,this.bottom=bottom,mat4.ortho(this._projection,left,right,bottom,top,near,far)}}]),CameraOrtho}(_Camera3.default);exports.default=CameraOrtho},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(2),_scheduling=__webpack_require__(4),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),Object3D=function(){function Object3D(){_classCallCheck(this,Object3D),this._needUpdate=!0,this._x=0,this._y=0,this._z=0,this._sx=1,this._sy=1,this._sz=1,this._rx=0,this._ry=0,this._rz=0,this._position=_glMatrix.vec3.create(),this._scale=_glMatrix.vec3.fromValues(1,1,1),this._rotation=_glMatrix.vec3.create(),this._matrix=_glMatrix.mat4.create(),this._matrixParent=_glMatrix.mat4.create(),this._matrixRotation=_glMatrix.mat4.create(),this._matrixScale=_glMatrix.mat4.create(),this._matrixTranslation=_glMatrix.mat4.create(),this._matrixQuaternion=_glMatrix.mat4.create(),this._quat=_glMatrix.quat.create(),this._children=[]}return _createClass(Object3D,[{key:"addChild",value:function(mChild){this._children.push(mChild)}},{key:"removeChild",value:function(mChild){var index=this._children.indexOf(mChild);if(-1==index)return void console.warn("Child no exist");this._children.splice(index,1)}},{key:"_update",value:function(){this._needUpdate&&(_glMatrix.vec3.set(this._scale,this._sx,this._sy,this._sz),_glMatrix.vec3.set(this._rotation,this._rx,this._ry,this._rz),_glMatrix.vec3.set(this._position,this._x,this._y,this._z),_glMatrix.mat4.identity(this._matrixTranslation,this._matrixTranslation),_glMatrix.mat4.identity(this._matrixScale,this._matrixScale),_glMatrix.mat4.identity(this._matrixRotation,this._matrixRotation),_glMatrix.mat4.rotateX(this._matrixRotation,this._matrixRotation,this._rx),_glMatrix.mat4.rotateY(this._matrixRotation,this._matrixRotation,this._ry),_glMatrix.mat4.rotateZ(this._matrixRotation,this._matrixRotation,this._rz),_glMatrix.mat4.fromQuat(this._matrixQuaternion,this._quat),_glMatrix.mat4.mul(this._matrixRotation,this._matrixQuaternion,this._matrixRotation),_glMatrix.mat4.scale(this._matrixScale,this._matrixScale,this._scale),_glMatrix.mat4.translate(this._matrixTranslation,this._matrixTranslation,this._position),_glMatrix.mat4.mul(this._matrix,this._matrixTranslation,this._matrixRotation),_glMatrix.mat4.mul(this._matrix,this._matrix,this._matrixScale),_glMatrix.mat4.mul(this._matrix,this._matrixParent,this._matrix),this.updateMatrix(),this._needUpdate=!1)}},{key:"updateMatrix",value:function(mParentMatrix){var _this=this;mParentMatrix&&(this._needUpdate=!0,_glMatrix.mat4.copy(this._matrixParent,mParentMatrix)),this._needUpdate&&this._children.forEach(function(child){child.updateMatrix(_this._matrix)})}},{key:"setRotationFromQuaternion",value:function(mQuat){var _this2=this;_glMatrix.quat.copy(this._quat,mQuat),this._needUpdate=!0,_scheduling2.default.next(function(){return _this2._update()})}},{key:"matrix",get:function(){return this._needUpdate&&this._update(),this._matrix}},{key:"x",get:function(){return this._x},set:function(mValue){var _this3=this;this._needUpdate=!0,this._x=mValue,_scheduling2.default.next(function(){return _this3._update()})}},{key:"y",get:function(){return this._y},set:function(mValue){var _this4=this;this._needUpdate=!0,this._y=mValue,_scheduling2.default.next(function(){return _this4._update()})}},{key:"z",get:function(){return this._z},set:function(mValue){var _this5=this;this._needUpdate=!0,this._z=mValue,_scheduling2.default.next(function(){return _this5._update()})}},{key:"scaleX",get:function(){return this._sx},set:function(mValue){var _this6=this;this._needUpdate=!0,this._sx=mValue,_scheduling2.default.next(function(){return _this6._update()})}},{key:"scaleY",get:function(){return this._sy},set:function(mValue){var _this7=this;this._needUpdate=!0,this._sy=mValue,_scheduling2.default.next(function(){return _this7._update()})}},{key:"scaleZ",get:function(){return this._sz},set:function(mValue){var _this8=this;this._needUpdate=!0,this._sz=mValue,_scheduling2.default.next(function(){return _this8._update()})}},{key:"rotationX",get:function(){return this._rx},set:function(mValue){var _this9=this;this._needUpdate=!0,this._rx=mValue,_scheduling2.default.next(function(){return _this9._update()})}},{key:"rotationY",get:function(){return this._ry},set:function(mValue){var _this10=this;this._needUpdate=!0,this._ry=mValue,_scheduling2.default.next(function(){return _this10._update()})}},{key:"rotationZ",get:function(){return this._rz},set:function(mValue){var _this11=this;this._needUpdate=!0,this._rz=mValue,_scheduling2.default.next(function(){return _this11._update()})}},{key:"children",get:function(){return this._children}}]),Object3D}();exports.default=Object3D},function(module,exports){module.exports="// generalWithNormal.vert\n\n#define SHADER_NAME GENERAL_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec3 position;\nuniform vec3 scale;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tvec3 pos      = aVertexPosition * scale;\n\tpos           += position;\n\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\t\n\tvTextureCoord = aTextureCoord;\n\tvNormal       = normalize(uNormalMatrix * aNormal);\n}"},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME SKYBOX_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tmat4 matView = uViewMatrix;\n\tmatView[3][0] = 0.0;\n\tmatView[3][1] = 0.0;\n\tmatView[3][2] = 0.0;\n\t\n\tgl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\n\tvTextureCoord = aTextureCoord;\n\t\n\tvVertex = aVertexPosition;\n\tvNormal = aNormal;\n}"},function(module,exports){module.exports="// basic.frag\n\n#define SHADER_NAME SKYBOX_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\nuniform samplerCube texture;\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\n\nvoid main(void) {\n    gl_FragColor = textureCube(texture, vVertex);\n}"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_FrameBuffer=__webpack_require__(28),_FrameBuffer2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_FrameBuffer),FboArray=function(){function FboArray(mNum,width,height){var params=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},mNumTargets=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;_classCallCheck(this,FboArray),this._fbos=[];for(var i=0;i<mNum;i++){var fbo=new _FrameBuffer2.default(width,height,params,mNumTargets);this._fbos.push(fbo)}}return _createClass(FboArray,[{key:"swap",value:function(){var a=this._fbos.shift();this._fbos.push(a)}},{key:"read",get:function(){return this._fbos[this._fbos.length-1]}},{key:"write",get:function(){return this._fbos[0]}},{key:"all",get:function(){return this._fbos}}]),FboArray}();exports.default=FboArray},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FboPingPong=exports.FboArray=exports.ShaderLibs=exports.Draw=exports.View3D=exports.View=exports.Scene=exports.BatchFXAA=exports.BatchSky=exports.BatchSkybox=exports.BatchLine=exports.BatchDotsPlane=exports.BatchBall=exports.BatchAxis=exports.BatchCopy=exports.GLTFParser=exports.HDRLoader=exports.ObjLoader=exports.BinaryLoader=exports.Object3D=exports.Ray=exports.CameraCube=exports.CameraPerspective=exports.CameraOrtho=exports.Camera=exports.TouchDetector=exports.QuatRotation=exports.WebglNumber=exports.OrbitalControl=exports.TweenNumber=exports.SpringNumber=exports.EaseNumber=exports.EventDispatcher=exports.Scheduler=exports.TransformFeedbackObject=exports.MultisampleFrameBuffer=exports.CubeFrameBuffer=exports.FrameBuffer=exports.Batch=exports.Geom=exports.Mesh=exports.GLCubeTexture=exports.GLTextureOld=exports.GLTexture=exports.GLShader=exports.GL=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(2),GLM=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_glMatrix),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),_GLTexture=__webpack_require__(25),_GLTexture2=_interopRequireDefault(_GLTexture),_GLTexture3=__webpack_require__(26),_GLTexture4=_interopRequireDefault(_GLTexture3),_GLCubeTexture=__webpack_require__(27),_GLCubeTexture2=_interopRequireDefault(_GLCubeTexture),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_Batch=__webpack_require__(6),_Batch2=_interopRequireDefault(_Batch),_FrameBuffer=__webpack_require__(28),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),_CubeFrameBuffer=__webpack_require__(51),_CubeFrameBuffer2=_interopRequireDefault(_CubeFrameBuffer),_MultisampleFrameBuffer=__webpack_require__(52),_MultisampleFrameBuffer2=_interopRequireDefault(_MultisampleFrameBuffer),_TransformFeedbackObject=__webpack_require__(53),_TransformFeedbackObject2=_interopRequireDefault(_TransformFeedbackObject),_scheduling=__webpack_require__(4),_scheduling2=_interopRequireDefault(_scheduling),_EventDispatcher=__webpack_require__(29),_EventDispatcher2=_interopRequireDefault(_EventDispatcher),_EaseNumber=__webpack_require__(10),_EaseNumber2=_interopRequireDefault(_EaseNumber),_SpringNumber=__webpack_require__(54),_SpringNumber2=_interopRequireDefault(_SpringNumber),_TweenNumber=__webpack_require__(55),_TweenNumber2=_interopRequireDefault(_TweenNumber),_OrbitalControl=__webpack_require__(30),_OrbitalControl2=_interopRequireDefault(_OrbitalControl),_QuatRotation=__webpack_require__(56),_QuatRotation2=_interopRequireDefault(_QuatRotation),_TouchDetector=__webpack_require__(57),_TouchDetector2=_interopRequireDefault(_TouchDetector),_WebglNumber=__webpack_require__(8),_WebglNumber2=_interopRequireDefault(_WebglNumber),_WebglConst=__webpack_require__(23),_Camera=(_interopRequireDefault(_WebglConst),__webpack_require__(12)),_Camera2=_interopRequireDefault(_Camera),_CameraOrtho=__webpack_require__(31),_CameraOrtho2=_interopRequireDefault(_CameraOrtho),_CameraPerspective=__webpack_require__(13),_CameraPerspective2=_interopRequireDefault(_CameraPerspective),_CameraCube=__webpack_require__(59),_CameraCube2=_interopRequireDefault(_CameraCube),_Ray=__webpack_require__(11),_Ray2=_interopRequireDefault(_Ray),_Object3D=__webpack_require__(32),_Object3D2=_interopRequireDefault(_Object3D),_BinaryLoader=__webpack_require__(14),_BinaryLoader2=_interopRequireDefault(_BinaryLoader),_ObjLoader=__webpack_require__(60),_ObjLoader2=_interopRequireDefault(_ObjLoader),_HDRLoader=__webpack_require__(61),_HDRLoader2=_interopRequireDefault(_HDRLoader),_GLTFParser=__webpack_require__(63),_GLTFParser2=_interopRequireDefault(_GLTFParser),_BatchCopy=__webpack_require__(64),_BatchCopy2=_interopRequireDefault(_BatchCopy),_BatchAxis=__webpack_require__(65),_BatchAxis2=_interopRequireDefault(_BatchAxis),_BatchBall=__webpack_require__(68),_BatchBall2=_interopRequireDefault(_BatchBall),_BatchDotsPlane=__webpack_require__(69),_BatchDotsPlane2=_interopRequireDefault(_BatchDotsPlane),_BatchLine=__webpack_require__(72),_BatchLine2=_interopRequireDefault(_BatchLine),_BatchSkybox=__webpack_require__(73),_BatchSkybox2=_interopRequireDefault(_BatchSkybox),_BatchSky=__webpack_require__(74),_BatchSky2=_interopRequireDefault(_BatchSky),_BatchFXAA=__webpack_require__(76),_BatchFXAA2=_interopRequireDefault(_BatchFXAA),_Scene=__webpack_require__(78),_Scene2=_interopRequireDefault(_Scene),_View=__webpack_require__(79),_View2=_interopRequireDefault(_View),_View3D=__webpack_require__(80),_View3D2=_interopRequireDefault(_View3D),_Draw=__webpack_require__(81),_Draw2=_interopRequireDefault(_Draw),_ShaderLibs=__webpack_require__(82),_ShaderLibs2=_interopRequireDefault(_ShaderLibs),_FboArray=__webpack_require__(36),_FboArray2=_interopRequireDefault(_FboArray),_FboPingPong=__webpack_require__(83),_FboPingPong2=_interopRequireDefault(_FboPingPong),Alfrid=function(){function Alfrid(){_classCallCheck(this,Alfrid),this.glm=GLM,this.GL=_GLTool2.default,this.GLTool=_GLTool2.default,this.GLShader=_GLShader2.default,this.GLTexture=_GLTexture4.default,this.GLTextureOld=_GLTexture2.default,this.GLCubeTexture=_GLCubeTexture2.default,this.Mesh=_Mesh2.default,this.Geom=_Geom2.default,this.Batch=_Batch2.default,this.FrameBuffer=_FrameBuffer2.default,this.CubeFrameBuffer=_CubeFrameBuffer2.default,this.Scheduler=_scheduling2.default,this.EventDispatcher=_EventDispatcher2.default,this.EaseNumber=_EaseNumber2.default,this.SpringNumber=_SpringNumber2.default,this.TweenNumber=_TweenNumber2.default,this.Camera=_Camera2.default,this.CameraOrtho=_CameraOrtho2.default,this.CameraPerspective=_CameraPerspective2.default,this.Ray=_Ray2.default,this.CameraCube=_CameraCube2.default,this.OrbitalControl=_OrbitalControl2.default,this.QuatRotation=_QuatRotation2.default,this.BinaryLoader=_BinaryLoader2.default,this.ObjLoader=_ObjLoader2.default,this.GLTFParser=_GLTFParser2.default,this.HDRLoader=_HDRLoader2.default,this.BatchCopy=_BatchCopy2.default,this.BatchAxis=_BatchAxis2.default,this.BatchBall=_BatchBall2.default,this.BatchBall=_BatchBall2.default,this.BatchLine=_BatchLine2.default,this.BatchSkybox=_BatchSkybox2.default,this.BatchSky=_BatchSky2.default,this.BatchFXAA=_BatchFXAA2.default,this.BatchDotsPlane=_BatchDotsPlane2.default,this.Scene=_Scene2.default,this.View=_View2.default,this.View3D=_View3D2.default,this.Draw=_Draw2.default,this.Object3D=_Object3D2.default,this.ShaderLibs=_ShaderLibs2.default,this.WebglNumber=_WebglNumber2.default,this.FboArray=_FboArray2.default,this.FboPingPong=_FboPingPong2.default,this.MultisampleFrameBuffer=_MultisampleFrameBuffer2.default,this.TransformFeedbackObject=_TransformFeedbackObject2.default;for(var s in GLM)GLM[s]&&(window[s]=GLM[s])}return _createClass(Alfrid,[{key:"log",value:function(){navigator.userAgent.indexOf("Chrome")>-1?console.log("%clib alfrid : VERSION 0.3.6","background: #193441; color: #FCFFF5"):console.log("lib alfrid : VERSION ","0.3.6"),console.log("%cClasses : ","color: #193441");for(var s in this)this[s]&&console.log("%c - "+s,"color: #3E606F")}}]),Alfrid}(),al=new Alfrid;exports.default=al,exports.GL=_GLTool2.default,exports.GLShader=_GLShader2.default,exports.GLTexture=_GLTexture4.default,exports.GLTextureOld=_GLTexture2.default,exports.GLCubeTexture=_GLCubeTexture2.default,exports.Mesh=_Mesh2.default,exports.Geom=_Geom2.default,exports.Batch=_Batch2.default,exports.FrameBuffer=_FrameBuffer2.default,exports.CubeFrameBuffer=_CubeFrameBuffer2.default,exports.MultisampleFrameBuffer=_MultisampleFrameBuffer2.default,exports.TransformFeedbackObject=_TransformFeedbackObject2.default,exports.Scheduler=_scheduling2.default,exports.EventDispatcher=_EventDispatcher2.default,exports.EaseNumber=_EaseNumber2.default,exports.SpringNumber=_SpringNumber2.default,exports.TweenNumber=_TweenNumber2.default,exports.OrbitalControl=_OrbitalControl2.default,exports.WebglNumber=_WebglNumber2.default,exports.QuatRotation=_QuatRotation2.default,exports.TouchDetector=_TouchDetector2.default,exports.Camera=_Camera2.default,exports.CameraOrtho=_CameraOrtho2.default,exports.CameraPerspective=_CameraPerspective2.default,exports.CameraCube=_CameraCube2.default,exports.Ray=_Ray2.default,exports.Object3D=_Object3D2.default,exports.BinaryLoader=_BinaryLoader2.default,exports.ObjLoader=_ObjLoader2.default,exports.HDRLoader=_HDRLoader2.default,exports.GLTFParser=_GLTFParser2.default,exports.BatchCopy=_BatchCopy2.default,exports.BatchAxis=_BatchAxis2.default,exports.BatchBall=_BatchBall2.default,exports.BatchDotsPlane=_BatchDotsPlane2.default,exports.BatchLine=_BatchLine2.default,exports.BatchSkybox=_BatchSkybox2.default,exports.BatchSky=_BatchSky2.default,exports.BatchFXAA=_BatchFXAA2.default,exports.Scene=_Scene2.default,exports.View=_View2.default,exports.View3D=_View3D2.default,exports.Draw=_Draw2.default,exports.ShaderLibs=_ShaderLibs2.default,exports.FboArray=_FboArray2.default,exports.FboPingPong=_FboPingPong2.default},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(4);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0),out[0]=1,out[3]=1,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out}function fromValues(m00,m01,m10,m11){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function set(out,m00,m01,m10,m11){return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function transpose(out,a){if(out===a){var a1=a[1];out[1]=a[2],out[2]=a1}else out[0]=a[0],out[1]=a[2],out[2]=a[1],out[3]=a[3];return out}function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],det=a0*a3-a2*a1;return det?(det=1/det,out[0]=a3*det,out[1]=-a1*det,out[2]=-a2*det,out[3]=a0*det,out):null}function adjoint(out,a){var a0=a[0];return out[0]=a[3],out[1]=-a[1],out[2]=-a[2],out[3]=a0,out}function determinant(a){return a[0]*a[3]-a[2]*a[1]}function multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out}function rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out}function scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out}function str(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))}function LDU(L,D,U,a){return L[2]=a[2]/a[0],U[0]=a[0],U[1]=a[1],U[3]=a[3]-L[2]*U[1],[L,D,U]}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.identity=identity,exports.fromValues=fromValues,exports.set=set,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.rotate=rotate,exports.scale=scale,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.str=str,exports.frob=frob,exports.LDU=LDU,exports.add=add,exports.subtract=subtract,exports.exactEquals=exactEquals,exports.equals=equals,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(6);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[4]=0,out[5]=0),out[0]=1,out[3]=1,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function fromValues(a,b,c,d,tx,ty){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function set(out,a,b,c,d,tx,ty){return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function invert(out,a){var aa=a[0],ab=a[1],ac=a[2],ad=a[3],atx=a[4],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null}function determinant(a){return a[0]*a[3]-a[1]*a[2]}function multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out[4]=a0*b4+a2*b5+a4,out[5]=a1*b4+a3*b5+a5,out}function rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out[4]=a4,out[5]=a5,out}function scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out[4]=a4,out[5]=a5,out}function translate(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0,out[1]=a1,out[2]=a2,out[3]=a3,out[4]=a0*v0+a2*v1+a4,out[5]=a1*v0+a3*v1+a5,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out[4]=0,out[5]=0,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out[4]=0,out[5]=0,out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=v[0],out[5]=v[1],out}function str(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.identity=identity,exports.fromValues=fromValues,exports.set=set,exports.invert=invert,exports.determinant=determinant,exports.multiply=multiply,exports.rotate=rotate,exports.scale=scale,exports.translate=translate,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.fromTranslation=fromTranslation,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function create(){var dq=new glMatrix.ARRAY_TYPE(8);return glMatrix.ARRAY_TYPE!=Float32Array&&(dq[0]=0,dq[1]=0,dq[2]=0,dq[4]=0,dq[5]=0,dq[6]=0,dq[7]=0),dq[3]=1,dq}function clone(a){var dq=new glMatrix.ARRAY_TYPE(8);return dq[0]=a[0],dq[1]=a[1],dq[2]=a[2],dq[3]=a[3],dq[4]=a[4],dq[5]=a[5],dq[6]=a[6],dq[7]=a[7],dq}function fromValues(x1,y1,z1,w1,x2,y2,z2,w2){var dq=new glMatrix.ARRAY_TYPE(8);return dq[0]=x1,dq[1]=y1,dq[2]=z1,dq[3]=w1,dq[4]=x2,dq[5]=y2,dq[6]=z2,dq[7]=w2,dq}function fromRotationTranslationValues(x1,y1,z1,w1,x2,y2,z2){var dq=new glMatrix.ARRAY_TYPE(8);dq[0]=x1,dq[1]=y1,dq[2]=z1,dq[3]=w1;var ax=.5*x2,ay=.5*y2,az=.5*z2;return dq[4]=ax*w1+ay*z1-az*y1,dq[5]=ay*w1+az*x1-ax*z1,dq[6]=az*w1+ax*y1-ay*x1,dq[7]=-ax*x1-ay*y1-az*z1,dq}function fromRotationTranslation(out,q,t){var ax=.5*t[0],ay=.5*t[1],az=.5*t[2],bx=q[0],by=q[1],bz=q[2],bw=q[3];return out[0]=bx,out[1]=by,out[2]=bz,out[3]=bw,out[4]=ax*bw+ay*bz-az*by,out[5]=ay*bw+az*bx-ax*bz,out[6]=az*bw+ax*by-ay*bx,out[7]=-ax*bx-ay*by-az*bz,out}function fromTranslation(out,t){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out[4]=.5*t[0],out[5]=.5*t[1],out[6]=.5*t[2],out[7]=0,out}function fromRotation(out,q){return out[0]=q[0],out[1]=q[1],out[2]=q[2],out[3]=q[3],out[4]=0,out[5]=0,out[6]=0,out[7]=0,out}function fromMat4(out,a){var outer=quat.create();mat4.getRotation(outer,a);var t=new glMatrix.ARRAY_TYPE(3);return mat4.getTranslation(t,a),fromRotationTranslation(out,outer,t),out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out}function identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out[6]=0,out[7]=0,out}function set(out,x1,y1,z1,w1,x2,y2,z2,w2){return out[0]=x1,out[1]=y1,out[2]=z1,out[3]=w1,out[4]=x2,out[5]=y2,out[6]=z2,out[7]=w2,out}function getDual(out,a){return out[0]=a[4],out[1]=a[5],out[2]=a[6],out[3]=a[7],out}function setDual(out,q){return out[4]=q[0],out[5]=q[1],out[6]=q[2],out[7]=q[3],out}function getTranslation(out,a){var ax=a[4],ay=a[5],az=a[6],aw=a[7],bx=-a[0],by=-a[1],bz=-a[2],bw=a[3];return out[0]=2*(ax*bw+aw*bx+ay*bz-az*by),out[1]=2*(ay*bw+aw*by+az*bx-ax*bz),out[2]=2*(az*bw+aw*bz+ax*by-ay*bx),out}function translate(out,a,v){var ax1=a[0],ay1=a[1],az1=a[2],aw1=a[3],bx1=.5*v[0],by1=.5*v[1],bz1=.5*v[2],ax2=a[4],ay2=a[5],az2=a[6],aw2=a[7];return out[0]=ax1,out[1]=ay1,out[2]=az1,out[3]=aw1,out[4]=aw1*bx1+ay1*bz1-az1*by1+ax2,out[5]=aw1*by1+az1*bx1-ax1*bz1+ay2,out[6]=aw1*bz1+ax1*by1-ay1*bx1+az2,out[7]=-ax1*bx1-ay1*by1-az1*bz1+aw2,out}function rotateX(out,a,rad){var bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],ax1=ax*bw+aw*bx+ay*bz-az*by,ay1=ay*bw+aw*by+az*bx-ax*bz,az1=az*bw+aw*bz+ax*by-ay*bx,aw1=aw*bw-ax*bx-ay*by-az*bz;return quat.rotateX(out,a,rad),bx=out[0],by=out[1],bz=out[2],bw=out[3],out[4]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[5]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[6]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[7]=aw1*bw-ax1*bx-ay1*by-az1*bz,out}function rotateY(out,a,rad){var bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],ax1=ax*bw+aw*bx+ay*bz-az*by,ay1=ay*bw+aw*by+az*bx-ax*bz,az1=az*bw+aw*bz+ax*by-ay*bx,aw1=aw*bw-ax*bx-ay*by-az*bz;return quat.rotateY(out,a,rad),bx=out[0],by=out[1],bz=out[2],bw=out[3],out[4]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[5]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[6]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[7]=aw1*bw-ax1*bx-ay1*by-az1*bz,out}function rotateZ(out,a,rad){var bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],ax1=ax*bw+aw*bx+ay*bz-az*by,ay1=ay*bw+aw*by+az*bx-ax*bz,az1=az*bw+aw*bz+ax*by-ay*bx,aw1=aw*bw-ax*bx-ay*by-az*bz;return quat.rotateZ(out,a,rad),bx=out[0],by=out[1],bz=out[2],bw=out[3],out[4]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[5]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[6]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[7]=aw1*bw-ax1*bx-ay1*by-az1*bz,out}function rotateByQuatAppend(out,a,q){var qx=q[0],qy=q[1],qz=q[2],qw=q[3],ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax*qw+aw*qx+ay*qz-az*qy,out[1]=ay*qw+aw*qy+az*qx-ax*qz,out[2]=az*qw+aw*qz+ax*qy-ay*qx,out[3]=aw*qw-ax*qx-ay*qy-az*qz,ax=a[4],ay=a[5],az=a[6],aw=a[7],out[4]=ax*qw+aw*qx+ay*qz-az*qy,out[5]=ay*qw+aw*qy+az*qx-ax*qz,out[6]=az*qw+aw*qz+ax*qy-ay*qx,out[7]=aw*qw-ax*qx-ay*qy-az*qz,out}function rotateByQuatPrepend(out,q,a){var qx=q[0],qy=q[1],qz=q[2],qw=q[3],bx=a[0],by=a[1],bz=a[2],bw=a[3];return out[0]=qx*bw+qw*bx+qy*bz-qz*by,out[1]=qy*bw+qw*by+qz*bx-qx*bz,out[2]=qz*bw+qw*bz+qx*by-qy*bx,out[3]=qw*bw-qx*bx-qy*by-qz*bz,bx=a[4],by=a[5],bz=a[6],bw=a[7],out[4]=qx*bw+qw*bx+qy*bz-qz*by,out[5]=qy*bw+qw*by+qz*bx-qx*bz,out[6]=qz*bw+qw*bz+qx*by-qy*bx,out[7]=qw*bw-qx*bx-qy*by-qz*bz,out}function rotateAroundAxis(out,a,axis,rad){if(Math.abs(rad)<glMatrix.EPSILON)return copy(out,a);var axisLength=Math.sqrt(axis[0]*axis[0]+axis[1]*axis[1]+axis[2]*axis[2]);rad*=.5;var s=Math.sin(rad),bx=s*axis[0]/axisLength,by=s*axis[1]/axisLength,bz=s*axis[2]/axisLength,bw=Math.cos(rad),ax1=a[0],ay1=a[1],az1=a[2],aw1=a[3];out[0]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[1]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[2]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[3]=aw1*bw-ax1*bx-ay1*by-az1*bz;var ax=a[4],ay=a[5],az=a[6],aw=a[7];return out[4]=ax*bw+aw*bx+ay*bz-az*by,out[5]=ay*bw+aw*by+az*bx-ax*bz,out[6]=az*bw+aw*bz+ax*by-ay*bx,out[7]=aw*bw-ax*bx-ay*by-az*bz,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out}function multiply(out,a,b){var ax0=a[0],ay0=a[1],az0=a[2],aw0=a[3],bx1=b[4],by1=b[5],bz1=b[6],bw1=b[7],ax1=a[4],ay1=a[5],az1=a[6],aw1=a[7],bx0=b[0],by0=b[1],bz0=b[2],bw0=b[3];return out[0]=ax0*bw0+aw0*bx0+ay0*bz0-az0*by0,out[1]=ay0*bw0+aw0*by0+az0*bx0-ax0*bz0,out[2]=az0*bw0+aw0*bz0+ax0*by0-ay0*bx0,out[3]=aw0*bw0-ax0*bx0-ay0*by0-az0*bz0,out[4]=ax0*bw1+aw0*bx1+ay0*bz1-az0*by1+ax1*bw0+aw1*bx0+ay1*bz0-az1*by0,out[5]=ay0*bw1+aw0*by1+az0*bx1-ax0*bz1+ay1*bw0+aw1*by0+az1*bx0-ax1*bz0,out[6]=az0*bw1+aw0*bz1+ax0*by1-ay0*bx1+az1*bw0+aw1*bz0+ax1*by0-ay1*bx0,out[7]=aw0*bw1-ax0*bx1-ay0*by1-az0*bz1+aw1*bw0-ax1*bx0-ay1*by0-az1*bz0,out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out}function lerp(out,a,b,t){var mt=1-t;return dot(a,b)<0&&(t=-t),out[0]=a[0]*mt+b[0]*t,out[1]=a[1]*mt+b[1]*t,out[2]=a[2]*mt+b[2]*t,out[3]=a[3]*mt+b[3]*t,out[4]=a[4]*mt+b[4]*t,out[5]=a[5]*mt+b[5]*t,out[6]=a[6]*mt+b[6]*t,out[7]=a[7]*mt+b[7]*t,out}function invert(out,a){var sqlen=squaredLength(a);return out[0]=-a[0]/sqlen,out[1]=-a[1]/sqlen,out[2]=-a[2]/sqlen,out[3]=a[3]/sqlen,out[4]=-a[4]/sqlen,out[5]=-a[5]/sqlen,out[6]=-a[6]/sqlen,out[7]=a[7]/sqlen,out}function conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out[4]=-a[4],out[5]=-a[5],out[6]=-a[6],out[7]=a[7],out}function normalize(out,a){var magnitude=squaredLength(a);if(magnitude>0){magnitude=Math.sqrt(magnitude);var a0=a[0]/magnitude,a1=a[1]/magnitude,a2=a[2]/magnitude,a3=a[3]/magnitude,b0=a[4],b1=a[5],b2=a[6],b3=a[7],a_dot_b=a0*b0+a1*b1+a2*b2+a3*b3;out[0]=a0,out[1]=a1,out[2]=a2,out[3]=a3,out[4]=(b0-a0*a_dot_b)/magnitude,out[5]=(b1-a1*a_dot_b)/magnitude,out[6]=(b2-a2*a_dot_b)/magnitude,out[7]=(b3-a3*a_dot_b)/magnitude}return out}function str(a){return"quat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.dot=exports.mul=exports.setReal=exports.getReal=void 0,exports.create=create,exports.clone=clone,exports.fromValues=fromValues,exports.fromRotationTranslationValues=fromRotationTranslationValues,exports.fromRotationTranslation=fromRotationTranslation,exports.fromTranslation=fromTranslation,exports.fromRotation=fromRotation,exports.fromMat4=fromMat4,exports.copy=copy,exports.identity=identity,exports.set=set,exports.getDual=getDual,exports.setDual=setDual,exports.getTranslation=getTranslation,exports.translate=translate,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.rotateByQuatAppend=rotateByQuatAppend,exports.rotateByQuatPrepend=rotateByQuatPrepend,exports.rotateAroundAxis=rotateAroundAxis,exports.add=add,exports.multiply=multiply,exports.scale=scale,exports.lerp=lerp,exports.invert=invert,exports.conjugate=conjugate,exports.normalize=normalize,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=_interopRequireWildcard(_common),_quat=__webpack_require__(20),quat=_interopRequireWildcard(_quat),_mat=__webpack_require__(19),mat4=_interopRequireWildcard(_mat),dot=(exports.getReal=quat.copy,exports.setReal=quat.copy,exports.mul=multiply,exports.dot=quat.dot),length=exports.length=quat.length,squaredLength=(exports.len=length,exports.squaredLength=quat.squaredLength);exports.sqrLen=squaredLength},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(2);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0),out}function clone(a){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=a[0],out[1]=a[1],out}function fromValues(x,y){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=x,out[1]=y,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out}function set(out,x,y){return out[0]=x,out[1]=y,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return x*x+y*y}function length(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)}function squaredLength(a){var x=a[0],y=a[1];return x*x+y*y}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out}function normalize(out,a){var x=a[0],y=a[1],len=x*x+y*y;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]}function cross(out,a,b){var z=a[0]*b[1]-a[1]*b[0];return out[0]=out[1]=0,out[2]=z,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out}function random(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI;return out[0]=Math.cos(r)*scale,out[1]=Math.sin(r)*scale,out}function transformMat2(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y,out[1]=m[1]*x+m[3]*y,out}function transformMat2d(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out}function transformMat3(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[3]*y+m[6],out[1]=m[1]*x+m[4]*y+m[7],out}function transformMat4(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[4]*y+m[12],out[1]=m[1]*x+m[5]*y+m[13],out}function rotate(out,a,b,c){var p0=a[0]-b[0],p1=a[1]-b[1],sinC=Math.sin(c),cosC=Math.cos(c);return out[0]=p0*cosC-p1*sinC+b[0],out[1]=p0*sinC+p1*cosC+b[1],out}function angle(a,b){var x1=a[0],y1=a[1],x2=b[0],y2=b[1],len1=x1*x1+y1*y1;len1>0&&(len1=1/Math.sqrt(len1));var len2=x2*x2+y2*y2;len2>0&&(len2=1/Math.sqrt(len2));var cosine=(x1*x2+y1*y2)*len1*len2;return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)}function str(a){return"vec2("+a[0]+", "+a[1]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]}function equals(a,b){var a0=a[0],a1=a[1],b0=b[0],b1=b[1];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=exports.len=void 0,exports.create=create,exports.clone=clone,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.length=length,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.cross=cross,exports.lerp=lerp,exports.random=random,exports.transformMat2=transformMat2,exports.transformMat2d=transformMat2d,exports.transformMat3=transformMat3,exports.transformMat4=transformMat4,exports.rotate=rotate,exports.angle=angle,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.len=length,exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=2),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1];return a}}()},function(module,exports,__webpack_require__){"use strict";function getAndApplyExtension(gl,name){var ext=gl.getExtension(name);if(!ext)return!1;var suffix=name.split("_")[0],suffixRE=new RegExp(suffix+"$");for(var key in ext){if("function"==typeof ext[key]){var unsuffixedKey=key.replace(suffixRE,"");key.substring&&(gl[unsuffixedKey]=ext[key].bind(ext))}}return!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getAndApplyExtension},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_WebglConst=__webpack_require__(23),_WebglConst2=_interopRequireDefault(_WebglConst),exposeAttributes=function(){for(var s in _WebglConst2.default)_GLTool2.default[s]?console.log("already exist : ",s):_GLTool2.default[s]=_WebglConst2.default[s]};exports.default=exposeAttributes},function(module,exports,__webpack_require__){"use strict";function checkFloat(){return _GLTool2.default.webgl2?_GLTool2.default.gl.FLOAT:_GLTool2.default.getExtension("OES_texture_float")?_GLTool2.default.gl.FLOAT:(console.warn("USING FLOAT BUT OES_texture_float NOT SUPPORTED"),_GLTool2.default.gl.UNSIGNED_BYTE)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return hasChecked||(_float=checkFloat()),_float};var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),hasChecked=!1,_float=void 0},function(module,exports,__webpack_require__){"use strict";function checkHalfFloat(){if(_GLTool2.default.webgl2)return _GLTool2.default.gl.HALF_FLOAT;var extHalfFloat=_GLTool2.default.getExtension("OES_texture_half_float");return extHalfFloat?extHalfFloat.HALF_FLOAT_OES:(console.warn("USING HALF FLOAT BUT OES_texture_half_float NOT SUPPORTED"),_GLTool2.default.gl.UNSIGNED_BYTE)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return hasChecked||(halfFloat=checkHalfFloat()),halfFloat};var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),hasChecked=!1,halfFloat=void 0},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["EXT_shader_texture_lod","EXT_sRGB","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","WEBGL_depth_texture","EXT_texture_filter_anisotropic","OES_vertex_array_object","ANGLE_instanced_arrays","WEBGL_draw_buffers"]},function(module,exports,__webpack_require__){"use strict";module.exports=function(strings){"string"==typeof strings&&(strings=[strings]);for(var exprs=[].slice.call(arguments,1),parts=[],i=0;i<strings.length-1;i++)parts.push(strings[i],exprs[i]||"");return parts.push(strings[i]),parts.join("")}},function(module,exports){module.exports="// basic.frag\n\n#define SHADER_NAME BASIC_FRAGMENT\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform float time;\n// uniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = vec4(vTextureCoord, sin(time) * .5 + .5, 1.0);\n}"},function(module,exports,__webpack_require__){"use strict";function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),getTextureParameters=function(mParams,mSource,mWidth,mHeight){if(!mParams.minFilter){var minFilter=_GLTool2.default.LINEAR;mWidth&&mWidth&&isPowerOfTwo(mWidth)&&isPowerOfTwo(mHeight)&&(minFilter=_GLTool2.default.NEAREST_MIPMAP_LINEAR),mParams.minFilter=minFilter}return mParams.mipmap=mParams.mipmap||!0,mParams.magFilter=mParams.magFilter||_GLTool2.default.LINEAR,mParams.wrapS=mParams.wrapS||_GLTool2.default.CLAMP_TO_EDGE,mParams.wrapT=mParams.wrapT||_GLTool2.default.CLAMP_TO_EDGE,mParams.internalFormat=mParams.internalFormat||_GLTool2.default.RGBA,mParams.format=mParams.format||_GLTool2.default.RGBA,mParams.premultiplyAlpha=mParams.premultiplyAlpha||!1,mParams.level=mParams.level||0,mParams};exports.default=getTextureParameters},function(module,exports,__webpack_require__){"use strict";function parseHeaders(arrayBuffer){var header=new Int32Array(arrayBuffer,0,headerLengthInt);if(header[off_magic]!==DDS_MAGIC)throw new Error("Invalid magic number in DDS header");if(!header[off_pfFlags]&DDPF_FOURCC)throw new Error("Unsupported format, must contain a FourCC code");var blockBytes,format,fourCC=header[off_pfFourCC];switch(fourCC){case FOURCC_DXT1:blockBytes=8,format="dxt1";break;case FOURCC_DXT3:blockBytes=16,format="dxt3";break;case FOURCC_DXT5:blockBytes=16,format="dxt5";break;case FOURCC_FP32F:format="rgba32f";break;case FOURCC_DX10:var dx10Header=new Uint32Array(arrayBuffer.slice(128,148));format=dx10Header[0];var resourceDimension=dx10Header[1];dx10Header[2],dx10Header[3],dx10Header[4];if(resourceDimension!==D3D10_RESOURCE_DIMENSION_TEXTURE2D||format!==DXGI_FORMAT_R32G32B32A32_FLOAT)throw new Error("Unsupported DX10 texture format "+format);format="rgba32f";break;default:throw new Error("Unsupported FourCC code: "+int32ToFourCC(fourCC))}var flags=header[off_flags],mipmapCount=1;flags&DDSD_MIPMAPCOUNT&&(mipmapCount=Math.max(1,header[off_mipmapCount]));var cubemap=!1;header[off_caps2]&DDSCAPS2_CUBEMAP&&(cubemap=!0);var dataLength,width=header[off_width],height=header[off_height],dataOffset=header[off_size]+4,texWidth=width,texHeight=height,images=[];if(fourCC===FOURCC_DX10&&(dataOffset+=20),cubemap)for(var f=0;f<6;f++){if("rgba32f"!==format)throw new Error("Only RGBA32f cubemaps are supported");width=texWidth,height=texHeight;for(var requiredMipLevels=Math.log(width)/Math.log(2)+1,i=0;i<requiredMipLevels;i++)dataLength=width*height*16,images.push({offset:dataOffset,length:dataLength,shape:[width,height]}),i<mipmapCount&&(dataOffset+=dataLength),width=Math.floor(width/2),height=Math.floor(height/2)}else for(var i=0;i<mipmapCount;i++)dataLength=Math.max(4,width)/4*Math.max(4,height)/4*blockBytes,images.push({offset:dataOffset,length:dataLength,shape:[width,height]}),dataOffset+=dataLength,width=Math.floor(width/2),height=Math.floor(height/2);return{shape:[texWidth,texHeight],images:images,format:format,flags:flags,cubemap:cubemap}}function fourCCToInt32(value){return value.charCodeAt(0)+(value.charCodeAt(1)<<8)+(value.charCodeAt(2)<<16)+(value.charCodeAt(3)<<24)}function int32ToFourCC(value){return String.fromCharCode(255&value,value>>8&255,value>>16&255,value>>24&255)}var DDS_MAGIC=542327876,DDSD_MIPMAPCOUNT=131072,DDPF_FOURCC=4,FOURCC_DXT1=fourCCToInt32("DXT1"),FOURCC_DXT3=fourCCToInt32("DXT3"),FOURCC_DXT5=fourCCToInt32("DXT5"),FOURCC_DX10=fourCCToInt32("DX10"),FOURCC_FP32F=116,DDSCAPS2_CUBEMAP=512,D3D10_RESOURCE_DIMENSION_TEXTURE2D=3,DXGI_FORMAT_R32G32B32A32_FLOAT=2,headerLengthInt=31,off_magic=0,off_size=1,off_flags=2,off_height=3,off_width=4,off_mipmapCount=7,off_pfFlags=20,off_pfFourCC=21,off_caps2=28;module.exports=parseHeaders},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLCubeTexture=__webpack_require__(27),_GLCubeTexture2=_interopRequireDefault(_GLCubeTexture),gl=void 0,CubeFrameBuffer=function(){function CubeFrameBuffer(size){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,CubeFrameBuffer),gl=_GLTool2.default.gl,this._size=size,this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,this._init()}return _createClass(CubeFrameBuffer,[{key:"_init",value:function(){this.texture=gl.createTexture(),this.glTexture=new _GLCubeTexture2.default(this.texture,{},!0),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT);for(var targets=[gl.TEXTURE_CUBE_MAP_POSITIVE_X,gl.TEXTURE_CUBE_MAP_NEGATIVE_X,gl.TEXTURE_CUBE_MAP_POSITIVE_Y,gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,gl.TEXTURE_CUBE_MAP_POSITIVE_Z,gl.TEXTURE_CUBE_MAP_NEGATIVE_Z],i=0;i<targets.length;i++)gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),gl.texImage2D(targets[i],0,gl.RGBA,this.width,this.height,0,gl.RGBA,gl.FLOAT,null);this._frameBuffers=[];for(var _i=0;_i<targets.length;_i++){var frameBuffer=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,frameBuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,targets[_i],this.texture,0);var status=gl.checkFramebufferStatus(gl.FRAMEBUFFER);status!==gl.FRAMEBUFFER_COMPLETE&&console.log("'gl.checkFramebufferStatus() returned '"+status),this._frameBuffers.push(frameBuffer)}gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindRenderbuffer(gl.RENDERBUFFER,null),gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}},{key:"bind",value:function(mTargetIndex){_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this._frameBuffers[mTargetIndex])}},{key:"unbind",value:function(){gl.bindFramebuffer(gl.FRAMEBUFFER,null),_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height)}},{key:"getTexture",value:function(){return this.glTexture}},{key:"width",get:function(){return this._size}},{key:"height",get:function(){return this._size}}]),CubeFrameBuffer}();exports.default=CubeFrameBuffer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLTexture=__webpack_require__(25),_GLTexture2=_interopRequireDefault(_GLTexture),gl=void 0,MultisampleFrameBuffer=function(){function MultisampleFrameBuffer(mWidth,mHeight){var mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,MultisampleFrameBuffer),gl=_GLTool2.default.gl,this.width=mWidth,this.height=mHeight,this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,this.useDepth=mParameters.useDepth||!0,this.useStencil=mParameters.useStencil||!1,this.texelType=mParameters.type,this._numSample=mParameters.numSample||8,isPowerOfTwo(this.width)&&isPowerOfTwo(this.height)||(this.wrapS=this.wrapT=gl.CLAMP_TO_EDGE,this.minFilter===gl.LINEAR_MIPMAP_NEAREST&&(this.minFilter=gl.LINEAR)),this._init()}return _createClass(MultisampleFrameBuffer,[{key:"_init",value:function(){var texelType=gl.UNSIGNED_BYTE;this.texelType&&(texelType=this.texelType),this.texelType=texelType,this.frameBuffer=gl.createFramebuffer(),this.frameBufferColor=gl.createFramebuffer(),this.renderBufferColor=gl.createRenderbuffer(),this.renderBufferDepth=gl.createRenderbuffer(),this.glTexture=this._createTexture(),this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT16,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,!0),gl.bindRenderbuffer(gl.RENDERBUFFER,this.renderBufferColor),gl.renderbufferStorageMultisample(gl.RENDERBUFFER,this._numSample,gl.RGBA8,this.width,this.height),gl.bindRenderbuffer(gl.RENDERBUFFER,this.renderBufferDepth),gl.renderbufferStorageMultisample(gl.RENDERBUFFER,this._numSample,gl.DEPTH_COMPONENT16,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.RENDERBUFFER,this.renderBufferColor),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.RENDERBUFFER,this.renderBufferDepth),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBufferColor),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,this.glTexture.texture,0),gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},{key:"_createTexture",value:function(mInternalformat,mTexelType,mFormat){var forceNearest=arguments.length>3&&void 0!==arguments[3]&&arguments[3];void 0===mInternalformat&&(mInternalformat=gl.RGBA),void 0===mTexelType&&(mTexelType=this.texelType),mFormat||(mFormat=mInternalformat);var t=gl.createTexture(),glt=new _GLTexture2.default(t,!0),magFilter=forceNearest?_GLTool2.default.NEAREST:this.magFilter,minFilter=forceNearest?_GLTool2.default.NEAREST:this.minFilter;return gl.bindTexture(gl.TEXTURE_2D,t),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this.wrapT),gl.texImage2D(gl.TEXTURE_2D,0,mInternalformat,this.width,this.height,0,mFormat,mTexelType,null),gl.bindTexture(gl.TEXTURE_2D,null),glt}},{key:"bind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer)}},{key:"unbind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height);var width=this.width,height=this.height;gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindFramebuffer(gl.READ_FRAMEBUFFER,this.frameBuffer),gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER,this.frameBufferColor),gl.clearBufferfv(gl.COLOR,0,[0,0,0,0]),gl.blitFramebuffer(0,0,width,height,0,0,width,height,gl.COLOR_BUFFER_BIT,_GLTool2.default.NEAREST),gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},{key:"getTexture",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.glTexture}},{key:"getDepthTexture",value:function(){return this.glDepthTexture}}]),MultisampleFrameBuffer}();exports.default=MultisampleFrameBuffer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),gl=void 0,TransformFeedbackObject=function(){function TransformFeedbackObject(strVertexShader,strFragmentShader){_classCallCheck(this,TransformFeedbackObject),gl=_GLTool2.default.gl,this._vs=strVertexShader,this._fs=strFragmentShader,this._init()}return _createClass(TransformFeedbackObject,[{key:"_init",value:function(){this._meshCurrent=new _Mesh2.default,this._meshTarget=new _Mesh2.default,this._numPoints=-1,this._varyings=[],this.transformFeedback=gl.createTransformFeedback()}},{key:"bufferData",value:function(mData,mName,mVaryingName){var isTransformFeedback=!!mVaryingName;console.log("is Transform feedback ?",mName,isTransformFeedback),this._meshCurrent.bufferData(mData,mName,null,gl.STREAM_COPY,!1),this._meshTarget.bufferData(mData,mName,null,gl.STREAM_COPY,!1),isTransformFeedback&&(this._varyings.push(mVaryingName),this._numPoints<0&&(this._numPoints=mData.length))}},{key:"bufferIndex",value:function(mArrayIndices){this._meshCurrent.bufferIndex(mArrayIndices),this._meshTarget.bufferIndex(mArrayIndices)}},{key:"uniform",value:function(mName,mType,mValue){this.shader&&this.shader.uniform(mName,mType,mValue)}},{key:"generate",value:function(){this.shader=new _GLShader2.default(this._vs,this._fs,this._varyings)}},{key:"render",value:function(){this.shader||this.generate(),this.shader.bind(),_GLTool2.default.drawTransformFeedback(this),this._swap()}},{key:"_swap",value:function(){var tmp=this._meshCurrent;this._meshCurrent=this._meshTarget,this._meshTarget=tmp}},{key:"numPoints",get:function(){return this._numPoints}},{key:"meshCurrent",get:function(){return this._meshCurrent}},{key:"meshTarget",get:function(){return this._meshTarget}},{key:"meshSource",get:function(){return this._meshCurrent}},{key:"meshDestination",get:function(){return this._meshTarget}}]),TransformFeedbackObject}();exports.default=TransformFeedbackObject},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(4),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),SpringNumber=function(){function SpringNumber(mValue){var _this=this,mSpeed=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,mDecreaseRate=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.9;_classCallCheck(this,SpringNumber),this._value=mValue,this._targetValue=mValue,this.speed=mSpeed,this.decreaseRate=mDecreaseRate,this._velocity=0,this._efIndex=_scheduling2.default.addEF(function(){return _this._update()})}return _createClass(SpringNumber,[{key:"_update",value:function(){if(this._checkLimit(),Math.abs(this._targetValue-this._value)<1e-4)return void(this._value=this._targetValue);this._velocity+=(this._targetValue-this._value)*this.speed,this._value+=this._velocity,this._velocity*=this.decreaseRate,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}},{key:"limit",value:function(mMin,mMax){if(mMin>mMax)return void this.limit(mMax,mMin);this._min=mMin,this._max=mMax,this._checkLimit()}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"destroy",value:function(){_scheduling2.default.removeEF(this._efIndex)}},{key:"value",set:function(mValue){this._targetValue=mValue},get:function(){return this._value}}]),SpringNumber}();exports.default=SpringNumber},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getFunc(mEasing){switch(mEasing){default:case"linear":return Easing.Linear.None;case"expIn":return Easing.Exponential.In;case"expOut":return Easing.Exponential.Out;case"expInOut":return Easing.Exponential.InOut;case"cubicIn":return Easing.Cubic.In;case"cubicOut":return Easing.Cubic.Out;case"cubicInOut":return Easing.Cubic.InOut;case"quarticIn":return Easing.Quartic.In;case"quarticOut":return Easing.Quartic.Out;case"quarticInOut":return Easing.Quartic.InOut;case"quinticIn":return Easing.Quintic.In;case"quinticOut":return Easing.Quintic.Out;case"quinticInOut":return Easing.Quintic.InOut;case"sinusoidalIn":return Easing.Sinusoidal.In;case"sinusoidalOut":return Easing.Sinusoidal.Out;case"sinusoidalInOut":return Easing.Sinusoidal.InOut;case"circularIn":return Easing.Circular.In;case"circularOut":return Easing.Circular.Out;case"circularInOut":return Easing.Circular.InOut;case"elasticIn":return Easing.Elastic.In;case"elasticOut":return Easing.Elastic.Out;case"elasticInOut":return Easing.Elastic.InOut;case"backIn":return Easing.Back.In;case"backOut":return Easing.Back.Out;case"backInOut":return Easing.Back.InOut;case"bounceIn":return Easing.Bounce.in;case"bounceOut":return Easing.Bounce.out;case"bounceInOut":return Easing.Bounce.inOut}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(4),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),Easing={Linear:{None:function(k){return k}},Quadratic:{In:function(k){return k*k},Out:function(k){return k*(2-k)},InOut:function(k){return(k*=2)<1?.5*k*k:-.5*(--k*(k-2)-1)}},Cubic:{In:function(k){return k*k*k},Out:function(k){return--k*k*k+1},InOut:function(k){return(k*=2)<1?.5*k*k*k:.5*((k-=2)*k*k+2)}},Quartic:{In:function(k){return k*k*k*k},Out:function(k){return 1- --k*k*k*k},InOut:function(k){return(k*=2)<1?.5*k*k*k*k:-.5*((k-=2)*k*k*k-2)}},Quintic:{In:function(k){return k*k*k*k*k},Out:function(k){return--k*k*k*k*k+1},InOut:function(k){return(k*=2)<1?.5*k*k*k*k*k:.5*((k-=2)*k*k*k*k+2)}},Sinusoidal:{In:function(k){return 1-Math.cos(k*Math.PI/2)},Out:function(k){return Math.sin(k*Math.PI/2)},InOut:function(k){return.5*(1-Math.cos(Math.PI*k))}},Exponential:{In:function(k){return 0===k?0:Math.pow(1024,k-1)},Out:function(k){return 1===k?1:1-Math.pow(2,-10*k)},InOut:function(k){return 0===k?0:1===k?1:(k*=2)<1?.5*Math.pow(1024,k-1):.5*(2-Math.pow(2,-10*(k-1)))}},Circular:{In:function(k){return 1-Math.sqrt(1-k*k)},Out:function(k){return Math.sqrt(1- --k*k)},InOut:function(k){return(k*=2)<1?-.5*(Math.sqrt(1-k*k)-1):.5*(Math.sqrt(1-(k-=2)*k)+1)}},Elastic:{In:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4))},Out:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/.4)+1)},InOut:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),(k*=2)<1?a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4)*-.5:a*Math.pow(2,-10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(k){var s=1.70158;return k*k*((s+1)*k-s)},Out:function(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},InOut:function(k){var s=2.5949095;return(k*=2)<1?k*k*((s+1)*k-s)*.5:.5*((k-=2)*k*((s+1)*k+s)+2)}},Bounce:{in:function(k){return 1-Easing.Bounce.out(1-k)},out:function(k){return k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375},inOut:function(k){return k<.5?.5*Easing.Bounce.in(2*k):.5*Easing.Bounce.out(2*k-1)+.5}}},TweenNumber=function(){function TweenNumber(mValue){var _this=this,mEasing=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expOut",mSpeed=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;_classCallCheck(this,TweenNumber),this._value=mValue,this._startValue=mValue,this._targetValue=mValue,this._counter=1,this.speed=mSpeed,this.easing=mEasing,this._needUpdate=!0,this._efIndex=_scheduling2.default.addEF(function(){return _this._update()})}return _createClass(TweenNumber,[{key:"_update",value:function(){var newCounter=this._counter+this.speed;if(newCounter>1&&(newCounter=1),this._counter===newCounter)return void(this._needUpdate=!1);this._counter=newCounter,this._needUpdate=!0}},{key:"limit",value:function(mMin,mMax){if(mMin>mMax)return void this.limit(mMax,mMin);this._min=mMin,this._max=mMax,this._checkLimit()}},{key:"setTo",value:function(mValue){this._value=mValue,this._targetValue=mValue,this._counter=1}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"destroy",value:function(){_scheduling2.default.removeEF(this._efIndex)}},{key:"value",set:function(mValue){this._startValue=this._value,this._targetValue=mValue,this._checkLimit(),this._counter=0},get:function(){if(this._needUpdate){var f=getFunc(this.easing),p=f(this._counter);this._value=this._startValue+p*(this._targetValue-this._startValue),this._needUpdate=!1}return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),TweenNumber}();exports.default=TweenNumber},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(2),_EaseNumber=__webpack_require__(10),_EaseNumber2=_interopRequireDefault(_EaseNumber),_scheduling=__webpack_require__(4),_scheduling2=_interopRequireDefault(_scheduling),getMouse=function(mEvent,mTarget){var o=mTarget||{};return mEvent.touches?(o.x=mEvent.touches[0].pageX,o.y=mEvent.touches[0].pageY):(o.x=mEvent.clientX,o.y=mEvent.clientY),o},QuatRotation=function(){function QuatRotation(mTarget){var _this=this,mListenerTarget=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,mEasing=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;_classCallCheck(this,QuatRotation),this._target=mTarget,this._listenerTarget=mListenerTarget,this.matrix=_glMatrix.mat4.create(),this.m=_glMatrix.mat4.create(),this._vZaxis=_glMatrix.vec3.clone([0,0,0]),this._zAxis=_glMatrix.vec3.clone([0,0,1]),this.preMouse={x:0,y:0},this.mouse={x:0,y:0},this._isMouseDown=!1,this._rotation=_glMatrix.quat.create(),this.tempRotation=_glMatrix.quat.create(),this._rotateZMargin=0,this._offset=.004,this._slerp=-1,this._isLocked=!1,this._diffX=new _EaseNumber2.default(0,mEasing),this._diffY=new _EaseNumber2.default(0,mEasing),this._listenerTarget.addEventListener("mousedown",function(e){return _this._onDown(e)}),this._listenerTarget.addEventListener("touchstart",function(e){return _this._onDown(e)}),this._listenerTarget.addEventListener("mousemove",function(e){return _this._onMove(e)}),this._listenerTarget.addEventListener("touchmove",function(e){return _this._onMove(e)}),window.addEventListener("touchend",function(){return _this._onUp()}),window.addEventListener("mouseup",function(){return _this._onUp()}),_scheduling2.default.addEF(function(){return _this._loop()})}return _createClass(QuatRotation,[{key:"inverseControl",value:function(){var isInvert=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=isInvert}},{key:"lock",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLocked=mValue}},{key:"setCameraPos",value:function(mQuat){var speed=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;if(this.easing=speed,!(this._slerp>0)){var tempRotation=_glMatrix.quat.clone(this._rotation);this._updateRotation(tempRotation),this._rotation=_glMatrix.quat.clone(tempRotation),this._currDiffX=this.diffX=0,this._currDiffY=this.diffY=0,this._isMouseDown=!1,this._isRotateZ=0,this._targetQuat=_glMatrix.quat.clone(mQuat),this._slerp=1}}},{key:"resetQuat",value:function(){this._rotation=_glMatrix.quat.clone([0,0,1,0]),this.tempRotation=_glMatrix.quat.clone([0,0,0,0]),this._targetQuat=void 0,this._slerp=-1}},{key:"_onDown",value:function(mEvent){if(!this._isLocked){var mouse=getMouse(mEvent),tempRotation=_glMatrix.quat.clone(this._rotation);this._updateRotation(tempRotation),this._rotation=tempRotation,this._isMouseDown=!0,this._isRotateZ=0,this.preMouse={x:mouse.x,y:mouse.y},mouse.y<this._rotateZMargin||mouse.y>window.innerHeight-this._rotateZMargin?this._isRotateZ=1:(mouse.x<this._rotateZMargin||mouse.x>window.innerWidth-this._rotateZMargin)&&(this._isRotateZ=2),this._diffX.setTo(0),this._diffY.setTo(0)}}},{key:"_onMove",value:function(mEvent){this._isLocked||getMouse(mEvent,this.mouse)}},{key:"_onUp",value:function(){this._isLocked||(this._isMouseDown=!1)}},{key:"_updateRotation",value:function(mTempRotation){this._isMouseDown&&!this._isLocked&&(this._diffX.value=-(this.mouse.x-this.preMouse.x),this._diffY.value=this.mouse.y-this.preMouse.y,this._isInvert&&(this._diffX.value=-this._diffX.targetValue,this._diffY.value=-this._diffY.targetValue));var angle=void 0,_quat=void 0;if(this._isRotateZ>0)1===this._isRotateZ?(angle=-this._diffX.value*this._offset,angle*=this.preMouse.y<this._rotateZMargin?-1:1,_quat=_glMatrix.quat.clone([0,0,Math.sin(angle),Math.cos(angle)]),_glMatrix.quat.multiply(_quat,mTempRotation,_quat)):(angle=-this._diffY.value*this._offset,angle*=this.preMouse.x<this._rotateZMargin?1:-1,_quat=_glMatrix.quat.clone([0,0,Math.sin(angle),Math.cos(angle)]),_glMatrix.quat.multiply(_quat,mTempRotation,_quat));else{var v=_glMatrix.vec3.clone([this._diffX.value,this._diffY.value,0]),axis=_glMatrix.vec3.create();_glMatrix.vec3.cross(axis,v,this._zAxis),_glMatrix.vec3.normalize(axis,axis),angle=_glMatrix.vec3.length(v)*this._offset,_quat=_glMatrix.quat.clone([Math.sin(angle)*axis[0],Math.sin(angle)*axis[1],Math.sin(angle)*axis[2],Math.cos(angle)]),_glMatrix.quat.multiply(mTempRotation,_quat,mTempRotation)}}},{key:"_loop",value:function(){_glMatrix.mat4.identity(this.m),void 0===this._targetQuat?(_glMatrix.quat.set(this.tempRotation,this._rotation[0],this._rotation[1],this._rotation[2],this._rotation[3]),this._updateRotation(this.tempRotation)):(this._slerp+=.1*(0-this._slerp),this._slerp<5e-4?(_glMatrix.quat.copy(this._rotation,this._targetQuat),_glMatrix.quat.copy(this.tempRotation,this._targetQuat),this._targetQuat=void 0,this._diffX.setTo(0),this._diffY.setTo(0),this._slerp=-1):(_glMatrix.quat.set(this.tempRotation,0,0,0,0),_glMatrix.quat.slerp(this.tempRotation,this._targetQuat,this._rotation,this._slerp))),_glMatrix.vec3.transformQuat(this._vZaxis,this._vZaxis,this.tempRotation),_glMatrix.mat4.fromQuat(this.matrix,this.tempRotation)}},{key:"easing",set:function(mValue){this._diffX.easing=mValue,this._diffY.easing=mValue},get:function(){return this._diffX.easing}}]),QuatRotation}();exports.default=QuatRotation},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function distance(a,b){var dx=a.x-b.x,dy=a.y-b.y;return Math.sqrt(dx*dx+dy*dy)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_EventDispatcher2=__webpack_require__(29),_EventDispatcher3=_interopRequireDefault(_EventDispatcher2),_Ray=__webpack_require__(11),_Ray2=_interopRequireDefault(_Ray),_getMouse=__webpack_require__(58),_getMouse2=_interopRequireDefault(_getMouse),TouchDetector=function(_EventDispatcher){function TouchDetector(mMesh,mCamera){var mSkipMoveCheck=arguments.length>2&&void 0!==arguments[2]&&arguments[2],mListenerTarget=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window;_classCallCheck(this,TouchDetector);var _this=_possibleConstructorReturn(this,(TouchDetector.__proto__||Object.getPrototypeOf(TouchDetector)).call(this));return _this._mesh=mMesh,_this._mesh.generateFaces(),_this._camera=mCamera,_this.faceVertices=mMesh.faces.map(function(face){return face.vertices}),_this.clickTolerance=8,_this._ray=new _Ray2.default([0,0,0],[0,0,-1]),_this._hit=vec3.fromValues(-999,-999,-999),_this._lastPos,_this._firstPos,_this.mtxModel=mat4.create(),_this._listenerTarget=mListenerTarget,_this._skippingMove=mSkipMoveCheck,_this._onMoveBind=function(e){return _this._onMove(e)},_this._onDownBind=function(e){return _this._onDown(e)},_this._onUpBind=function(){return _this._onUp()},_this.connect(),_this}return _inherits(TouchDetector,_EventDispatcher),_createClass(TouchDetector,[{key:"connect",value:function(){this._listenerTarget.addEventListener("mousedown",this._onDownBind),this._listenerTarget.addEventListener("mousemove",this._onMoveBind),this._listenerTarget.addEventListener("mouseup",this._onUpBind)}},{key:"disconnect",value:function(){this._listenerTarget.removeEventListener("mousedown",this._onDownBind),this._listenerTarget.removeEventListener("mousemove",this._onMoveBind),this._listenerTarget.removeEventListener("mouseup",this._onUpBind)}},{key:"_checkHit",value:function(){var _this2=this,mType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"onHit",camera=this._camera;if(camera){var mx=this._lastPos.x/_GLTool2.default.width*2-1,my=-this._lastPos.y/_GLTool2.default.height*2+1;camera.generateRay([mx,my,0],this._ray);for(var hit=void 0,v0=vec3.create(),v1=vec3.create(),v2=vec3.create(),dist=0,getVector=function(v,target){vec3.transformMat4(target,v,_this2.mtxModel)},i=0;i<this.faceVertices.length;i++){var vertices=this.faceVertices[i];getVector(vertices[0],v0),getVector(vertices[1],v1),getVector(vertices[2],v2);var t=this._ray.intersectTriangle(v0,v1,v2);if(t)if(hit){var distToCam=vec3.dist(t,camera.position);distToCam<dist&&(hit=vec3.clone(t),dist=distToCam)}else hit=vec3.clone(t),dist=vec3.dist(hit,camera.position)}hit?(this._hit=vec3.clone(hit),this.dispatchCustomEvent(mType,{hit:hit})):this.dispatchCustomEvent("onUp")}}},{key:"_onDown",value:function(e){this._firstPos=(0,_getMouse2.default)(e),this._lastPos=(0,_getMouse2.default)(e),this._checkHit("onDown")}},{key:"_onMove",value:function(e){this._lastPos=(0,_getMouse2.default)(e),this._skippingMove||this._checkHit()}},{key:"_onUp",value:function(){distance(this._firstPos,this._lastPos)<this.clickTolerance&&this._checkHit()}}]),TouchDetector}(_EventDispatcher3.default);exports.default=TouchDetector},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var x=void 0,y=void 0;return e.touches?(x=e.touches[0].pageX,y=e.touches[0].pageY):(x=e.clientX,y=e.clientY),{x:x,y:y}}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_CameraPerspective2=__webpack_require__(13),_CameraPerspective3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_CameraPerspective2),_glMatrix=__webpack_require__(2),CAMERA_SETTINGS=[[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(1,0,0),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(-1,0,0),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,1,0),_glMatrix.vec3.fromValues(0,0,1)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,-1,0),_glMatrix.vec3.fromValues(0,0,-1)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,0,1),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,0,-1),_glMatrix.vec3.fromValues(0,-1,0)]],CameraCube=function(_CameraPerspective){function CameraCube(){_classCallCheck(this,CameraCube);var _this=_possibleConstructorReturn(this,(CameraCube.__proto__||Object.getPrototypeOf(CameraCube)).call(this));return _this.setPerspective(Math.PI/2,1,.1,1e3),_this}return _inherits(CameraCube,_CameraPerspective),_createClass(CameraCube,[{key:"face",value:function(mIndex){var o=CAMERA_SETTINGS[mIndex];this.lookAt(o[0],o[1],o[2])}}]),CameraCube}(_CameraPerspective3.default);exports.default=CameraCube},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_BinaryLoader2=__webpack_require__(14),_BinaryLoader3=_interopRequireDefault(_BinaryLoader2),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),ObjLoader=function(_BinaryLoader){function ObjLoader(){return _classCallCheck(this,ObjLoader),_possibleConstructorReturn(this,(ObjLoader.__proto__||Object.getPrototypeOf(ObjLoader)).apply(this,arguments))}return _inherits(ObjLoader,_BinaryLoader),_createClass(ObjLoader,[{key:"load",value:function(url,callback){var drawType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;this._drawType=drawType,_get(ObjLoader.prototype.__proto__||Object.getPrototypeOf(ObjLoader.prototype),"load",this).call(this,url,callback)}},{key:"_onLoaded",value:function(){this.parseObj(this._req.response)}},{key:"parseObj",value:function(objStr){function parseVertexIndex(value){var index=parseInt(value);return 3*(index>=0?index-1:index+vertices.length/3)}function parseNormalIndex(value){var index=parseInt(value);return 3*(index>=0?index-1:index+normals.length/3)}function parseUVIndex(value){var index=parseInt(value);return 2*(index>=0?index-1:index+uvs.length/2)}function addVertex(a,b,c){positions.push([vertices[a],vertices[a+1],vertices[a+2]]),positions.push([vertices[b],vertices[b+1],vertices[b+2]]),positions.push([vertices[c],vertices[c+1],vertices[c+2]]),indices.push(3*count+0),indices.push(3*count+1),indices.push(3*count+2),count++}function addUV(a,b,c){coords.push([uvs[a],uvs[a+1]]),coords.push([uvs[b],uvs[b+1]]),coords.push([uvs[c],uvs[c+1]])}function addNormal(a,b,c){finalNormals.push([normals[a],normals[a+1],normals[a+2]]),finalNormals.push([normals[b],normals[b+1],normals[b+2]]),finalNormals.push([normals[c],normals[c+1],normals[c+2]])}function addFace(a,b,c,d,ua,ub,uc,ud,na,nb,nc,nd){var ia=parseVertexIndex(a),ib=parseVertexIndex(b),ic=parseVertexIndex(c),id=void 0;void 0===d?addVertex(ia,ib,ic):(id=parseVertexIndex(d),addVertex(ia,ib,id),addVertex(ib,ic,id)),void 0!==ua&&(ia=parseUVIndex(ua),ib=parseUVIndex(ub),ic=parseUVIndex(uc),void 0===d?addUV(ia,ib,ic):(id=parseUVIndex(ud),addUV(ia,ib,id),addUV(ib,ic,id))),void 0!==na&&(ia=parseNormalIndex(na),ib=parseNormalIndex(nb),ic=parseNormalIndex(nc),void 0===d?addNormal(ia,ib,ic):(id=parseNormalIndex(nd),addNormal(ia,ib,id),addNormal(ib,ic,id)))}for(var lines=objStr.split("\n"),positions=[],coords=[],finalNormals=[],vertices=[],normals=[],uvs=[],indices=[],count=0,result=void 0,vertexPattern=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,normalPattern=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,uvPattern=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,facePattern1=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,facePattern2=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,facePattern3=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,facePattern4=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/,i=0;i<lines.length;i++){var line=lines[i];line=line.trim(),0!==line.length&&"#"!==line.charAt(0)&&(null!==(result=vertexPattern.exec(line))?vertices.push(parseFloat(result[1]),parseFloat(result[2]),parseFloat(result[3])):null!==(result=normalPattern.exec(line))?normals.push(parseFloat(result[1]),parseFloat(result[2]),parseFloat(result[3])):null!==(result=uvPattern.exec(line))?uvs.push(parseFloat(result[1]),parseFloat(result[2])):null!==(result=facePattern1.exec(line))?addFace(result[1],result[2],result[3],result[4]):null!==(result=facePattern2.exec(line))?addFace(result[2],result[5],result[8],result[11],result[3],result[6],result[9],result[12]):null!==(result=facePattern3.exec(line))?addFace(result[2],result[6],result[10],result[14],result[3],result[7],result[11],result[15],result[4],result[8],result[12],result[16]):null!==(result=facePattern4.exec(line))&&addFace(result[2],result[5],result[8],result[11],void 0,void 0,void 0,void 0,result[3],result[6],result[9],result[12]))}return this._generateMeshes({positions:positions,coords:coords,normals:finalNormals,indices:indices})}},{key:"_generateMeshes",value:function(o){var hasNormals=o.normals.length>0,hasUVs=o.coords.length>0,mesh=void 0;if(o.positions.length>65535){var meshes=[],lastIndex=0,oCopy={};for(oCopy.positions=o.positions.concat(),oCopy.coords=o.coords.concat(),oCopy.indices=o.indices.concat(),oCopy.normals=o.normals.concat();o.indices.length>0;){for(var sliceNum=Math.min(65535,o.positions.length),indices=o.indices.splice(0,sliceNum),positions=[],coords=[],normals=[],index=void 0,tmpIndex=0,i=0;i<indices.length;i++)indices[i]>tmpIndex&&(tmpIndex=indices[i]),index=indices[i],positions.push(oCopy.positions[index]),hasUVs&&coords.push(oCopy.coords[index]),hasNormals&&normals.push(oCopy.normals[index]),indices[i]-=lastIndex;lastIndex=tmpIndex+1,mesh=new _Mesh2.default(this._drawType),mesh.bufferVertex(positions),hasUVs&&mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),hasNormals&&mesh.bufferNormal(normals),meshes.push(mesh)}return this._callback&&this._callback(meshes,oCopy),meshes}return mesh=new _Mesh2.default(this._drawType),mesh.bufferVertex(o.positions),hasUVs&&mesh.bufferTexCoord(o.coords),mesh.bufferIndex(o.indices),hasNormals&&mesh.bufferNormal(o.normals),this._callback&&this._callback(mesh,o),mesh}}]),ObjLoader}(_BinaryLoader3.default);ObjLoader.parse=function(objStr){return(new ObjLoader).parseObj(objStr)},exports.default=ObjLoader},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_BinaryLoader2=__webpack_require__(14),_BinaryLoader3=_interopRequireDefault(_BinaryLoader2),_HDRParser=__webpack_require__(62),_HDRParser2=_interopRequireDefault(_HDRParser),HDRLoader=function(_BinaryLoader){function HDRLoader(){return _classCallCheck(this,HDRLoader),_possibleConstructorReturn(this,(HDRLoader.__proto__||Object.getPrototypeOf(HDRLoader)).call(this,!0))}return _inherits(HDRLoader,_BinaryLoader),_createClass(HDRLoader,[{key:"parse",value:function(mArrayBuffer){return(0,_HDRParser2.default)(mArrayBuffer)}},{key:"_onLoaded",value:function(){var o=this.parse(this._req.response);this._callback&&this._callback(o)}}]),HDRLoader}(_BinaryLoader3.default);HDRLoader.parse=function(mArrayBuffer){return(0,_HDRParser2.default)(mArrayBuffer)},exports.default=HDRLoader},function(module,exports,__webpack_require__){"use strict";function readPixelsRawRLE(buffer,data,offset,fileOffset,scanlineWidth,numScanlines){function readBuf(buf){var bytesRead=0;do{buf[bytesRead++]=buffer[fileOffset]}while(++fileOffset<bufferLength&&bytesRead<buf.length);return bytesRead}function readBufOffset(buf,offset,length){var bytesRead=0;do{buf[offset+bytesRead++]=buffer[fileOffset]}while(++fileOffset<bufferLength&&bytesRead<length);return bytesRead}for(var rgbe=new Array(4),scanlineBuffer=null,ptr=void 0,ptrEnd=void 0,count=void 0,buf=new Array(2),bufferLength=buffer.length;numScanlines>0;){if(readBuf(rgbe)<rgbe.length)throw new Error("Error reading bytes: expected "+rgbe.length);if(2!==rgbe[0]||2!==rgbe[1]||0!=(128&rgbe[2]))return data[offset++]=rgbe[0],data[offset++]=rgbe[1],data[offset++]=rgbe[2],data[offset++]=rgbe[3],void function(buffer,data,offset,numpixels){var numExpected=4*numpixels,numRead=readBufOffset(data,offset,numExpected);if(numRead<numExpected)throw new Error("Error reading raw pixels: got "+numRead+" bytes, expected "+numExpected)}(0,data,offset,scanlineWidth*numScanlines-1);if(((255&rgbe[2])<<8|255&rgbe[3])!==scanlineWidth)throw new Error("Wrong scanline width "+((255&rgbe[2])<<8|255&rgbe[3])+", expected "+scanlineWidth);null===scanlineBuffer&&(scanlineBuffer=new Array(4*scanlineWidth)),ptr=0;for(var i=0;i<4;i++)for(ptrEnd=(i+1)*scanlineWidth;ptr<ptrEnd;){if(readBuf(buf)<buf.length)throw new Error("Error reading 2-byte buffer");if((255&buf[0])>128){if(0===(count=(255&buf[0])-128)||count>ptrEnd-ptr)throw new Error("Bad scanline data");for(;count-- >0;)scanlineBuffer[ptr++]=buf[1]}else{if(0===(count=255&buf[0])||count>ptrEnd-ptr)throw new Error("Bad scanline data");if(scanlineBuffer[ptr++]=buf[1],--count>0){if(readBufOffset(scanlineBuffer,ptr,count)<count)throw new Error("Error reading non-run data");ptr+=count}}}for(var _i=0;_i<scanlineWidth;_i++)data[offset+0]=scanlineBuffer[_i],data[offset+1]=scanlineBuffer[_i+scanlineWidth],data[offset+2]=scanlineBuffer[_i+2*scanlineWidth],data[offset+3]=scanlineBuffer[_i+3*scanlineWidth],offset+=4;numScanlines--}}function parseHdr(buffer){buffer instanceof ArrayBuffer&&(buffer=new Uint8Array(buffer));for(var fileOffset=0,bufferLength=buffer.length,NEW_LINE=10,width=0,height=0,exposure=1,rle=!1,i=0;i<20;i++){var line=function(){var buf="";do{var b=buffer[fileOffset];if(b===NEW_LINE){++fileOffset;break}buf+=String.fromCharCode(b)}while(++fileOffset<bufferLength);return buf}(),match=void 0;if(match=line.match(radiancePattern));else if(match=line.match(formatPattern))rle=!0;else if(match=line.match(exposurePattern))exposure=Number(match[1]);else if(match=line.match(commentPattern));else if(match=line.match(widthHeightPattern)){height=Number(match[1]),width=Number(match[2]);break}}if(!rle)throw new Error("File is not run length encoded!");var data=new Uint8Array(width*height*4);readPixelsRawRLE(buffer,data,0,fileOffset,width,height);for(var floatData=new Float32Array(width*height*4),offset=0;offset<data.length;offset+=4){var r=data[offset+0]/255,g=data[offset+1]/255,b=data[offset+2]/255,e=data[offset+3],f=Math.pow(2,e-128);r*=f,g*=f,b*=f;var floatOffset=offset;floatData[floatOffset+0]=r,floatData[floatOffset+1]=g,floatData[floatOffset+2]=b,floatData[floatOffset+3]=1}return{shape:[width,height],exposure:exposure,gamma:1,data:floatData}}Object.defineProperty(exports,"__esModule",{value:!0});var radiancePattern="#\\?RADIANCE",commentPattern="#.*",exposurePattern="EXPOSURE=\\s*([0-9]*[.][0-9]*)",formatPattern="FORMAT=32-bit_rle_rgbe",widthHeightPattern="-Y ([0-9]+) \\+X ([0-9]+)";exports.default=parseHdr},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Mesh=__webpack_require__(5),_Mesh2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Mesh),ARRAY_CTOR_MAP={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},SIZE_MAP={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},semanticAttributeMap={NORMAL:"aNormal",POSITION:"aVertexPosition",TEXCOORD_0:"aTextureCoord",WEIGHTS_0:"aWeight",JOINTS_0:"aJoint",COLOR:"aColor"},parse=function(gltf,bin){return new Promise(function(resolve,reject){gltf.output={meshes:[],scenes:[],textures:[]},_getBufferViewData(gltf,bin).then(_parseMesh).then(function(gltfInfo){resolve(gltfInfo)}).catch(function(e){console.log("Error:",e)})})},_getBufferViewData=function(gltfInfo,bin){return new Promise(function(resolve,reject){var bufferViews=gltfInfo.bufferViews;gltfInfo.buffers;bufferViews.forEach(function(bufferViewInfo,i){var buffer=bin;bufferViewInfo.data=buffer.slice(bufferViewInfo.byteOffset||0,(bufferViewInfo.byteOffset||0)+(bufferViewInfo.byteLength||0))}),resolve(gltfInfo)})},_parseMesh=function(gltf){return new Promise(function(resolve,reject){var meshes=gltf.meshes;gltf.geometries=[],meshes.forEach(function(mesh,i){var primitives=mesh.primitives,geometry={};primitives.forEach(function(primitiveInfo,i){var semantics=Object.keys(primitiveInfo.attributes),defines={};if(semantics.forEach(function(semantic,i){var accessorIdx=primitiveInfo.attributes[semantic],attributeInfo=gltf.accessors[accessorIdx],attributeName=semanticAttributeMap[semantic];if(attributeName){"NORMAL"===semantic&&(defines.HAS_NORMALS=1),semantic.indexOf("TEXCOORD")>-1&&(defines.HAS_UV=1);var size=SIZE_MAP[attributeInfo.type],attributeArray=_getAccessorData(gltf,accessorIdx);attributeArray instanceof Uint32Array&&(attributeArray=new Float32Array(attributeArray)),"TEXCOORD_1"===semantic&&console.log(size,attributeArray),geometry[attributeName]={value:attributeArray,size:size}}}),null!=primitiveInfo.indices){var attributeArray=_getAccessorData(gltf,primitiveInfo.indices,!0);geometry.indices={value:attributeArray,size:1}}var m=new _Mesh2.default;for(var s in geometry){var data=geometry[s];"indices"!==s?m.bufferFlattenData(data.value,s,data.size):m.bufferIndex(data.value)}if(gltf.output.meshes.push(m),primitiveInfo.material){console.log("gltf.output",gltf.output,primitiveInfo.material);var material=gltf.output.materials[primitiveInfo.material];m.material=material,defines=objectAssign(defines,m.material.defines),m.defines=defines;var shader=Shaders.get(ShaderLibs.gltfVert,ShaderLibs.gltfFrag,defines),emissiveFacotr=material.emissiveFacotr,normalTexture=material.normalTexture,occlusionTexture=material.occlusionTexture,pbrMetallicRoughness=material.pbrMetallicRoughness,baseColorTexture=pbrMetallicRoughness.baseColorTexture,metallicRoughnessTexture=pbrMetallicRoughness.metallicRoughnessTexture,uniforms={uEmissiveFactor:emissiveFacotr||[0,0,0],uBaseColor:pbrMetallicRoughness.baseColorFactor||[1,1,1,1],uRoughness:pbrMetallicRoughness.roughnessFactor||1,uMetallic:pbrMetallicRoughness.metallicFactor||1,uScaleDiffBaseMR:[0,0,0,0],uScaleFGDSpec:[0,0,0,0],uScaleIBLAmbient:[1,1,1,1],uLightDirection:[1,1,1],uLightColor:[1,1,1],uGamma:1};baseColorTexture&&(uniforms.uColorMap=baseColorTexture.glTexture),metallicRoughnessTexture&&(uniforms.uMetallicRoughnessMap=metallicRoughnessTexture.glTexture),normalTexture&&(uniforms.uNormalScale=normalTexture.scale||1,uniforms.uNormalMap=normalTexture.glTexture),occlusionTexture&&(uniforms.uAoMap=occlusionTexture.glTexture,uniforms.uOcclusionStrength=occlusionTexture.strength||1),shader.bind(),shader.uniform(uniforms),m.material.shader=shader,m.material.uniforms=uniforms}gltf.geometries.push(geometry)})}),resolve(gltf)})},_getAccessorData=function(gltf,accessorIdx){var isIndices=arguments.length>2&&void 0!==arguments[2]&&arguments[2],accessorInfo=gltf.accessors[accessorIdx],buffer=gltf.bufferViews[accessorInfo.bufferView].data,byteOffset=accessorInfo.byteOffset||0,ArrayCtor=ARRAY_CTOR_MAP[accessorInfo.componentType]||Float32Array,size=SIZE_MAP[accessorInfo.type];null==size&&isIndices&&(size=1);var arr=new ArrayCtor(buffer,byteOffset,size*accessorInfo.count),quantizeExtension=accessorInfo.extensions&&accessorInfo.extensions.WEB3D_quantized_attributes;if(quantizeExtension){for(var decodedArr=new Float32Array(size*accessorInfo.count),decodeMatrix=quantizeExtension.decodeMatrix,decodeOffset=new Array(size),decodeScale=new Array(size),k=0;k<size;k++)decodeOffset[k]=decodeMatrix[size*(size+1)+k],decodeScale[k]=decodeMatrix[k*(size+1)+k];for(var i=0;i<accessorInfo.count;i++)for(var _k=0;_k<size;_k++)decodedArr[i*size+_k]=arr[i*size+_k]*decodeScale[_k]+decodeOffset[_k];arr=decodedArr}return arr};exports.default={parse:parse}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(6),_Batch3=_interopRequireDefault(_Batch2),_bigTriangle=__webpack_require__(15),_bigTriangle2=_interopRequireDefault(_bigTriangle),_copy=__webpack_require__(16),_copy2=_interopRequireDefault(_copy),BatchCopy=function(_Batch){function BatchCopy(){_classCallCheck(this,BatchCopy);var mesh=_Geom2.default.bigTriangle(),shader=new _GLShader2.default(_bigTriangle2.default,_copy2.default),_this=_possibleConstructorReturn(this,(BatchCopy.__proto__||Object.getPrototypeOf(BatchCopy)).call(this,mesh,shader));return shader.bind(),shader.uniform("texture","uniform1i",0),_this}return _inherits(BatchCopy,_Batch),_createClass(BatchCopy,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchCopy.prototype.__proto__||Object.getPrototypeOf(BatchCopy.prototype),"draw",this).call(this)}}]),BatchCopy}(_Batch3.default);exports.default=BatchCopy},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(6),_Batch3=_interopRequireDefault(_Batch2),_axis=__webpack_require__(66),_axis2=_interopRequireDefault(_axis),_axis3=__webpack_require__(67),_axis4=_interopRequireDefault(_axis3),BatchAxis=function(_Batch){function BatchAxis(){_classCallCheck(this,BatchAxis);var positions=[],colors=[],indices=[0,1,2,3,4,5],r=9999;positions.push([-r,0,0]),positions.push([r,0,0]),positions.push([0,-r,0]),positions.push([0,r,0]),positions.push([0,0,-r]),positions.push([0,0,r]),colors.push([1,0,0]),colors.push([1,0,0]),colors.push([0,1,0]),colors.push([0,1,0]),colors.push([0,0,1]),colors.push([0,0,1]);var mesh=new _Mesh2.default(_GLTool2.default.LINES);mesh.bufferVertex(positions),mesh.bufferIndex(indices),mesh.bufferData(colors,"aColor",3);var shader=new _GLShader2.default(_axis2.default,_axis4.default);return _possibleConstructorReturn(this,(BatchAxis.__proto__||Object.getPrototypeOf(BatchAxis)).call(this,mesh,shader))}return _inherits(BatchAxis,_Batch),BatchAxis}(_Batch3.default);exports.default=BatchAxis},function(module,exports){module.exports="// axis.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aColor;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vColor = aColor;\n    vNormal = aNormal;\n}"},function(module,exports){module.exports="// axis.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\t// vec3 color = vNormal;\n\tvec3 color = vColor + vNormal * 0.0001;\n    gl_FragColor = vec4(color, 1.0);\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(6),_Batch3=_interopRequireDefault(_Batch2),_general=__webpack_require__(33),_general2=_interopRequireDefault(_general),_simpleColor=__webpack_require__(17),_simpleColor2=_interopRequireDefault(_simpleColor),BatchBall=function(_Batch){function BatchBall(){_classCallCheck(this,BatchBall);var mesh=_Geom2.default.sphere(1,24),shader=new _GLShader2.default(_general2.default,_simpleColor2.default);return _possibleConstructorReturn(this,(BatchBall.__proto__||Object.getPrototypeOf(BatchBall)).call(this,mesh,shader))}return _inherits(BatchBall,_Batch),_createClass(BatchBall,[{key:"draw",value:function(){var position=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],scale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],color=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],opacity=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.shader.bind(),this.shader.uniform("position","uniform3fv",position),this.shader.uniform("scale","uniform3fv",scale),this.shader.uniform("color","uniform3fv",color),this.shader.uniform("opacity","uniform1f",opacity),_get(BatchBall.prototype.__proto__||Object.getPrototypeOf(BatchBall.prototype),"draw",this).call(this)}}]),BatchBall}(_Batch3.default);exports.default=BatchBall},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(6),_Batch3=_interopRequireDefault(_Batch2),_dotsPlane=__webpack_require__(70),_dotsPlane2=_interopRequireDefault(_dotsPlane),_dotsPlane3=__webpack_require__(71),_dotsPlane4=_interopRequireDefault(_dotsPlane3),BatchDotsPlane=function(_Batch){function BatchDotsPlane(){_classCallCheck(this,BatchDotsPlane);var positions=[],indices=[],index=0,i=void 0,j=void 0;for(i=-100;i<100;i+=1)for(j=-100;j<100;j+=1)positions.push([i,j,0]),indices.push(index),index++,positions.push([i,0,j]),indices.push(index),index++;var mesh=new _Mesh2.default(_GLTool2.default.POINTS);mesh.bufferVertex(positions),mesh.bufferIndex(indices);var shader=new _GLShader2.default(_dotsPlane2.default,_dotsPlane4.default),_this=_possibleConstructorReturn(this,(BatchDotsPlane.__proto__||Object.getPrototypeOf(BatchDotsPlane)).call(this,mesh,shader));return _this.color=[1,1,1],_this.opacity=.65,_this}return _inherits(BatchDotsPlane,_Batch),_createClass(BatchDotsPlane,[{key:"draw",value:function(){this.shader.bind(),this.shader.uniform("color","uniform3fv",this.color),this.shader.uniform("opacity","uniform1f",this.opacity),this.shader.uniform("viewport","vec2",[_GLTool2.default.width,_GLTool2.default.height]),_get(BatchDotsPlane.prototype.__proto__||Object.getPrototypeOf(BatchDotsPlane.prototype),"draw",this).call(this)}}]),BatchDotsPlane}(_Batch3.default);exports.default=BatchDotsPlane},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME DOTS_PLANE_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform vec2 viewport;\n\nvarying vec3 vNormal;\n\nconst float radius = 0.008;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition + aNormal * 0.000001, 1.0);\n    // gl_PointSize = 1.0;\n    vNormal = aNormal;\n\n\tfloat distOffset = viewport.y * uProjectionMatrix[1][1] * radius / gl_Position.w;\n    gl_PointSize = distOffset;\n}"},function(module,exports){module.exports="// dotsPlane.frag\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform vec3 color;\nuniform float opacity;\n\nvoid main(void) {\n\tif(distance(gl_PointCoord, vec2(.5)) > .5) {\n\t\tdiscard;\n\t}\n    gl_FragColor = vec4(color, opacity);\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(6),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(9),fs=__webpack_require__(17),BatchAxis=function(_Batch){function BatchAxis(){_classCallCheck(this,BatchAxis);var positions=[],indices=[0,1],coords=[[0,0],[1,1]];positions.push([0,0,0]),positions.push([0,0,0]);var mesh=new _Mesh2.default(_GLTool2.default.LINES);mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices);var shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchAxis.__proto__||Object.getPrototypeOf(BatchAxis)).call(this,mesh,shader))}return _inherits(BatchAxis,_Batch),_createClass(BatchAxis,[{key:"draw",value:function(mPositionA,mPositionB){var color=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],opacity=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._mesh.bufferVertex([mPositionA,mPositionB]),this._shader.bind(),this._shader.uniform("color","vec3",color),this._shader.uniform("opacity","float",opacity),_get(BatchAxis.prototype.__proto__||Object.getPrototypeOf(BatchAxis.prototype),"draw",this).call(this)}}]),BatchAxis}(_Batch3.default);exports.default=BatchAxis},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(6),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(34),fs=__webpack_require__(35),BatchSkybox=function(_Batch){function BatchSkybox(){var size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;_classCallCheck(this,BatchSkybox);var mesh=_Geom2.default.skybox(size),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchSkybox.__proto__||Object.getPrototypeOf(BatchSkybox)).call(this,mesh,shader))}return _inherits(BatchSkybox,_Batch),_createClass(BatchSkybox,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchSkybox.prototype.__proto__||Object.getPrototypeOf(BatchSkybox.prototype),"draw",this).call(this)}}]),BatchSkybox}(_Batch3.default);exports.default=BatchSkybox},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(6),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(75),fs=__webpack_require__(16),BatchSky=function(_Batch){function BatchSky(){var size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,seg=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;_classCallCheck(this,BatchSky);var mesh=_Geom2.default.sphere(size,seg,!0),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchSky.__proto__||Object.getPrototypeOf(BatchSky)).call(this,mesh,shader))}return _inherits(BatchSky,_Batch),_createClass(BatchSky,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchSky.prototype.__proto__||Object.getPrototypeOf(BatchSky.prototype),"draw",this).call(this)}}]),BatchSky}(_Batch3.default);exports.default=BatchSky},function(module,exports){module.exports="// sky.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tmat4 matView = uViewMatrix;\n\tmatView[3][0] = 0.0;\n\tmatView[3][1] = 0.0;\n\tmatView[3][2] = 0.0;\n\t\n    gl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(6),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(15),fs=__webpack_require__(77),BatchFXAA=function(_Batch){function BatchFXAA(){_classCallCheck(this,BatchFXAA);var mesh=_Geom2.default.bigTriangle(),shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchFXAA.__proto__||Object.getPrototypeOf(BatchFXAA)).call(this,mesh,shader));return shader.bind(),shader.uniform("texture","uniform1i",0),_this}return _inherits(BatchFXAA,_Batch),_createClass(BatchFXAA,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),this.shader.uniform("uResolution","vec2",[1/_GLTool2.default.width,1/_GLTool2.default.height]),_get(BatchFXAA.prototype.__proto__||Object.getPrototypeOf(BatchFXAA.prototype),"draw",this).call(this)}}]),BatchFXAA}(_Batch3.default);exports.default=BatchFXAA},function(module,exports){module.exports="// fxaa.frag\n\n#define SHADER_NAME FXAA\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uResolution;\n\n\nfloat FXAA_SUBPIX_SHIFT = 1.0/4.0;\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#define FXAA_SPAN_MAX     8.0\n\n\nvec4 applyFXAA(sampler2D tex) {\n    vec4 color;\n    vec2 fragCoord = gl_FragCoord.xy;\n    vec3 rgbNW = texture2D(tex, (fragCoord + vec2(-1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbNE = texture2D(tex, (fragCoord + vec2(1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbSW = texture2D(tex, (fragCoord + vec2(-1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbSE = texture2D(tex, (fragCoord + vec2(1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbM  = texture2D(tex, fragCoord  * uResolution).xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * uResolution;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * uResolution + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * uResolution + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, 1.0);\n    else\n        color = vec4(rgbB, 1.0);\n    return color;\n}\n\nvoid main(void) {\n \tvec4 color = applyFXAA(texture);\n    gl_FragColor = color;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(4),_scheduling2=_interopRequireDefault(_scheduling),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_CameraPerspective=__webpack_require__(13),_CameraPerspective2=_interopRequireDefault(_CameraPerspective),_CameraOrtho=__webpack_require__(31),_CameraOrtho2=_interopRequireDefault(_CameraOrtho),_OrbitalControl=__webpack_require__(30),_OrbitalControl2=_interopRequireDefault(_OrbitalControl),Scene=function(){function Scene(){var _this=this;_classCallCheck(this,Scene),this._children=[],this._matrixIdentity=mat4.create(),_GLTool2.default.enableAlphaBlending(),this._init(),this._initTextures(),this._initViews(),this._efIndex=_scheduling2.default.addEF(function(){return _this._loop()}),window.addEventListener("resize",function(){return _this.resize()})}return _createClass(Scene,[{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"stop",value:function(){-1!==this._efIndex&&(this._efIndex=_scheduling2.default.removeEF(this._efIndex))}},{key:"start",value:function(){var _this2=this;-1===this._efIndex&&(this._efIndex=_scheduling2.default.addEF(function(){return _this2._loop()}))}},{key:"resize",value:function(){_GLTool2.default.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(_GLTool2.default.aspectRatio)}},{key:"addChild",value:function(mChild){this._children.push(mChild)}},{key:"removeChild",value:function(mChild){var index=this._children.indexOf(mChild);if(-1==index)return void console.warn("Child no exist");this._children.splice(index,1)}},{key:"_initTextures",value:function(){}},{key:"_initViews",value:function(){}},{key:"_renderChildren",value:function(){for(var child=void 0,i=0;i<this._children.length;i++)child=this._children[i],child.toRender();_GLTool2.default.rotate(this._matrixIdentity)}},{key:"_init",value:function(){this.camera=new _CameraPerspective2.default,this.camera.setPerspective(45*Math.PI/180,_GLTool2.default.aspectRatio,.1,100),this.orbitalControl=new _OrbitalControl2.default(this.camera,window,15),this.orbitalControl.radius.value=10,this.cameraOrtho=new _CameraOrtho2.default}},{key:"_loop",value:function(){_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height),_GLTool2.default.setMatrices(this.camera),this.update(),this._renderChildren(),this.render()}}]),Scene}();exports.default=Scene},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLShader=__webpack_require__(1),_GLShader2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLShader),View=function(){function View(mStrVertex,mStrFrag){_classCallCheck(this,View),this.shader=new _GLShader2.default(mStrVertex,mStrFrag),this._init()}return _createClass(View,[{key:"_init",value:function(){}},{key:"render",value:function(){}}]),View}();exports.default=View},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Object3D2=__webpack_require__(32),_Object3D3=_interopRequireDefault(_Object3D2),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),_GLTool=__webpack_require__(0),View3D=(_interopRequireDefault(_GLTool),function(_Object3D){function View3D(mStrVertex,mStrFrag){_classCallCheck(this,View3D);var _this=_possibleConstructorReturn(this,(View3D.__proto__||Object.getPrototypeOf(View3D)).call(this));return _this._children=[],_this.shader=new _GLShader2.default(mStrVertex,mStrFrag),_this._init(),_this}return _inherits(View3D,_Object3D),_createClass(View3D,[{key:"_init",value:function(){}},{key:"render",value:function(){}}]),View3D}(_Object3D3.default));exports.default=View3D},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(1),_GLShader2=_interopRequireDefault(_GLShader),Draw=function(){function Draw(){return _classCallCheck(this,Draw),this._uniforms={},this._uniformTextures=[],this._fbo,this._clearColor={r:0,g:0,b:0,a:0},this}return _createClass(Draw,[{key:"setClearColor",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this._clearColor.r=r,this._clearColor.g=g,this._clearColor.b=b,this._clearColor.a=a,this}},{key:"useProgram",value:function(vs,fs){return vs instanceof _GLShader2.default?this._shader=vs:this._shader=new _GLShader2.default(vs,fs),this}},{key:"setMesh",value:function(mMesh){return this._mesh=mMesh,this}},{key:"createMesh",value:function(mType){return this._mesh=new _Mesh2.default(mType),this}},{key:"bufferVertex",value:function(mArrayVertices){return this._mesh||(this._mesh=new _Mesh2.default),this._mesh.bufferVertex(mArrayVertices),this}},{key:"bufferTexCoord",value:function(mArrayTexCoords){return this._mesh||(this._mesh=new _Mesh2.default),this._mesh.bufferTexCoord(mArrayTexCoords),this}},{key:"bufferNormal",value:function(mArrayNormals){return this._mesh||(this._mesh=new _Mesh2.default),this._mesh.bufferNormal(mArrayNormals),this}},{key:"bufferIndex",value:function(mIndices){return this._mesh||(this._mesh=new _Mesh2.default),this._mesh.bufferIndex(mIndices),this}},{key:"bufferInstance",value:function(mData,mName){return this._mesh?(this._mesh.bufferInstance(mData,mName),this):(console.warn("Need to create mesh first"),this)}},{key:"bufferData",value:function(mArrayData,mName){return this._mesh||(this._mesh=new _Mesh2.default),this._mesh.bufferData(mArrayData,mName),this}},{key:"uniform",value:function(name,type,value){return this._uniforms[name]={type:type,value:value},this}},{key:"uniformTexture",value:function(name,texture,index){return void 0!==index?this._uniformTextures[index]={name:name,texture:texture}:this._uniformTextures.push({name:name,texture:texture}),this}},{key:"bindFrameBuffer",value:function(fbo){return this._fbo=fbo,this}},{key:"draw",value:function(){var _this=this;if(this._shader&&this._mesh){if(this._fbo){var _clearColor=this._clearColor,r=_clearColor.r,g=_clearColor.g,b=_clearColor.b,a=_clearColor.a;this._fbo.bind(),_GLTool2.default.clear(r,g,b,a)}this._shader.bind();for(var s in this._uniforms){var o=this._uniforms[s];this._shader.uniform(s,o.type,o.value)}return this._uniformTextures.forEach(function(o,i){void 0!==o&&(_this._shader.uniform(o.name,"uniform1i",i),o.texture.bind(i))}),_GLTool2.default.draw(this._mesh),this._fbo&&this._fbo.unbind(),this}}},{key:"shader",get:function(){return this._shader}},{key:"framebuffer",get:function(){return this._fbo}}]),Draw}();exports.default=Draw},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _simpleColor=__webpack_require__(17),_simpleColor2=_interopRequireDefault(_simpleColor),_bigTriangle=__webpack_require__(15),_bigTriangle2=_interopRequireDefault(_bigTriangle),_general=__webpack_require__(33),_general2=_interopRequireDefault(_general),_copy=__webpack_require__(16),_copy2=_interopRequireDefault(_copy),_basic=__webpack_require__(9),_basic2=_interopRequireDefault(_basic),_skybox=__webpack_require__(34),_skybox2=_interopRequireDefault(_skybox),_skybox3=__webpack_require__(35),_skybox4=_interopRequireDefault(_skybox3),ShaderLibs={simpleColorFrag:_simpleColor2.default,bigTriangleVert:_bigTriangle2.default,generalVert:_general2.default,copyFrag:_copy2.default,basicVert:_basic2.default,skyboxVert:_skybox2.default,skyboxFrag:_skybox4.default};exports.default=ShaderLibs},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _FboArray=__webpack_require__(36),_FboArray2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_FboArray),FboPingPong=function(_FboFarray){function FboPingPong(width,height){var params=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},mNumTargets=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck(this,FboPingPong),_possibleConstructorReturn(this,(FboPingPong.__proto__||Object.getPrototypeOf(FboPingPong)).call(this,2,width,height,params,mNumTargets))}return _inherits(FboPingPong,_FboFarray),FboPingPong}(_FboArray2.default);exports.default=FboPingPong}])});

/***/ }),

/***/ "./node_modules/dat.gui/build/dat.gui.module.js":
/*!******************************************************!*\
  !*** ./node_modules/dat.gui/build/dat.gui.module.js ***!
  \******************************************************/
/*! exports provided: color, controllers, dom, gui, GUI, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "color", function() { return color; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "controllers", function() { return controllers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dom", function() { return dom$1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gui", function() { return gui; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GUI", function() { return GUI$1; });
/**
 * dat-gui JavaScript Controller Library
 * http://code.google.com/p/dat-gui
 *
 * Copyright 2011 Data Arts Team, Google Creative Lab
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 */

function ___$insertStyle(css) {
  if (!css) {
    return;
  }
  if (typeof window === 'undefined') {
    return;
  }

  var style = document.createElement('style');

  style.setAttribute('type', 'text/css');
  style.innerHTML = css;
  document.head.appendChild(style);

  return css;
}

function colorToString (color, forceCSSHex) {
  var colorFormat = color.__state.conversionName.toString();
  var r = Math.round(color.r);
  var g = Math.round(color.g);
  var b = Math.round(color.b);
  var a = color.a;
  var h = Math.round(color.h);
  var s = color.s.toFixed(1);
  var v = color.v.toFixed(1);
  if (forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX') {
    var str = color.hex.toString(16);
    while (str.length < 6) {
      str = '0' + str;
    }
    return '#' + str;
  } else if (colorFormat === 'CSS_RGB') {
    return 'rgb(' + r + ',' + g + ',' + b + ')';
  } else if (colorFormat === 'CSS_RGBA') {
    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';
  } else if (colorFormat === 'HEX') {
    return '0x' + color.hex.toString(16);
  } else if (colorFormat === 'RGB_ARRAY') {
    return '[' + r + ',' + g + ',' + b + ']';
  } else if (colorFormat === 'RGBA_ARRAY') {
    return '[' + r + ',' + g + ',' + b + ',' + a + ']';
  } else if (colorFormat === 'RGB_OBJ') {
    return '{r:' + r + ',g:' + g + ',b:' + b + '}';
  } else if (colorFormat === 'RGBA_OBJ') {
    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';
  } else if (colorFormat === 'HSV_OBJ') {
    return '{h:' + h + ',s:' + s + ',v:' + v + '}';
  } else if (colorFormat === 'HSVA_OBJ') {
    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';
  }
  return 'unknown format';
}

var ARR_EACH = Array.prototype.forEach;
var ARR_SLICE = Array.prototype.slice;
var Common = {
  BREAK: {},
  extend: function extend(target) {
    this.each(ARR_SLICE.call(arguments, 1), function (obj) {
      var keys = this.isObject(obj) ? Object.keys(obj) : [];
      keys.forEach(function (key) {
        if (!this.isUndefined(obj[key])) {
          target[key] = obj[key];
        }
      }.bind(this));
    }, this);
    return target;
  },
  defaults: function defaults(target) {
    this.each(ARR_SLICE.call(arguments, 1), function (obj) {
      var keys = this.isObject(obj) ? Object.keys(obj) : [];
      keys.forEach(function (key) {
        if (this.isUndefined(target[key])) {
          target[key] = obj[key];
        }
      }.bind(this));
    }, this);
    return target;
  },
  compose: function compose() {
    var toCall = ARR_SLICE.call(arguments);
    return function () {
      var args = ARR_SLICE.call(arguments);
      for (var i = toCall.length - 1; i >= 0; i--) {
        args = [toCall[i].apply(this, args)];
      }
      return args[0];
    };
  },
  each: function each(obj, itr, scope) {
    if (!obj) {
      return;
    }
    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {
      obj.forEach(itr, scope);
    } else if (obj.length === obj.length + 0) {
      var key = void 0;
      var l = void 0;
      for (key = 0, l = obj.length; key < l; key++) {
        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {
          return;
        }
      }
    } else {
      for (var _key in obj) {
        if (itr.call(scope, obj[_key], _key) === this.BREAK) {
          return;
        }
      }
    }
  },
  defer: function defer(fnc) {
    setTimeout(fnc, 0);
  },
  debounce: function debounce(func, threshold, callImmediately) {
    var timeout = void 0;
    return function () {
      var obj = this;
      var args = arguments;
      function delayed() {
        timeout = null;
        if (!callImmediately) func.apply(obj, args);
      }
      var callNow = callImmediately || !timeout;
      clearTimeout(timeout);
      timeout = setTimeout(delayed, threshold);
      if (callNow) {
        func.apply(obj, args);
      }
    };
  },
  toArray: function toArray(obj) {
    if (obj.toArray) return obj.toArray();
    return ARR_SLICE.call(obj);
  },
  isUndefined: function isUndefined(obj) {
    return obj === undefined;
  },
  isNull: function isNull(obj) {
    return obj === null;
  },
  isNaN: function (_isNaN) {
    function isNaN(_x) {
      return _isNaN.apply(this, arguments);
    }
    isNaN.toString = function () {
      return _isNaN.toString();
    };
    return isNaN;
  }(function (obj) {
    return isNaN(obj);
  }),
  isArray: Array.isArray || function (obj) {
    return obj.constructor === Array;
  },
  isObject: function isObject(obj) {
    return obj === Object(obj);
  },
  isNumber: function isNumber(obj) {
    return obj === obj + 0;
  },
  isString: function isString(obj) {
    return obj === obj + '';
  },
  isBoolean: function isBoolean(obj) {
    return obj === false || obj === true;
  },
  isFunction: function isFunction(obj) {
    return Object.prototype.toString.call(obj) === '[object Function]';
  }
};

var INTERPRETATIONS = [
{
  litmus: Common.isString,
  conversions: {
    THREE_CHAR_HEX: {
      read: function read(original) {
        var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
        if (test === null) {
          return false;
        }
        return {
          space: 'HEX',
          hex: parseInt('0x' + test[1].toString() + test[1].toString() + test[2].toString() + test[2].toString() + test[3].toString() + test[3].toString(), 0)
        };
      },
      write: colorToString
    },
    SIX_CHAR_HEX: {
      read: function read(original) {
        var test = original.match(/^#([A-F0-9]{6})$/i);
        if (test === null) {
          return false;
        }
        return {
          space: 'HEX',
          hex: parseInt('0x' + test[1].toString(), 0)
        };
      },
      write: colorToString
    },
    CSS_RGB: {
      read: function read(original) {
        var test = original.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
        if (test === null) {
          return false;
        }
        return {
          space: 'RGB',
          r: parseFloat(test[1]),
          g: parseFloat(test[2]),
          b: parseFloat(test[3])
        };
      },
      write: colorToString
    },
    CSS_RGBA: {
      read: function read(original) {
        var test = original.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
        if (test === null) {
          return false;
        }
        return {
          space: 'RGB',
          r: parseFloat(test[1]),
          g: parseFloat(test[2]),
          b: parseFloat(test[3]),
          a: parseFloat(test[4])
        };
      },
      write: colorToString
    }
  }
},
{
  litmus: Common.isNumber,
  conversions: {
    HEX: {
      read: function read(original) {
        return {
          space: 'HEX',
          hex: original,
          conversionName: 'HEX'
        };
      },
      write: function write(color) {
        return color.hex;
      }
    }
  }
},
{
  litmus: Common.isArray,
  conversions: {
    RGB_ARRAY: {
      read: function read(original) {
        if (original.length !== 3) {
          return false;
        }
        return {
          space: 'RGB',
          r: original[0],
          g: original[1],
          b: original[2]
        };
      },
      write: function write(color) {
        return [color.r, color.g, color.b];
      }
    },
    RGBA_ARRAY: {
      read: function read(original) {
        if (original.length !== 4) return false;
        return {
          space: 'RGB',
          r: original[0],
          g: original[1],
          b: original[2],
          a: original[3]
        };
      },
      write: function write(color) {
        return [color.r, color.g, color.b, color.a];
      }
    }
  }
},
{
  litmus: Common.isObject,
  conversions: {
    RGBA_OBJ: {
      read: function read(original) {
        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b) && Common.isNumber(original.a)) {
          return {
            space: 'RGB',
            r: original.r,
            g: original.g,
            b: original.b,
            a: original.a
          };
        }
        return false;
      },
      write: function write(color) {
        return {
          r: color.r,
          g: color.g,
          b: color.b,
          a: color.a
        };
      }
    },
    RGB_OBJ: {
      read: function read(original) {
        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b)) {
          return {
            space: 'RGB',
            r: original.r,
            g: original.g,
            b: original.b
          };
        }
        return false;
      },
      write: function write(color) {
        return {
          r: color.r,
          g: color.g,
          b: color.b
        };
      }
    },
    HSVA_OBJ: {
      read: function read(original) {
        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v) && Common.isNumber(original.a)) {
          return {
            space: 'HSV',
            h: original.h,
            s: original.s,
            v: original.v,
            a: original.a
          };
        }
        return false;
      },
      write: function write(color) {
        return {
          h: color.h,
          s: color.s,
          v: color.v,
          a: color.a
        };
      }
    },
    HSV_OBJ: {
      read: function read(original) {
        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v)) {
          return {
            space: 'HSV',
            h: original.h,
            s: original.s,
            v: original.v
          };
        }
        return false;
      },
      write: function write(color) {
        return {
          h: color.h,
          s: color.s,
          v: color.v
        };
      }
    }
  }
}];
var result = void 0;
var toReturn = void 0;
var interpret = function interpret() {
  toReturn = false;
  var original = arguments.length > 1 ? Common.toArray(arguments) : arguments[0];
  Common.each(INTERPRETATIONS, function (family) {
    if (family.litmus(original)) {
      Common.each(family.conversions, function (conversion, conversionName) {
        result = conversion.read(original);
        if (toReturn === false && result !== false) {
          toReturn = result;
          result.conversionName = conversionName;
          result.conversion = conversion;
          return Common.BREAK;
        }
      });
      return Common.BREAK;
    }
  });
  return toReturn;
};

var tmpComponent = void 0;
var ColorMath = {
  hsv_to_rgb: function hsv_to_rgb(h, s, v) {
    var hi = Math.floor(h / 60) % 6;
    var f = h / 60 - Math.floor(h / 60);
    var p = v * (1.0 - s);
    var q = v * (1.0 - f * s);
    var t = v * (1.0 - (1.0 - f) * s);
    var c = [[v, t, p], [q, v, p], [p, v, t], [p, q, v], [t, p, v], [v, p, q]][hi];
    return {
      r: c[0] * 255,
      g: c[1] * 255,
      b: c[2] * 255
    };
  },
  rgb_to_hsv: function rgb_to_hsv(r, g, b) {
    var min = Math.min(r, g, b);
    var max = Math.max(r, g, b);
    var delta = max - min;
    var h = void 0;
    var s = void 0;
    if (max !== 0) {
      s = delta / max;
    } else {
      return {
        h: NaN,
        s: 0,
        v: 0
      };
    }
    if (r === max) {
      h = (g - b) / delta;
    } else if (g === max) {
      h = 2 + (b - r) / delta;
    } else {
      h = 4 + (r - g) / delta;
    }
    h /= 6;
    if (h < 0) {
      h += 1;
    }
    return {
      h: h * 360,
      s: s,
      v: max / 255
    };
  },
  rgb_to_hex: function rgb_to_hex(r, g, b) {
    var hex = this.hex_with_component(0, 2, r);
    hex = this.hex_with_component(hex, 1, g);
    hex = this.hex_with_component(hex, 0, b);
    return hex;
  },
  component_from_hex: function component_from_hex(hex, componentIndex) {
    return hex >> componentIndex * 8 & 0xFF;
  },
  hex_with_component: function hex_with_component(hex, componentIndex, value) {
    return value << (tmpComponent = componentIndex * 8) | hex & ~(0xFF << tmpComponent);
  }
};

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};











var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();







var get = function get(object, property, receiver) {
  if (object === null) object = Function.prototype;
  var desc = Object.getOwnPropertyDescriptor(object, property);

  if (desc === undefined) {
    var parent = Object.getPrototypeOf(object);

    if (parent === null) {
      return undefined;
    } else {
      return get(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;

    if (getter === undefined) {
      return undefined;
    }

    return getter.call(receiver);
  }
};

var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};











var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};

var Color = function () {
  function Color() {
    classCallCheck(this, Color);
    this.__state = interpret.apply(this, arguments);
    if (this.__state === false) {
      throw new Error('Failed to interpret color arguments');
    }
    this.__state.a = this.__state.a || 1;
  }
  createClass(Color, [{
    key: 'toString',
    value: function toString() {
      return colorToString(this);
    }
  }, {
    key: 'toHexString',
    value: function toHexString() {
      return colorToString(this, true);
    }
  }, {
    key: 'toOriginal',
    value: function toOriginal() {
      return this.__state.conversion.write(this);
    }
  }]);
  return Color;
}();
function defineRGBComponent(target, component, componentHexIndex) {
  Object.defineProperty(target, component, {
    get: function get$$1() {
      if (this.__state.space === 'RGB') {
        return this.__state[component];
      }
      Color.recalculateRGB(this, component, componentHexIndex);
      return this.__state[component];
    },
    set: function set$$1(v) {
      if (this.__state.space !== 'RGB') {
        Color.recalculateRGB(this, component, componentHexIndex);
        this.__state.space = 'RGB';
      }
      this.__state[component] = v;
    }
  });
}
function defineHSVComponent(target, component) {
  Object.defineProperty(target, component, {
    get: function get$$1() {
      if (this.__state.space === 'HSV') {
        return this.__state[component];
      }
      Color.recalculateHSV(this);
      return this.__state[component];
    },
    set: function set$$1(v) {
      if (this.__state.space !== 'HSV') {
        Color.recalculateHSV(this);
        this.__state.space = 'HSV';
      }
      this.__state[component] = v;
    }
  });
}
Color.recalculateRGB = function (color, component, componentHexIndex) {
  if (color.__state.space === 'HEX') {
    color.__state[component] = ColorMath.component_from_hex(color.__state.hex, componentHexIndex);
  } else if (color.__state.space === 'HSV') {
    Common.extend(color.__state, ColorMath.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));
  } else {
    throw new Error('Corrupted color state');
  }
};
Color.recalculateHSV = function (color) {
  var result = ColorMath.rgb_to_hsv(color.r, color.g, color.b);
  Common.extend(color.__state, {
    s: result.s,
    v: result.v
  });
  if (!Common.isNaN(result.h)) {
    color.__state.h = result.h;
  } else if (Common.isUndefined(color.__state.h)) {
    color.__state.h = 0;
  }
};
Color.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];
defineRGBComponent(Color.prototype, 'r', 2);
defineRGBComponent(Color.prototype, 'g', 1);
defineRGBComponent(Color.prototype, 'b', 0);
defineHSVComponent(Color.prototype, 'h');
defineHSVComponent(Color.prototype, 's');
defineHSVComponent(Color.prototype, 'v');
Object.defineProperty(Color.prototype, 'a', {
  get: function get$$1() {
    return this.__state.a;
  },
  set: function set$$1(v) {
    this.__state.a = v;
  }
});
Object.defineProperty(Color.prototype, 'hex', {
  get: function get$$1() {
    if (!this.__state.space !== 'HEX') {
      this.__state.hex = ColorMath.rgb_to_hex(this.r, this.g, this.b);
    }
    return this.__state.hex;
  },
  set: function set$$1(v) {
    this.__state.space = 'HEX';
    this.__state.hex = v;
  }
});

var Controller = function () {
  function Controller(object, property) {
    classCallCheck(this, Controller);
    this.initialValue = object[property];
    this.domElement = document.createElement('div');
    this.object = object;
    this.property = property;
    this.__onChange = undefined;
    this.__onFinishChange = undefined;
  }
  createClass(Controller, [{
    key: 'onChange',
    value: function onChange(fnc) {
      this.__onChange = fnc;
      return this;
    }
  }, {
    key: 'onFinishChange',
    value: function onFinishChange(fnc) {
      this.__onFinishChange = fnc;
      return this;
    }
  }, {
    key: 'setValue',
    value: function setValue(newValue) {
      this.object[this.property] = newValue;
      if (this.__onChange) {
        this.__onChange.call(this, newValue);
      }
      this.updateDisplay();
      return this;
    }
  }, {
    key: 'getValue',
    value: function getValue() {
      return this.object[this.property];
    }
  }, {
    key: 'updateDisplay',
    value: function updateDisplay() {
      return this;
    }
  }, {
    key: 'isModified',
    value: function isModified() {
      return this.initialValue !== this.getValue();
    }
  }]);
  return Controller;
}();

var EVENT_MAP = {
  HTMLEvents: ['change'],
  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],
  KeyboardEvents: ['keydown']
};
var EVENT_MAP_INV = {};
Common.each(EVENT_MAP, function (v, k) {
  Common.each(v, function (e) {
    EVENT_MAP_INV[e] = k;
  });
});
var CSS_VALUE_PIXELS = /(\d+(\.\d+)?)px/;
function cssValueToPixels(val) {
  if (val === '0' || Common.isUndefined(val)) {
    return 0;
  }
  var match = val.match(CSS_VALUE_PIXELS);
  if (!Common.isNull(match)) {
    return parseFloat(match[1]);
  }
  return 0;
}
var dom = {
  makeSelectable: function makeSelectable(elem, selectable) {
    if (elem === undefined || elem.style === undefined) return;
    elem.onselectstart = selectable ? function () {
      return false;
    } : function () {};
    elem.style.MozUserSelect = selectable ? 'auto' : 'none';
    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';
    elem.unselectable = selectable ? 'on' : 'off';
  },
  makeFullscreen: function makeFullscreen(elem, hor, vert) {
    var vertical = vert;
    var horizontal = hor;
    if (Common.isUndefined(horizontal)) {
      horizontal = true;
    }
    if (Common.isUndefined(vertical)) {
      vertical = true;
    }
    elem.style.position = 'absolute';
    if (horizontal) {
      elem.style.left = 0;
      elem.style.right = 0;
    }
    if (vertical) {
      elem.style.top = 0;
      elem.style.bottom = 0;
    }
  },
  fakeEvent: function fakeEvent(elem, eventType, pars, aux) {
    var params = pars || {};
    var className = EVENT_MAP_INV[eventType];
    if (!className) {
      throw new Error('Event type ' + eventType + ' not supported.');
    }
    var evt = document.createEvent(className);
    switch (className) {
      case 'MouseEvents':
        {
          var clientX = params.x || params.clientX || 0;
          var clientY = params.y || params.clientY || 0;
          evt.initMouseEvent(eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,
          0,
          clientX,
          clientY,
          false, false, false, false, 0, null);
          break;
        }
      case 'KeyboardEvents':
        {
          var init = evt.initKeyboardEvent || evt.initKeyEvent;
          Common.defaults(params, {
            cancelable: true,
            ctrlKey: false,
            altKey: false,
            shiftKey: false,
            metaKey: false,
            keyCode: undefined,
            charCode: undefined
          });
          init(eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode);
          break;
        }
      default:
        {
          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);
          break;
        }
    }
    Common.defaults(evt, aux);
    elem.dispatchEvent(evt);
  },
  bind: function bind(elem, event, func, newBool) {
    var bool = newBool || false;
    if (elem.addEventListener) {
      elem.addEventListener(event, func, bool);
    } else if (elem.attachEvent) {
      elem.attachEvent('on' + event, func);
    }
    return dom;
  },
  unbind: function unbind(elem, event, func, newBool) {
    var bool = newBool || false;
    if (elem.removeEventListener) {
      elem.removeEventListener(event, func, bool);
    } else if (elem.detachEvent) {
      elem.detachEvent('on' + event, func);
    }
    return dom;
  },
  addClass: function addClass(elem, className) {
    if (elem.className === undefined) {
      elem.className = className;
    } else if (elem.className !== className) {
      var classes = elem.className.split(/ +/);
      if (classes.indexOf(className) === -1) {
        classes.push(className);
        elem.className = classes.join(' ').replace(/^\s+/, '').replace(/\s+$/, '');
      }
    }
    return dom;
  },
  removeClass: function removeClass(elem, className) {
    if (className) {
      if (elem.className === className) {
        elem.removeAttribute('class');
      } else {
        var classes = elem.className.split(/ +/);
        var index = classes.indexOf(className);
        if (index !== -1) {
          classes.splice(index, 1);
          elem.className = classes.join(' ');
        }
      }
    } else {
      elem.className = undefined;
    }
    return dom;
  },
  hasClass: function hasClass(elem, className) {
    return new RegExp('(?:^|\\s+)' + className + '(?:\\s+|$)').test(elem.className) || false;
  },
  getWidth: function getWidth(elem) {
    var style = getComputedStyle(elem);
    return cssValueToPixels(style['border-left-width']) + cssValueToPixels(style['border-right-width']) + cssValueToPixels(style['padding-left']) + cssValueToPixels(style['padding-right']) + cssValueToPixels(style.width);
  },
  getHeight: function getHeight(elem) {
    var style = getComputedStyle(elem);
    return cssValueToPixels(style['border-top-width']) + cssValueToPixels(style['border-bottom-width']) + cssValueToPixels(style['padding-top']) + cssValueToPixels(style['padding-bottom']) + cssValueToPixels(style.height);
  },
  getOffset: function getOffset(el) {
    var elem = el;
    var offset = { left: 0, top: 0 };
    if (elem.offsetParent) {
      do {
        offset.left += elem.offsetLeft;
        offset.top += elem.offsetTop;
        elem = elem.offsetParent;
      } while (elem);
    }
    return offset;
  },
  isActive: function isActive(elem) {
    return elem === document.activeElement && (elem.type || elem.href);
  }
};

var BooleanController = function (_Controller) {
  inherits(BooleanController, _Controller);
  function BooleanController(object, property) {
    classCallCheck(this, BooleanController);
    var _this2 = possibleConstructorReturn(this, (BooleanController.__proto__ || Object.getPrototypeOf(BooleanController)).call(this, object, property));
    var _this = _this2;
    _this2.__prev = _this2.getValue();
    _this2.__checkbox = document.createElement('input');
    _this2.__checkbox.setAttribute('type', 'checkbox');
    function onChange() {
      _this.setValue(!_this.__prev);
    }
    dom.bind(_this2.__checkbox, 'change', onChange, false);
    _this2.domElement.appendChild(_this2.__checkbox);
    _this2.updateDisplay();
    return _this2;
  }
  createClass(BooleanController, [{
    key: 'setValue',
    value: function setValue(v) {
      var toReturn = get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'setValue', this).call(this, v);
      if (this.__onFinishChange) {
        this.__onFinishChange.call(this, this.getValue());
      }
      this.__prev = this.getValue();
      return toReturn;
    }
  }, {
    key: 'updateDisplay',
    value: function updateDisplay() {
      if (this.getValue() === true) {
        this.__checkbox.setAttribute('checked', 'checked');
        this.__checkbox.checked = true;
        this.__prev = true;
      } else {
        this.__checkbox.checked = false;
        this.__prev = false;
      }
      return get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'updateDisplay', this).call(this);
    }
  }]);
  return BooleanController;
}(Controller);

var OptionController = function (_Controller) {
  inherits(OptionController, _Controller);
  function OptionController(object, property, opts) {
    classCallCheck(this, OptionController);
    var _this2 = possibleConstructorReturn(this, (OptionController.__proto__ || Object.getPrototypeOf(OptionController)).call(this, object, property));
    var options = opts;
    var _this = _this2;
    _this2.__select = document.createElement('select');
    if (Common.isArray(options)) {
      var map = {};
      Common.each(options, function (element) {
        map[element] = element;
      });
      options = map;
    }
    Common.each(options, function (value, key) {
      var opt = document.createElement('option');
      opt.innerHTML = key;
      opt.setAttribute('value', value);
      _this.__select.appendChild(opt);
    });
    _this2.updateDisplay();
    dom.bind(_this2.__select, 'change', function () {
      var desiredValue = this.options[this.selectedIndex].value;
      _this.setValue(desiredValue);
    });
    _this2.domElement.appendChild(_this2.__select);
    return _this2;
  }
  createClass(OptionController, [{
    key: 'setValue',
    value: function setValue(v) {
      var toReturn = get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'setValue', this).call(this, v);
      if (this.__onFinishChange) {
        this.__onFinishChange.call(this, this.getValue());
      }
      return toReturn;
    }
  }, {
    key: 'updateDisplay',
    value: function updateDisplay() {
      if (dom.isActive(this.__select)) return this;
      this.__select.value = this.getValue();
      return get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'updateDisplay', this).call(this);
    }
  }]);
  return OptionController;
}(Controller);

var StringController = function (_Controller) {
  inherits(StringController, _Controller);
  function StringController(object, property) {
    classCallCheck(this, StringController);
    var _this2 = possibleConstructorReturn(this, (StringController.__proto__ || Object.getPrototypeOf(StringController)).call(this, object, property));
    var _this = _this2;
    function onChange() {
      _this.setValue(_this.__input.value);
    }
    function onBlur() {
      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.getValue());
      }
    }
    _this2.__input = document.createElement('input');
    _this2.__input.setAttribute('type', 'text');
    dom.bind(_this2.__input, 'keyup', onChange);
    dom.bind(_this2.__input, 'change', onChange);
    dom.bind(_this2.__input, 'blur', onBlur);
    dom.bind(_this2.__input, 'keydown', function (e) {
      if (e.keyCode === 13) {
        this.blur();
      }
    });
    _this2.updateDisplay();
    _this2.domElement.appendChild(_this2.__input);
    return _this2;
  }
  createClass(StringController, [{
    key: 'updateDisplay',
    value: function updateDisplay() {
      if (!dom.isActive(this.__input)) {
        this.__input.value = this.getValue();
      }
      return get(StringController.prototype.__proto__ || Object.getPrototypeOf(StringController.prototype), 'updateDisplay', this).call(this);
    }
  }]);
  return StringController;
}(Controller);

function numDecimals(x) {
  var _x = x.toString();
  if (_x.indexOf('.') > -1) {
    return _x.length - _x.indexOf('.') - 1;
  }
  return 0;
}
var NumberController = function (_Controller) {
  inherits(NumberController, _Controller);
  function NumberController(object, property, params) {
    classCallCheck(this, NumberController);
    var _this = possibleConstructorReturn(this, (NumberController.__proto__ || Object.getPrototypeOf(NumberController)).call(this, object, property));
    var _params = params || {};
    _this.__min = _params.min;
    _this.__max = _params.max;
    _this.__step = _params.step;
    if (Common.isUndefined(_this.__step)) {
      if (_this.initialValue === 0) {
        _this.__impliedStep = 1;
      } else {
        _this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(_this.initialValue)) / Math.LN10)) / 10;
      }
    } else {
      _this.__impliedStep = _this.__step;
    }
    _this.__precision = numDecimals(_this.__impliedStep);
    return _this;
  }
  createClass(NumberController, [{
    key: 'setValue',
    value: function setValue(v) {
      var _v = v;
      if (this.__min !== undefined && _v < this.__min) {
        _v = this.__min;
      } else if (this.__max !== undefined && _v > this.__max) {
        _v = this.__max;
      }
      if (this.__step !== undefined && _v % this.__step !== 0) {
        _v = Math.round(_v / this.__step) * this.__step;
      }
      return get(NumberController.prototype.__proto__ || Object.getPrototypeOf(NumberController.prototype), 'setValue', this).call(this, _v);
    }
  }, {
    key: 'min',
    value: function min(minValue) {
      this.__min = minValue;
      return this;
    }
  }, {
    key: 'max',
    value: function max(maxValue) {
      this.__max = maxValue;
      return this;
    }
  }, {
    key: 'step',
    value: function step(stepValue) {
      this.__step = stepValue;
      this.__impliedStep = stepValue;
      this.__precision = numDecimals(stepValue);
      return this;
    }
  }]);
  return NumberController;
}(Controller);

function roundToDecimal(value, decimals) {
  var tenTo = Math.pow(10, decimals);
  return Math.round(value * tenTo) / tenTo;
}
var NumberControllerBox = function (_NumberController) {
  inherits(NumberControllerBox, _NumberController);
  function NumberControllerBox(object, property, params) {
    classCallCheck(this, NumberControllerBox);
    var _this2 = possibleConstructorReturn(this, (NumberControllerBox.__proto__ || Object.getPrototypeOf(NumberControllerBox)).call(this, object, property, params));
    _this2.__truncationSuspended = false;
    var _this = _this2;
    var prevY = void 0;
    function onChange() {
      var attempted = parseFloat(_this.__input.value);
      if (!Common.isNaN(attempted)) {
        _this.setValue(attempted);
      }
    }
    function onFinish() {
      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.getValue());
      }
    }
    function onBlur() {
      onFinish();
    }
    function onMouseDrag(e) {
      var diff = prevY - e.clientY;
      _this.setValue(_this.getValue() + diff * _this.__impliedStep);
      prevY = e.clientY;
    }
    function onMouseUp() {
      dom.unbind(window, 'mousemove', onMouseDrag);
      dom.unbind(window, 'mouseup', onMouseUp);
      onFinish();
    }
    function onMouseDown(e) {
      dom.bind(window, 'mousemove', onMouseDrag);
      dom.bind(window, 'mouseup', onMouseUp);
      prevY = e.clientY;
    }
    _this2.__input = document.createElement('input');
    _this2.__input.setAttribute('type', 'text');
    dom.bind(_this2.__input, 'change', onChange);
    dom.bind(_this2.__input, 'blur', onBlur);
    dom.bind(_this2.__input, 'mousedown', onMouseDown);
    dom.bind(_this2.__input, 'keydown', function (e) {
      if (e.keyCode === 13) {
        _this.__truncationSuspended = true;
        this.blur();
        _this.__truncationSuspended = false;
        onFinish();
      }
    });
    _this2.updateDisplay();
    _this2.domElement.appendChild(_this2.__input);
    return _this2;
  }
  createClass(NumberControllerBox, [{
    key: 'updateDisplay',
    value: function updateDisplay() {
      this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);
      return get(NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf(NumberControllerBox.prototype), 'updateDisplay', this).call(this);
    }
  }]);
  return NumberControllerBox;
}(NumberController);

function map(v, i1, i2, o1, o2) {
  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));
}
var NumberControllerSlider = function (_NumberController) {
  inherits(NumberControllerSlider, _NumberController);
  function NumberControllerSlider(object, property, min, max, step) {
    classCallCheck(this, NumberControllerSlider);
    var _this2 = possibleConstructorReturn(this, (NumberControllerSlider.__proto__ || Object.getPrototypeOf(NumberControllerSlider)).call(this, object, property, { min: min, max: max, step: step }));
    var _this = _this2;
    _this2.__background = document.createElement('div');
    _this2.__foreground = document.createElement('div');
    dom.bind(_this2.__background, 'mousedown', onMouseDown);
    dom.bind(_this2.__background, 'touchstart', onTouchStart);
    dom.addClass(_this2.__background, 'slider');
    dom.addClass(_this2.__foreground, 'slider-fg');
    function onMouseDown(e) {
      document.activeElement.blur();
      dom.bind(window, 'mousemove', onMouseDrag);
      dom.bind(window, 'mouseup', onMouseUp);
      onMouseDrag(e);
    }
    function onMouseDrag(e) {
      e.preventDefault();
      var bgRect = _this.__background.getBoundingClientRect();
      _this.setValue(map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));
      return false;
    }
    function onMouseUp() {
      dom.unbind(window, 'mousemove', onMouseDrag);
      dom.unbind(window, 'mouseup', onMouseUp);
      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.getValue());
      }
    }
    function onTouchStart(e) {
      if (e.touches.length !== 1) {
        return;
      }
      dom.bind(window, 'touchmove', onTouchMove);
      dom.bind(window, 'touchend', onTouchEnd);
      onTouchMove(e);
    }
    function onTouchMove(e) {
      var clientX = e.touches[0].clientX;
      var bgRect = _this.__background.getBoundingClientRect();
      _this.setValue(map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));
    }
    function onTouchEnd() {
      dom.unbind(window, 'touchmove', onTouchMove);
      dom.unbind(window, 'touchend', onTouchEnd);
      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.getValue());
      }
    }
    _this2.updateDisplay();
    _this2.__background.appendChild(_this2.__foreground);
    _this2.domElement.appendChild(_this2.__background);
    return _this2;
  }
  createClass(NumberControllerSlider, [{
    key: 'updateDisplay',
    value: function updateDisplay() {
      var pct = (this.getValue() - this.__min) / (this.__max - this.__min);
      this.__foreground.style.width = pct * 100 + '%';
      return get(NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf(NumberControllerSlider.prototype), 'updateDisplay', this).call(this);
    }
  }]);
  return NumberControllerSlider;
}(NumberController);

var FunctionController = function (_Controller) {
  inherits(FunctionController, _Controller);
  function FunctionController(object, property, text) {
    classCallCheck(this, FunctionController);
    var _this2 = possibleConstructorReturn(this, (FunctionController.__proto__ || Object.getPrototypeOf(FunctionController)).call(this, object, property));
    var _this = _this2;
    _this2.__button = document.createElement('div');
    _this2.__button.innerHTML = text === undefined ? 'Fire' : text;
    dom.bind(_this2.__button, 'click', function (e) {
      e.preventDefault();
      _this.fire();
      return false;
    });
    dom.addClass(_this2.__button, 'button');
    _this2.domElement.appendChild(_this2.__button);
    return _this2;
  }
  createClass(FunctionController, [{
    key: 'fire',
    value: function fire() {
      if (this.__onChange) {
        this.__onChange.call(this);
      }
      this.getValue().call(this.object);
      if (this.__onFinishChange) {
        this.__onFinishChange.call(this, this.getValue());
      }
    }
  }]);
  return FunctionController;
}(Controller);

var ColorController = function (_Controller) {
  inherits(ColorController, _Controller);
  function ColorController(object, property) {
    classCallCheck(this, ColorController);
    var _this2 = possibleConstructorReturn(this, (ColorController.__proto__ || Object.getPrototypeOf(ColorController)).call(this, object, property));
    _this2.__color = new Color(_this2.getValue());
    _this2.__temp = new Color(0);
    var _this = _this2;
    _this2.domElement = document.createElement('div');
    dom.makeSelectable(_this2.domElement, false);
    _this2.__selector = document.createElement('div');
    _this2.__selector.className = 'selector';
    _this2.__saturation_field = document.createElement('div');
    _this2.__saturation_field.className = 'saturation-field';
    _this2.__field_knob = document.createElement('div');
    _this2.__field_knob.className = 'field-knob';
    _this2.__field_knob_border = '2px solid ';
    _this2.__hue_knob = document.createElement('div');
    _this2.__hue_knob.className = 'hue-knob';
    _this2.__hue_field = document.createElement('div');
    _this2.__hue_field.className = 'hue-field';
    _this2.__input = document.createElement('input');
    _this2.__input.type = 'text';
    _this2.__input_textShadow = '0 1px 1px ';
    dom.bind(_this2.__input, 'keydown', function (e) {
      if (e.keyCode === 13) {
        onBlur.call(this);
      }
    });
    dom.bind(_this2.__input, 'blur', onBlur);
    dom.bind(_this2.__selector, 'mousedown', function ()        {
      dom.addClass(this, 'drag').bind(window, 'mouseup', function ()        {
        dom.removeClass(_this.__selector, 'drag');
      });
    });
    dom.bind(_this2.__selector, 'touchstart', function ()        {
      dom.addClass(this, 'drag').bind(window, 'touchend', function ()        {
        dom.removeClass(_this.__selector, 'drag');
      });
    });
    var valueField = document.createElement('div');
    Common.extend(_this2.__selector.style, {
      width: '122px',
      height: '102px',
      padding: '3px',
      backgroundColor: '#222',
      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'
    });
    Common.extend(_this2.__field_knob.style, {
      position: 'absolute',
      width: '12px',
      height: '12px',
      border: _this2.__field_knob_border + (_this2.__color.v < 0.5 ? '#fff' : '#000'),
      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',
      borderRadius: '12px',
      zIndex: 1
    });
    Common.extend(_this2.__hue_knob.style, {
      position: 'absolute',
      width: '15px',
      height: '2px',
      borderRight: '4px solid #fff',
      zIndex: 1
    });
    Common.extend(_this2.__saturation_field.style, {
      width: '100px',
      height: '100px',
      border: '1px solid #555',
      marginRight: '3px',
      display: 'inline-block',
      cursor: 'pointer'
    });
    Common.extend(valueField.style, {
      width: '100%',
      height: '100%',
      background: 'none'
    });
    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');
    Common.extend(_this2.__hue_field.style, {
      width: '15px',
      height: '100px',
      border: '1px solid #555',
      cursor: 'ns-resize',
      position: 'absolute',
      top: '3px',
      right: '3px'
    });
    hueGradient(_this2.__hue_field);
    Common.extend(_this2.__input.style, {
      outline: 'none',
      textAlign: 'center',
      color: '#fff',
      border: 0,
      fontWeight: 'bold',
      textShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'
    });
    dom.bind(_this2.__saturation_field, 'mousedown', fieldDown);
    dom.bind(_this2.__saturation_field, 'touchstart', fieldDown);
    dom.bind(_this2.__field_knob, 'mousedown', fieldDown);
    dom.bind(_this2.__field_knob, 'touchstart', fieldDown);
    dom.bind(_this2.__hue_field, 'mousedown', fieldDownH);
    dom.bind(_this2.__hue_field, 'touchstart', fieldDownH);
    function fieldDown(e) {
      setSV(e);
      dom.bind(window, 'mousemove', setSV);
      dom.bind(window, 'touchmove', setSV);
      dom.bind(window, 'mouseup', fieldUpSV);
      dom.bind(window, 'touchend', fieldUpSV);
    }
    function fieldDownH(e) {
      setH(e);
      dom.bind(window, 'mousemove', setH);
      dom.bind(window, 'touchmove', setH);
      dom.bind(window, 'mouseup', fieldUpH);
      dom.bind(window, 'touchend', fieldUpH);
    }
    function fieldUpSV() {
      dom.unbind(window, 'mousemove', setSV);
      dom.unbind(window, 'touchmove', setSV);
      dom.unbind(window, 'mouseup', fieldUpSV);
      dom.unbind(window, 'touchend', fieldUpSV);
      onFinish();
    }
    function fieldUpH() {
      dom.unbind(window, 'mousemove', setH);
      dom.unbind(window, 'touchmove', setH);
      dom.unbind(window, 'mouseup', fieldUpH);
      dom.unbind(window, 'touchend', fieldUpH);
      onFinish();
    }
    function onBlur() {
      var i = interpret(this.value);
      if (i !== false) {
        _this.__color.__state = i;
        _this.setValue(_this.__color.toOriginal());
      } else {
        this.value = _this.__color.toString();
      }
    }
    function onFinish() {
      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.__color.toOriginal());
      }
    }
    _this2.__saturation_field.appendChild(valueField);
    _this2.__selector.appendChild(_this2.__field_knob);
    _this2.__selector.appendChild(_this2.__saturation_field);
    _this2.__selector.appendChild(_this2.__hue_field);
    _this2.__hue_field.appendChild(_this2.__hue_knob);
    _this2.domElement.appendChild(_this2.__input);
    _this2.domElement.appendChild(_this2.__selector);
    _this2.updateDisplay();
    function setSV(e) {
      if (e.type.indexOf('touch') === -1) {
        e.preventDefault();
      }
      var fieldRect = _this.__saturation_field.getBoundingClientRect();
      var _ref = e.touches && e.touches[0] || e,
          clientX = _ref.clientX,
          clientY = _ref.clientY;
      var s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);
      var v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);
      if (v > 1) {
        v = 1;
      } else if (v < 0) {
        v = 0;
      }
      if (s > 1) {
        s = 1;
      } else if (s < 0) {
        s = 0;
      }
      _this.__color.v = v;
      _this.__color.s = s;
      _this.setValue(_this.__color.toOriginal());
      return false;
    }
    function setH(e) {
      if (e.type.indexOf('touch') === -1) {
        e.preventDefault();
      }
      var fieldRect = _this.__hue_field.getBoundingClientRect();
      var _ref2 = e.touches && e.touches[0] || e,
          clientY = _ref2.clientY;
      var h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);
      if (h > 1) {
        h = 1;
      } else if (h < 0) {
        h = 0;
      }
      _this.__color.h = h * 360;
      _this.setValue(_this.__color.toOriginal());
      return false;
    }
    return _this2;
  }
  createClass(ColorController, [{
    key: 'updateDisplay',
    value: function updateDisplay() {
      var i = interpret(this.getValue());
      if (i !== false) {
        var mismatch = false;
        Common.each(Color.COMPONENTS, function (component) {
          if (!Common.isUndefined(i[component]) && !Common.isUndefined(this.__color.__state[component]) && i[component] !== this.__color.__state[component]) {
            mismatch = true;
            return {};
          }
        }, this);
        if (mismatch) {
          Common.extend(this.__color.__state, i);
        }
      }
      Common.extend(this.__temp.__state, this.__color.__state);
      this.__temp.a = 1;
      var flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;
      var _flip = 255 - flip;
      Common.extend(this.__field_knob.style, {
        marginLeft: 100 * this.__color.s - 7 + 'px',
        marginTop: 100 * (1 - this.__color.v) - 7 + 'px',
        backgroundColor: this.__temp.toHexString(),
        border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'
      });
      this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';
      this.__temp.s = 1;
      this.__temp.v = 1;
      linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());
      this.__input.value = this.__color.toString();
      Common.extend(this.__input.style, {
        backgroundColor: this.__color.toHexString(),
        color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',
        textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'
      });
    }
  }]);
  return ColorController;
}(Controller);
var vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];
function linearGradient(elem, x, a, b) {
  elem.style.background = '';
  Common.each(vendors, function (vendor) {
    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';
  });
}
function hueGradient(elem) {
  elem.style.background = '';
  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';
  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
}

var css = {
  load: function load(url, indoc) {
    var doc = indoc || document;
    var link = doc.createElement('link');
    link.type = 'text/css';
    link.rel = 'stylesheet';
    link.href = url;
    doc.getElementsByTagName('head')[0].appendChild(link);
  },
  inject: function inject(cssContent, indoc) {
    var doc = indoc || document;
    var injected = document.createElement('style');
    injected.type = 'text/css';
    injected.innerHTML = cssContent;
    var head = doc.getElementsByTagName('head')[0];
    try {
      head.appendChild(injected);
    } catch (e) {
    }
  }
};

var saveDialogContents = "<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>";

var ControllerFactory = function ControllerFactory(object, property) {
  var initialValue = object[property];
  if (Common.isArray(arguments[2]) || Common.isObject(arguments[2])) {
    return new OptionController(object, property, arguments[2]);
  }
  if (Common.isNumber(initialValue)) {
    if (Common.isNumber(arguments[2]) && Common.isNumber(arguments[3])) {
      if (Common.isNumber(arguments[4])) {
        return new NumberControllerSlider(object, property, arguments[2], arguments[3], arguments[4]);
      }
      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);
    }
    if (Common.isNumber(arguments[4])) {
      return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3], step: arguments[4] });
    }
    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });
  }
  if (Common.isString(initialValue)) {
    return new StringController(object, property);
  }
  if (Common.isFunction(initialValue)) {
    return new FunctionController(object, property, '');
  }
  if (Common.isBoolean(initialValue)) {
    return new BooleanController(object, property);
  }
  return null;
};

function requestAnimationFrame(callback) {
  setTimeout(callback, 1000 / 60);
}
var requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;

var CenteredDiv = function () {
  function CenteredDiv() {
    classCallCheck(this, CenteredDiv);
    this.backgroundElement = document.createElement('div');
    Common.extend(this.backgroundElement.style, {
      backgroundColor: 'rgba(0,0,0,0.8)',
      top: 0,
      left: 0,
      display: 'none',
      zIndex: '1000',
      opacity: 0,
      WebkitTransition: 'opacity 0.2s linear',
      transition: 'opacity 0.2s linear'
    });
    dom.makeFullscreen(this.backgroundElement);
    this.backgroundElement.style.position = 'fixed';
    this.domElement = document.createElement('div');
    Common.extend(this.domElement.style, {
      position: 'fixed',
      display: 'none',
      zIndex: '1001',
      opacity: 0,
      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',
      transition: 'transform 0.2s ease-out, opacity 0.2s linear'
    });
    document.body.appendChild(this.backgroundElement);
    document.body.appendChild(this.domElement);
    var _this = this;
    dom.bind(this.backgroundElement, 'click', function () {
      _this.hide();
    });
  }
  createClass(CenteredDiv, [{
    key: 'show',
    value: function show() {
      var _this = this;
      this.backgroundElement.style.display = 'block';
      this.domElement.style.display = 'block';
      this.domElement.style.opacity = 0;
      this.domElement.style.webkitTransform = 'scale(1.1)';
      this.layout();
      Common.defer(function () {
        _this.backgroundElement.style.opacity = 1;
        _this.domElement.style.opacity = 1;
        _this.domElement.style.webkitTransform = 'scale(1)';
      });
    }
  }, {
    key: 'hide',
    value: function hide() {
      var _this = this;
      var hide = function hide() {
        _this.domElement.style.display = 'none';
        _this.backgroundElement.style.display = 'none';
        dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);
        dom.unbind(_this.domElement, 'transitionend', hide);
        dom.unbind(_this.domElement, 'oTransitionEnd', hide);
      };
      dom.bind(this.domElement, 'webkitTransitionEnd', hide);
      dom.bind(this.domElement, 'transitionend', hide);
      dom.bind(this.domElement, 'oTransitionEnd', hide);
      this.backgroundElement.style.opacity = 0;
      this.domElement.style.opacity = 0;
      this.domElement.style.webkitTransform = 'scale(1.1)';
    }
  }, {
    key: 'layout',
    value: function layout() {
      this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';
      this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';
    }
  }]);
  return CenteredDiv;
}();

var styleSheet = ___$insertStyle(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");

css.inject(styleSheet);
var CSS_NAMESPACE = 'dg';
var HIDE_KEY_CODE = 72;
var CLOSE_BUTTON_HEIGHT = 20;
var DEFAULT_DEFAULT_PRESET_NAME = 'Default';
var SUPPORTS_LOCAL_STORAGE = function () {
  try {
    return !!window.localStorage;
  } catch (e) {
    return false;
  }
}();
var SAVE_DIALOGUE = void 0;
var autoPlaceVirgin = true;
var autoPlaceContainer = void 0;
var hide = false;
var hideableGuis = [];
var GUI = function GUI(pars) {
  var _this = this;
  var params = pars || {};
  this.domElement = document.createElement('div');
  this.__ul = document.createElement('ul');
  this.domElement.appendChild(this.__ul);
  dom.addClass(this.domElement, CSS_NAMESPACE);
  this.__folders = {};
  this.__controllers = [];
  this.__rememberedObjects = [];
  this.__rememberedObjectIndecesToControllers = [];
  this.__listening = [];
  params = Common.defaults(params, {
    closeOnTop: false,
    autoPlace: true,
    width: GUI.DEFAULT_WIDTH
  });
  params = Common.defaults(params, {
    resizable: params.autoPlace,
    hideable: params.autoPlace
  });
  if (!Common.isUndefined(params.load)) {
    if (params.preset) {
      params.load.preset = params.preset;
    }
  } else {
    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };
  }
  if (Common.isUndefined(params.parent) && params.hideable) {
    hideableGuis.push(this);
  }
  params.resizable = Common.isUndefined(params.parent) && params.resizable;
  if (params.autoPlace && Common.isUndefined(params.scrollable)) {
    params.scrollable = true;
  }
  var useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';
  var saveToLocalStorage = void 0;
  var titleRow = void 0;
  Object.defineProperties(this,
  {
    parent: {
      get: function get$$1() {
        return params.parent;
      }
    },
    scrollable: {
      get: function get$$1() {
        return params.scrollable;
      }
    },
    autoPlace: {
      get: function get$$1() {
        return params.autoPlace;
      }
    },
    closeOnTop: {
      get: function get$$1() {
        return params.closeOnTop;
      }
    },
    preset: {
      get: function get$$1() {
        if (_this.parent) {
          return _this.getRoot().preset;
        }
        return params.load.preset;
      },
      set: function set$$1(v) {
        if (_this.parent) {
          _this.getRoot().preset = v;
        } else {
          params.load.preset = v;
        }
        setPresetSelectIndex(this);
        _this.revert();
      }
    },
    width: {
      get: function get$$1() {
        return params.width;
      },
      set: function set$$1(v) {
        params.width = v;
        setWidth(_this, v);
      }
    },
    name: {
      get: function get$$1() {
        return params.name;
      },
      set: function set$$1(v) {
        params.name = v;
        if (titleRow) {
          titleRow.innerHTML = params.name;
        }
      }
    },
    closed: {
      get: function get$$1() {
        return params.closed;
      },
      set: function set$$1(v) {
        params.closed = v;
        if (params.closed) {
          dom.addClass(_this.__ul, GUI.CLASS_CLOSED);
        } else {
          dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);
        }
        this.onResize();
        if (_this.__closeButton) {
          _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;
        }
      }
    },
    load: {
      get: function get$$1() {
        return params.load;
      }
    },
    useLocalStorage: {
      get: function get$$1() {
        return useLocalStorage;
      },
      set: function set$$1(bool) {
        if (SUPPORTS_LOCAL_STORAGE) {
          useLocalStorage = bool;
          if (bool) {
            dom.bind(window, 'unload', saveToLocalStorage);
          } else {
            dom.unbind(window, 'unload', saveToLocalStorage);
          }
          localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);
        }
      }
    }
  });
  if (Common.isUndefined(params.parent)) {
    this.closed = params.closed || false;
    dom.addClass(this.domElement, GUI.CLASS_MAIN);
    dom.makeSelectable(this.domElement, false);
    if (SUPPORTS_LOCAL_STORAGE) {
      if (useLocalStorage) {
        _this.useLocalStorage = true;
        var savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));
        if (savedGui) {
          params.load = JSON.parse(savedGui);
        }
      }
    }
    this.__closeButton = document.createElement('div');
    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;
    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);
    if (params.closeOnTop) {
      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);
      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);
    } else {
      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);
      this.domElement.appendChild(this.__closeButton);
    }
    dom.bind(this.__closeButton, 'click', function () {
      _this.closed = !_this.closed;
    });
  } else {
    if (params.closed === undefined) {
      params.closed = true;
    }
    var titleRowName = document.createTextNode(params.name);
    dom.addClass(titleRowName, 'controller-name');
    titleRow = addRow(_this, titleRowName);
    var onClickTitle = function onClickTitle(e) {
      e.preventDefault();
      _this.closed = !_this.closed;
      return false;
    };
    dom.addClass(this.__ul, GUI.CLASS_CLOSED);
    dom.addClass(titleRow, 'title');
    dom.bind(titleRow, 'click', onClickTitle);
    if (!params.closed) {
      this.closed = false;
    }
  }
  if (params.autoPlace) {
    if (Common.isUndefined(params.parent)) {
      if (autoPlaceVirgin) {
        autoPlaceContainer = document.createElement('div');
        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);
        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);
        document.body.appendChild(autoPlaceContainer);
        autoPlaceVirgin = false;
      }
      autoPlaceContainer.appendChild(this.domElement);
      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);
    }
    if (!this.parent) {
      setWidth(_this, params.width);
    }
  }
  this.__resizeHandler = function () {
    _this.onResizeDebounced();
  };
  dom.bind(window, 'resize', this.__resizeHandler);
  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);
  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);
  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);
  this.onResize();
  if (params.resizable) {
    addResizeHandle(this);
  }
  saveToLocalStorage = function saveToLocalStorage() {
    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {
      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));
    }
  };
  this.saveToLocalStorageIfPossible = saveToLocalStorage;
  function resetWidth() {
    var root = _this.getRoot();
    root.width += 1;
    Common.defer(function () {
      root.width -= 1;
    });
  }
  if (!params.parent) {
    resetWidth();
  }
};
GUI.toggleHide = function () {
  hide = !hide;
  Common.each(hideableGuis, function (gui) {
    gui.domElement.style.display = hide ? 'none' : '';
  });
};
GUI.CLASS_AUTO_PLACE = 'a';
GUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';
GUI.CLASS_MAIN = 'main';
GUI.CLASS_CONTROLLER_ROW = 'cr';
GUI.CLASS_TOO_TALL = 'taller-than-window';
GUI.CLASS_CLOSED = 'closed';
GUI.CLASS_CLOSE_BUTTON = 'close-button';
GUI.CLASS_CLOSE_TOP = 'close-top';
GUI.CLASS_CLOSE_BOTTOM = 'close-bottom';
GUI.CLASS_DRAG = 'drag';
GUI.DEFAULT_WIDTH = 245;
GUI.TEXT_CLOSED = 'Close Controls';
GUI.TEXT_OPEN = 'Open Controls';
GUI._keydownHandler = function (e) {
  if (document.activeElement.type !== 'text' && (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {
    GUI.toggleHide();
  }
};
dom.bind(window, 'keydown', GUI._keydownHandler, false);
Common.extend(GUI.prototype,
{
  add: function add(object, property) {
    return _add(this, object, property, {
      factoryArgs: Array.prototype.slice.call(arguments, 2)
    });
  },
  addColor: function addColor(object, property) {
    return _add(this, object, property, {
      color: true
    });
  },
  remove: function remove(controller) {
    this.__ul.removeChild(controller.__li);
    this.__controllers.splice(this.__controllers.indexOf(controller), 1);
    var _this = this;
    Common.defer(function () {
      _this.onResize();
    });
  },
  destroy: function destroy() {
    if (this.parent) {
      throw new Error('Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.');
    }
    if (this.autoPlace) {
      autoPlaceContainer.removeChild(this.domElement);
    }
    var _this = this;
    Common.each(this.__folders, function (subfolder) {
      _this.removeFolder(subfolder);
    });
    dom.unbind(window, 'keydown', GUI._keydownHandler, false);
    removeListeners(this);
  },
  addFolder: function addFolder(name) {
    if (this.__folders[name] !== undefined) {
      throw new Error('You already have a folder in this GUI by the' + ' name "' + name + '"');
    }
    var newGuiParams = { name: name, parent: this };
    newGuiParams.autoPlace = this.autoPlace;
    if (this.load &&
    this.load.folders &&
    this.load.folders[name]) {
      newGuiParams.closed = this.load.folders[name].closed;
      newGuiParams.load = this.load.folders[name];
    }
    var gui = new GUI(newGuiParams);
    this.__folders[name] = gui;
    var li = addRow(this, gui.domElement);
    dom.addClass(li, 'folder');
    return gui;
  },
  removeFolder: function removeFolder(folder) {
    this.__ul.removeChild(folder.domElement.parentElement);
    delete this.__folders[folder.name];
    if (this.load &&
    this.load.folders &&
    this.load.folders[folder.name]) {
      delete this.load.folders[folder.name];
    }
    removeListeners(folder);
    var _this = this;
    Common.each(folder.__folders, function (subfolder) {
      folder.removeFolder(subfolder);
    });
    Common.defer(function () {
      _this.onResize();
    });
  },
  open: function open() {
    this.closed = false;
  },
  close: function close() {
    this.closed = true;
  },
  hide: function hide() {
    this.domElement.style.display = 'none';
  },
  show: function show() {
    this.domElement.style.display = '';
  },
  onResize: function onResize() {
    var root = this.getRoot();
    if (root.scrollable) {
      var top = dom.getOffset(root.__ul).top;
      var h = 0;
      Common.each(root.__ul.childNodes, function (node) {
        if (!(root.autoPlace && node === root.__save_row)) {
          h += dom.getHeight(node);
        }
      });
      if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {
        dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);
        root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';
      } else {
        dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);
        root.__ul.style.height = 'auto';
      }
    }
    if (root.__resize_handle) {
      Common.defer(function () {
        root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';
      });
    }
    if (root.__closeButton) {
      root.__closeButton.style.width = root.width + 'px';
    }
  },
  onResizeDebounced: Common.debounce(function () {
    this.onResize();
  }, 50),
  remember: function remember() {
    if (Common.isUndefined(SAVE_DIALOGUE)) {
      SAVE_DIALOGUE = new CenteredDiv();
      SAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;
    }
    if (this.parent) {
      throw new Error('You can only call remember on a top level GUI.');
    }
    var _this = this;
    Common.each(Array.prototype.slice.call(arguments), function (object) {
      if (_this.__rememberedObjects.length === 0) {
        addSaveMenu(_this);
      }
      if (_this.__rememberedObjects.indexOf(object) === -1) {
        _this.__rememberedObjects.push(object);
      }
    });
    if (this.autoPlace) {
      setWidth(this, this.width);
    }
  },
  getRoot: function getRoot() {
    var gui = this;
    while (gui.parent) {
      gui = gui.parent;
    }
    return gui;
  },
  getSaveObject: function getSaveObject() {
    var toReturn = this.load;
    toReturn.closed = this.closed;
    if (this.__rememberedObjects.length > 0) {
      toReturn.preset = this.preset;
      if (!toReturn.remembered) {
        toReturn.remembered = {};
      }
      toReturn.remembered[this.preset] = getCurrentPreset(this);
    }
    toReturn.folders = {};
    Common.each(this.__folders, function (element, key) {
      toReturn.folders[key] = element.getSaveObject();
    });
    return toReturn;
  },
  save: function save() {
    if (!this.load.remembered) {
      this.load.remembered = {};
    }
    this.load.remembered[this.preset] = getCurrentPreset(this);
    markPresetModified(this, false);
    this.saveToLocalStorageIfPossible();
  },
  saveAs: function saveAs(presetName) {
    if (!this.load.remembered) {
      this.load.remembered = {};
      this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);
    }
    this.load.remembered[presetName] = getCurrentPreset(this);
    this.preset = presetName;
    addPresetOption(this, presetName, true);
    this.saveToLocalStorageIfPossible();
  },
  revert: function revert(gui) {
    Common.each(this.__controllers, function (controller) {
      if (!this.getRoot().load.remembered) {
        controller.setValue(controller.initialValue);
      } else {
        recallSavedValue(gui || this.getRoot(), controller);
      }
      if (controller.__onFinishChange) {
        controller.__onFinishChange.call(controller, controller.getValue());
      }
    }, this);
    Common.each(this.__folders, function (folder) {
      folder.revert(folder);
    });
    if (!gui) {
      markPresetModified(this.getRoot(), false);
    }
  },
  listen: function listen(controller) {
    var init = this.__listening.length === 0;
    this.__listening.push(controller);
    if (init) {
      updateDisplays(this.__listening);
    }
  },
  updateDisplay: function updateDisplay() {
    Common.each(this.__controllers, function (controller) {
      controller.updateDisplay();
    });
    Common.each(this.__folders, function (folder) {
      folder.updateDisplay();
    });
  }
});
function addRow(gui, newDom, liBefore) {
  var li = document.createElement('li');
  if (newDom) {
    li.appendChild(newDom);
  }
  if (liBefore) {
    gui.__ul.insertBefore(li, liBefore);
  } else {
    gui.__ul.appendChild(li);
  }
  gui.onResize();
  return li;
}
function removeListeners(gui) {
  dom.unbind(window, 'resize', gui.__resizeHandler);
  if (gui.saveToLocalStorageIfPossible) {
    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);
  }
}
function markPresetModified(gui, modified) {
  var opt = gui.__preset_select[gui.__preset_select.selectedIndex];
  if (modified) {
    opt.innerHTML = opt.value + '*';
  } else {
    opt.innerHTML = opt.value;
  }
}
function augmentController(gui, li, controller) {
  controller.__li = li;
  controller.__gui = gui;
  Common.extend(controller,                                   {
    options: function options(_options) {
      if (arguments.length > 1) {
        var nextSibling = controller.__li.nextElementSibling;
        controller.remove();
        return _add(gui, controller.object, controller.property, {
          before: nextSibling,
          factoryArgs: [Common.toArray(arguments)]
        });
      }
      if (Common.isArray(_options) || Common.isObject(_options)) {
        var _nextSibling = controller.__li.nextElementSibling;
        controller.remove();
        return _add(gui, controller.object, controller.property, {
          before: _nextSibling,
          factoryArgs: [_options]
        });
      }
    },
    name: function name(_name) {
      controller.__li.firstElementChild.firstElementChild.innerHTML = _name;
      return controller;
    },
    listen: function listen() {
      controller.__gui.listen(controller);
      return controller;
    },
    remove: function remove() {
      controller.__gui.remove(controller);
      return controller;
    }
  });
  if (controller instanceof NumberControllerSlider) {
    var box = new NumberControllerBox(controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step });
    Common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function (method) {
      var pc = controller[method];
      var pb = box[method];
      controller[method] = box[method] = function () {
        var args = Array.prototype.slice.call(arguments);
        pb.apply(box, args);
        return pc.apply(controller, args);
      };
    });
    dom.addClass(li, 'has-slider');
    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);
  } else if (controller instanceof NumberControllerBox) {
    var r = function r(returned) {
      if (Common.isNumber(controller.__min) && Common.isNumber(controller.__max)) {
        var oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;
        var wasListening = controller.__gui.__listening.indexOf(controller) > -1;
        controller.remove();
        var newController = _add(gui, controller.object, controller.property, {
          before: controller.__li.nextElementSibling,
          factoryArgs: [controller.__min, controller.__max, controller.__step]
        });
        newController.name(oldName);
        if (wasListening) newController.listen();
        return newController;
      }
      return returned;
    };
    controller.min = Common.compose(r, controller.min);
    controller.max = Common.compose(r, controller.max);
  } else if (controller instanceof BooleanController) {
    dom.bind(li, 'click', function () {
      dom.fakeEvent(controller.__checkbox, 'click');
    });
    dom.bind(controller.__checkbox, 'click', function (e) {
      e.stopPropagation();
    });
  } else if (controller instanceof FunctionController) {
    dom.bind(li, 'click', function () {
      dom.fakeEvent(controller.__button, 'click');
    });
    dom.bind(li, 'mouseover', function () {
      dom.addClass(controller.__button, 'hover');
    });
    dom.bind(li, 'mouseout', function () {
      dom.removeClass(controller.__button, 'hover');
    });
  } else if (controller instanceof ColorController) {
    dom.addClass(li, 'color');
    controller.updateDisplay = Common.compose(function (val) {
      li.style.borderLeftColor = controller.__color.toString();
      return val;
    }, controller.updateDisplay);
    controller.updateDisplay();
  }
  controller.setValue = Common.compose(function (val) {
    if (gui.getRoot().__preset_select && controller.isModified()) {
      markPresetModified(gui.getRoot(), true);
    }
    return val;
  }, controller.setValue);
}
function recallSavedValue(gui, controller) {
  var root = gui.getRoot();
  var matchedIndex = root.__rememberedObjects.indexOf(controller.object);
  if (matchedIndex !== -1) {
    var controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];
    if (controllerMap === undefined) {
      controllerMap = {};
      root.__rememberedObjectIndecesToControllers[matchedIndex] = controllerMap;
    }
    controllerMap[controller.property] = controller;
    if (root.load && root.load.remembered) {
      var presetMap = root.load.remembered;
      var preset = void 0;
      if (presetMap[gui.preset]) {
        preset = presetMap[gui.preset];
      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {
        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];
      } else {
        return;
      }
      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {
        var value = preset[matchedIndex][controller.property];
        controller.initialValue = value;
        controller.setValue(value);
      }
    }
  }
}
function _add(gui, object, property, params) {
  if (object[property] === undefined) {
    throw new Error('Object "' + object + '" has no property "' + property + '"');
  }
  var controller = void 0;
  if (params.color) {
    controller = new ColorController(object, property);
  } else {
    var factoryArgs = [object, property].concat(params.factoryArgs);
    controller = ControllerFactory.apply(gui, factoryArgs);
  }
  if (params.before instanceof Controller) {
    params.before = params.before.__li;
  }
  recallSavedValue(gui, controller);
  dom.addClass(controller.domElement, 'c');
  var name = document.createElement('span');
  dom.addClass(name, 'property-name');
  name.innerHTML = controller.property;
  var container = document.createElement('div');
  container.appendChild(name);
  container.appendChild(controller.domElement);
  var li = addRow(gui, container, params.before);
  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);
  if (controller instanceof ColorController) {
    dom.addClass(li, 'color');
  } else {
    dom.addClass(li, _typeof(controller.getValue()));
  }
  augmentController(gui, li, controller);
  gui.__controllers.push(controller);
  return controller;
}
function getLocalStorageHash(gui, key) {
  return document.location.href + '.' + key;
}
function addPresetOption(gui, name, setSelected) {
  var opt = document.createElement('option');
  opt.innerHTML = name;
  opt.value = name;
  gui.__preset_select.appendChild(opt);
  if (setSelected) {
    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;
  }
}
function showHideExplain(gui, explain) {
  explain.style.display = gui.useLocalStorage ? 'block' : 'none';
}
function addSaveMenu(gui) {
  var div = gui.__save_row = document.createElement('li');
  dom.addClass(gui.domElement, 'has-save');
  gui.__ul.insertBefore(div, gui.__ul.firstChild);
  dom.addClass(div, 'save-row');
  var gears = document.createElement('span');
  gears.innerHTML = '&nbsp;';
  dom.addClass(gears, 'button gears');
  var button = document.createElement('span');
  button.innerHTML = 'Save';
  dom.addClass(button, 'button');
  dom.addClass(button, 'save');
  var button2 = document.createElement('span');
  button2.innerHTML = 'New';
  dom.addClass(button2, 'button');
  dom.addClass(button2, 'save-as');
  var button3 = document.createElement('span');
  button3.innerHTML = 'Revert';
  dom.addClass(button3, 'button');
  dom.addClass(button3, 'revert');
  var select = gui.__preset_select = document.createElement('select');
  if (gui.load && gui.load.remembered) {
    Common.each(gui.load.remembered, function (value, key) {
      addPresetOption(gui, key, key === gui.preset);
    });
  } else {
    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);
  }
  dom.bind(select, 'change', function () {
    for (var index = 0; index < gui.__preset_select.length; index++) {
      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;
    }
    gui.preset = this.value;
  });
  div.appendChild(select);
  div.appendChild(gears);
  div.appendChild(button);
  div.appendChild(button2);
  div.appendChild(button3);
  if (SUPPORTS_LOCAL_STORAGE) {
    var explain = document.getElementById('dg-local-explain');
    var localStorageCheckBox = document.getElementById('dg-local-storage');
    var saveLocally = document.getElementById('dg-save-locally');
    saveLocally.style.display = 'block';
    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {
      localStorageCheckBox.setAttribute('checked', 'checked');
    }
    showHideExplain(gui, explain);
    dom.bind(localStorageCheckBox, 'change', function () {
      gui.useLocalStorage = !gui.useLocalStorage;
      showHideExplain(gui, explain);
    });
  }
  var newConstructorTextArea = document.getElementById('dg-new-constructor');
  dom.bind(newConstructorTextArea, 'keydown', function (e) {
    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {
      SAVE_DIALOGUE.hide();
    }
  });
  dom.bind(gears, 'click', function () {
    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);
    SAVE_DIALOGUE.show();
    newConstructorTextArea.focus();
    newConstructorTextArea.select();
  });
  dom.bind(button, 'click', function () {
    gui.save();
  });
  dom.bind(button2, 'click', function () {
    var presetName = prompt('Enter a new preset name.');
    if (presetName) {
      gui.saveAs(presetName);
    }
  });
  dom.bind(button3, 'click', function () {
    gui.revert();
  });
}
function addResizeHandle(gui) {
  var pmouseX = void 0;
  gui.__resize_handle = document.createElement('div');
  Common.extend(gui.__resize_handle.style, {
    width: '6px',
    marginLeft: '-3px',
    height: '200px',
    cursor: 'ew-resize',
    position: 'absolute'
  });
  function drag(e) {
    e.preventDefault();
    gui.width += pmouseX - e.clientX;
    gui.onResize();
    pmouseX = e.clientX;
    return false;
  }
  function dragStop() {
    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);
    dom.unbind(window, 'mousemove', drag);
    dom.unbind(window, 'mouseup', dragStop);
  }
  function dragStart(e) {
    e.preventDefault();
    pmouseX = e.clientX;
    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);
    dom.bind(window, 'mousemove', drag);
    dom.bind(window, 'mouseup', dragStop);
    return false;
  }
  dom.bind(gui.__resize_handle, 'mousedown', dragStart);
  dom.bind(gui.__closeButton, 'mousedown', dragStart);
  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);
}
function setWidth(gui, w) {
  gui.domElement.style.width = w + 'px';
  if (gui.__save_row && gui.autoPlace) {
    gui.__save_row.style.width = w + 'px';
  }
  if (gui.__closeButton) {
    gui.__closeButton.style.width = w + 'px';
  }
}
function getCurrentPreset(gui, useInitialValues) {
  var toReturn = {};
  Common.each(gui.__rememberedObjects, function (val, index) {
    var savedValues = {};
    var controllerMap = gui.__rememberedObjectIndecesToControllers[index];
    Common.each(controllerMap, function (controller, property) {
      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();
    });
    toReturn[index] = savedValues;
  });
  return toReturn;
}
function setPresetSelectIndex(gui) {
  for (var index = 0; index < gui.__preset_select.length; index++) {
    if (gui.__preset_select[index].value === gui.preset) {
      gui.__preset_select.selectedIndex = index;
    }
  }
}
function updateDisplays(controllerArray) {
  if (controllerArray.length !== 0) {
    requestAnimationFrame$1.call(window, function () {
      updateDisplays(controllerArray);
    });
  }
  Common.each(controllerArray, function (c) {
    c.updateDisplay();
  });
}

var color = {
  Color: Color,
  math: ColorMath,
  interpret: interpret
};
var controllers = {
  Controller: Controller,
  BooleanController: BooleanController,
  OptionController: OptionController,
  StringController: StringController,
  NumberController: NumberController,
  NumberControllerBox: NumberControllerBox,
  NumberControllerSlider: NumberControllerSlider,
  FunctionController: FunctionController,
  ColorController: ColorController
};
var dom$1 = { dom: dom };
var gui = { GUI: GUI };
var GUI$1 = GUI;
var index = {
  color: color,
  controllers: controllers,
  dom: dom$1,
  gui: gui,
  GUI: GUI$1
};


/* harmony default export */ __webpack_exports__["default"] = (index);
//# sourceMappingURL=dat.gui.module.js.map


/***/ }),

/***/ "./node_modules/stats.js/build/stats.min.js":
/*!**************************************************!*\
  !*** ./node_modules/stats.js/build/stats.min.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// stats.js - http://github.com/mrdoob/stats.js
(function(f,e){ true?module.exports=e():undefined})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?"block":"none";l=a}var l=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";c.addEventListener("click",function(a){a.preventDefault();
u(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel("FPS","#0ff","#002")),h=e(new f.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var t=e(new f.Panel("MB","#f08","#201"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/
1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement("canvas");q.width=r;q.height=h;q.style.cssText="width:80px;height:48px";var b=q.getContext("2d");b.font="bold "+9*a+"px Helvetica,Arial,sans-serif";b.textBaseline="top";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);
b.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+" "+e+" ("+g(c)+"-"+g(k)+")",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});


/***/ }),

/***/ "./src/js/debug/debug.js":
/*!*******************************!*\
  !*** ./src/js/debug/debug.js ***!
  \*******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dat.gui */ "./node_modules/dat.gui/build/dat.gui.module.js");
/* harmony import */ var stats_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! stats.js */ "./node_modules/stats.js/build/stats.min.js");
/* harmony import */ var stats_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(stats_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var alfrid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! alfrid */ "./node_modules/alfrid/build/alfrid.js");
/* harmony import */ var alfrid__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(alfrid__WEBPACK_IMPORTED_MODULE_2__);
// debug.js


 // INIT DAT-GUI

window.gui = new dat_gui__WEBPACK_IMPORTED_MODULE_0__["default"].GUI({
  width: 300
});
const div = document.body.querySelector('.dg.ac');
div.style.zIndex = '999'; // STATS

const stats = new stats_js__WEBPACK_IMPORTED_MODULE_1___default.a();
document.body.appendChild(stats.domElement);
alfrid__WEBPACK_IMPORTED_MODULE_2___default.a.Scheduler.addEF(() => stats.update());

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FsZnJpZC9idWlsZC9hbGZyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RhdC5ndWkvYnVpbGQvZGF0Lmd1aS5tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0YXRzLmpzL2J1aWxkL3N0YXRzLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZGVidWcvZGVidWcuanMiXSwibmFtZXMiOlsid2luZG93IiwiZ3VpIiwiZGF0IiwiR1VJIiwid2lkdGgiLCJkaXYiLCJkb2N1bWVudCIsImJvZHkiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJ6SW5kZXgiLCJzdGF0cyIsIlN0YXRzIiwiYXBwZW5kQ2hpbGQiLCJkb21FbGVtZW50IiwiYWxmcmlkIiwiU2NoZWR1bGVyIiwiYWRkRUYiLCJ1cGRhdGUiXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7OztRQUdBO1FBQ0E7Ozs7Ozs7Ozs7OztBQ2xGQSx3QkFBd0IsS0FBaUQsMEJBQTBCLFNBQXlJLENBQUMsK0NBQStDLHlCQUF5Qix1Q0FBdUMsd0VBQXdFLHVDQUF1Qyw0QkFBNEIsbUhBQW1ILHdCQUF3QixnSUFBZ0kseUVBQXlFLHlDQUF5QyxFQUFFLHdDQUF3QyxnREFBZ0Qsc0JBQXNCLFlBQVksZUFBZSx1REFBdUQsaURBQWlELDZEQUE2RCx3RUFBd0UsK0NBQStDLGFBQWEscUNBQXFDLGdDQUFnQyxhQUFhLCtDQUErQywrRkFBK0YsNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSxtbkJBQW1uQixrQkFBa0IsZ29CQUFnb0IsNkJBQTZCLG1DQUFtQywwRUFBMEUsa0ZBQWtGLGdMQUFnTCxlQUFlLDBkQUEwZCxFQUFFLHFDQUFxQyx3RUFBd0UsWUFBWSxrQ0FBa0MsOEZBQThGLDJVQUEyVSxFQUFFLDBDQUEwQyxrQkFBa0IseU5BQXlOLEVBQUUsc0NBQXNDLHFCQUFxQixFQUFFLG9DQUFvQywwRUFBMEUsRUFBRSxzQ0FBc0MscUJBQXFCLEVBQUUsMENBQTBDLHNEQUFzRCxFQUFFLHdDQUF3QyxrRUFBa0UsRUFBRSx1Q0FBdUMsdWNBQXVjLEVBQUUsOENBQThDLDRCQUE0QixlQUFlLHdCQUF3QixLQUFLLDBZQUEwWSw0QkFBNEIsNlRBQTZULEVBQUUsNkRBQTZELHNMQUFzTCw4TUFBOE0sOERBQThELHFSQUFxUix1REFBdUQsNEVBQTRFLEVBQUUsNkNBQTZDLGtNQUFrTSxFQUFFLHNDQUFzQyw2Q0FBNkMsZ0dBQWdHLEVBQUUsZ0RBQWdELHFDQUFxQyxFQUFFLDhDQUE4QyxvQ0FBb0MsRUFBRSwyQ0FBMkMsbURBQW1ELEVBQUUsOENBQThDLDZCQUE2QixFQUFFLGtDQUFrQyxnREFBZ0QsOEJBQThCLEVBQUUsaUNBQWlDLDRDQUE0QyxpQ0FBaUMsa0JBQWtCLEVBQUUsd0NBQXdDLHVCQUF1QixFQUFFLHlDQUF5Qyx3QkFBd0IsRUFBRSx1Q0FBdUMsMkJBQTJCLEVBQUUsK0JBQStCLDhCQUE4QixnREFBZ0QsU0FBUywwQkFBMEIsa0JBQWtCLEVBQUUsMkJBQTJCLGdDQUFnQyxFQUFFLGdDQUFnQyxvQ0FBb0MsRUFBRSwyQkFBMkIsb0JBQW9CLEVBQUUsNEJBQTRCLHFCQUFxQixFQUFFLGlDQUFpQywwQkFBMEIsRUFBRSw0QkFBNEIsd0JBQXdCLFVBQVUsaUJBQWlCLG1CQUFtQiw4Q0FBOEMsYUFBYSwrQ0FBK0MsK0ZBQStGLDRDQUE0QyxTQUFTLEVBQUUsc0ZBQXNGLGtCQUFrQixlQUFlLDRHQUE0Ryx5QkFBeUIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSx5REFBeUQsZ0NBQWdDLGFBQWEsa0VBQWtFLDBDQUEwQyxZQUFZLGdCQUFnQixzQ0FBc0MsU0FBUyxrQ0FBa0MscUNBQXFDLGVBQWUsK0JBQStCLHdCQUF3Qiw2QkFBNkIsNkRBQTZELG9IQUFvSCx3SUFBd0kscUJBQXFCLG9CQUFvQixxTkFBcU4sNE9BQTRPLG9IQUFvSCw2Q0FBNkMsK0JBQStCLDRCQUE0Qiw4SEFBOEgsRUFBRSxpREFBaUQsZ0dBQWdHLHFHQUFxRyx5QkFBeUIsMERBQTBELCtCQUErQixNQUFNLGdCQUFnQixpUUFBaVEsZ0dBQWdHLHdCQUF3Qiw0R0FBNEcseUlBQXlJLDJFQUEyRSw2R0FBNkcsb0xBQW9MLHdMQUF3TCxFQUFFLGdEQUFnRCxvQ0FBb0MsNEZBQTRGLGdEQUFnRCxtQkFBbUIsc0JBQXNCLG9DQUFvQyxpQkFBaUIscURBQXFELEVBQUUscUVBQXFFLGlJQUFpSSx5T0FBeU8sRUFBRSx5RUFBeUUsZ1pBQWdaLFlBQVksR0FBRyx5Q0FBeUMsaUVBQWlFLHVHQUF1Ryw4RUFBOEUsMEJBQTBCLDhDQUE4QyxhQUFhLHNDQUFzQyxrQ0FBa0MsY0FBYyxzR0FBc0csaUNBQWlDLDRDQUE0QyxTQUFTLGlKQUFpSixpcUJBQWlxQixnTUFBZ00sOENBQThDLGFBQWEsa0NBQWtDLG1DQUFtQyxxQkFBcUIsZ0JBQWdCLHFCQUFxQixrRUFBa0UsNENBQTRDLFNBQVMsZ0dBQWdHLG1LQUFtSyw4Q0FBOEMsYUFBYSwrQ0FBK0MsK0ZBQStGLDRDQUE0QyxTQUFTLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLGVBQWUsS0FBSyx3QkFBd0IsbUxBQW1MLG9EQUFvRCwwSUFBMEksd0JBQXdCLHFCQUFxQixxUkFBcVIsZ0NBQWdDLHdDQUF3QyxrQkFBa0IscUJBQXFCLGtDQUFrQyx3QkFBd0IscUJBQXFCLEVBQUUsa0NBQWtDLGdGQUFnRixFQUFFLCtDQUErQyxpQ0FBaUMsZ0RBQWdELDBCQUEwQixFQUFFLHdDQUF3QyxPQUFPLHlCQUF5QiwwQkFBMEIsRUFBRSx1Q0FBdUMsT0FBTyx5QkFBeUIseUJBQXlCLEVBQUUsd0NBQXdDLE9BQU8seUJBQXlCLHlCQUF5QixFQUFFLDZCQUE2QixtQkFBbUIsRUFBRSwrQkFBK0IsMEJBQTBCLEVBQUUsOEJBQThCLG1CQUFtQixFQUFFLGdDQUFnQyxvQ0FBb0MsUUFBUSwrQkFBK0Isa0ZBQWtGLEtBQUsseUJBQXlCLG1EQUFtRCw4REFBOEQsd0RBQXdELDBCQUEwQixtSEFBbUgsbUdBQW1HLDBCQUEwQixFQUFFLDZFQUE2RSwrQkFBK0IsTUFBTSx1QkFBdUIsbUdBQW1HLHlCQUF5Qiw4RkFBOEYsZ0tBQWdLLEVBQUUsNkJBQTZCLGVBQWUsd0RBQXdELHFCQUFxQixHQUFHLEVBQUUsa0NBQWtDLDJCQUEyQixFQUFFLCtCQUErQix3QkFBd0IsYUFBYSwyQkFBMkIsMEJBQTBCLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSwrQ0FBK0MsK0ZBQStGLDRDQUE0QyxTQUFTLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLGVBQWUsS0FBSyx3QkFBd0IsbUxBQW1MLG9EQUFvRCwwSUFBMEksME9BQTBPLGtCQUFrQixvR0FBb0csaUNBQWlDLG1CQUFtQixlQUFlLFNBQVMsaUJBQWlCLE9BQU8sdUJBQXVCLFlBQVksV0FBVyxpQkFBaUIsZ0JBQWdCLDZJQUE2SSwyV0FBMlcsMkJBQTJCLGtEQUFrRCwyRUFBMkUsaUtBQWlLLEVBQUUscURBQXFELDJFQUEyRSwwRUFBMEUsRUFBRSw0Q0FBNEMsMkVBQTJFLDZEQUE2RCxFQUFFLGdEQUFnRCxzRUFBc0Usc0pBQXNKLEVBQUUsOERBQThELHVKQUF1Siw0REFBNEQsRUFBRSx1REFBdUQsb0xBQW9MLGdHQUFnRyxlQUFlLGdCQUFnQixrQkFBa0IsaUNBQWlDLDhFQUE4RSw0SEFBNEgseUdBQXlHLHdDQUF3QyxFQUFFLGlEQUFpRCxnSkFBZ0osNkJBQTZCLCtFQUErRSxFQUFFLDBDQUEwQywySEFBMkgsZ0RBQWdELHdDQUF3QyxzSUFBc0ksd0RBQXdELEVBQUUscURBQXFELGVBQWUscUtBQXFLLG9EQUFvRCw4QkFBOEIsd0dBQXdHLDRFQUE0RSw4TUFBOE0sa0hBQWtILG9EQUFvRCw4QkFBOEIsd0dBQXdHLDRFQUE0RSw4TUFBOE0scUZBQXFGLEVBQUUsOEJBQThCLG9GQUFvRix3RUFBd0UsR0FBRyxFQUFFLDBDQUEwQyxvUUFBb1EsRUFBRSxzQ0FBc0MsNkVBQTZFLCtGQUErRixFQUFFLDJDQUEyQyxvREFBb0QsdUJBQXVCLE1BQU0sMENBQTBDLGtCQUFrQixpRkFBaUYsNEJBQTRCLEVBQUUsNkNBQTZDLDRGQUE0RixrQkFBa0IsS0FBSyxvQ0FBb0MsWUFBWSxxQkFBcUIsNklBQTZJLHFHQUFxRyw0QkFBNEIsRUFBRSxxQ0FBcUMsc0tBQXNLLHVCQUF1QixNQUFNLDZHQUE2RyxVQUFVLHFDQUFxQyx5QkFBeUIsRUFBRSx5Q0FBeUMseUNBQXlDLHNCQUFzQixHQUFHLEVBQUUsc0NBQXNDLGtDQUFrQyw0QkFBNEIsRUFBRSw4QkFBOEIsMENBQTBDLEVBQUUsNkJBQTZCLGtDQUFrQyxFQUFFLDRCQUE0Qix3Q0FBd0MsRUFBRSw2QkFBNkIsc0JBQXNCLEVBQUUsZ0NBQWdDLDZCQUE2QixFQUFFLDJCQUEyQixvQkFBb0IsRUFBRSxnQ0FBZ0MseUJBQXlCLEVBQUUsNEJBQTRCLHFCQUFxQixFQUFFLHlCQUF5QixrQkFBa0IsRUFBRSxpQ0FBaUMsMEJBQTBCLEVBQUUsaUNBQWlDLDBCQUEwQixRQUFRLEdBQUcscUJBQXFCLDhDQUE4QyxhQUFhLCtDQUErQywrRkFBK0YsNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSx5REFBeUQsZ0NBQWdDLGFBQWEsMkJBQTJCLDhCQUE4QixrRUFBa0UsNEJBQTRCLDRCQUE0QixzREFBc0QsRUFBRSwwQkFBMEIsbUJBQW1CLEVBQUUsNEJBQTRCLHFCQUFxQixTQUFTLEdBQUcsc0JBQXNCLDhDQUE4QyxhQUFhLDRDQUE0QyxTQUFTLEVBQUUsc0RBQXNELGdDQUFnQyxhQUFhLGVBQWUsZ0JBQWdCLDhDQUE4QyxrU0FBa1MsY0FBYyxnQkFBZ0IsY0FBYyxLQUFLLDhEQUE4RCwwbUNBQTBtQyxzQ0FBc0MsMEhBQTBILHdDQUF3QywwQkFBMEIsNkpBQTZKLHNCQUFzQixxQkFBcUIsNENBQTRDLGlIQUFpSCx3TkFBd04sY0FBYyxnQkFBZ0IsY0FBYyxLQUFLLDRSQUE0UixvQ0FBb0Msb1FBQW9RLDRCQUE0QixzQ0FBc0MsMEhBQTBILDJCQUEyQixzRUFBc0UsY0FBYywyRUFBMkUsdzlFQUF3OUUsc0NBQXNDLDBIQUEwSCw0QkFBNEIsMkhBQTJILHdxRkFBd3FGLHNDQUFzQywwSEFBMEgsNkJBQTZCLGFBQWEsc0RBQXNELG9HQUFvRyxlQUFlLHNCQUFzQiw4Q0FBOEMsYUFBYSxnQkFBZ0IsOHdOQUE4d04sMEJBQTBCLDJGQUEyRixvREFBb0QsK0JBQStCLHlCQUF5Qiw4QkFBOEIsMkJBQTJCLGlDQUFpQywrQkFBK0IsdUJBQXVCLHFCQUFxQixnR0FBZ0csb0NBQW9DLHdCQUF3QixHQUFHLEVBQUUsOENBQThDLGFBQWEsK0NBQStDLCtGQUErRiw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLGlFQUFpRSxnQ0FBZ0MsYUFBYSxvQ0FBb0MsNEJBQTRCLGlGQUFpRixxSkFBcUosdUJBQXVCLEVBQUUsaUNBQWlDLCtCQUErQiwySkFBMkosRUFBRSxtQ0FBbUMsc0NBQXNDLEVBQUUsK0JBQStCLHlCQUF5QixFQUFFLHNDQUFzQywrQ0FBK0Msa0RBQWtELEVBQUUsbUNBQW1DLCtKQUErSixFQUFFLCtCQUErQiw4Q0FBOEMsRUFBRSxpQ0FBaUMseUJBQXlCLGdCQUFnQixvQkFBb0IsRUFBRSxpQ0FBaUMsMEJBQTBCLGNBQWMsR0FBRywyQkFBMkIsOENBQThDLGFBQWEsK0NBQStDLCtGQUErRiw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLHdSQUF3UixpQ0FBaUMsb0hBQW9ILDBCQUEwQiwyQkFBMkIsOElBQThJLEVBQUUscUNBQXFDLDBHQUEwRyxFQUFFLGlEQUFpRCxtQ0FBbUMsdUNBQXVDLGdFQUFnRSxzTkFBc04sRUFBRSw2Q0FBNkMsa0RBQWtELEVBQUUsK0NBQStDLCtCQUErQiwwQ0FBMEMsNERBQTRELHNQQUFzUCxFQUFFLHVEQUF1RCwrQ0FBK0MsRUFBRSxzREFBc0QsK0JBQStCLDJDQUEyQywyR0FBMkcsMEJBQTBCLG9EQUFvRCxxREFBcUQsRUFBRSwyREFBMkQsNENBQTRDLEVBQUUsb0RBQW9ELCtFQUErRSxzTEFBc0wsOERBQThELFVBQVUsK0JBQStCLE9BQU8sS0FBSyx3QkFBd0IsaUJBQWlCLDhFQUE4RSx5REFBeUQsd0JBQXdCLHVDQUF1Qyx5REFBeUQsd0JBQXdCLGlDQUFpQyw4Q0FBOEMsb0NBQW9DLE9BQU8sR0FBRyxvQkFBb0IsOENBQThDLGFBQWEsK0NBQStDLCtGQUErRiw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLHNEQUFzRCxrQkFBa0Isb05BQW9OLDZCQUE2QiwwQ0FBMEMsdUVBQXVFLHNMQUFzTCxFQUFFLGlEQUFpRCwyS0FBMkssRUFBRSwwQ0FBMEMsOENBQThDLEVBQUUsb0NBQW9DLDBDQUEwQyxFQUFFLGtEQUFrRCwrQ0FBK0MsRUFBRSw0QkFBNEIscUJBQXFCLEVBQUUsZ0NBQWdDLHFCQUFxQixFQUFFLGdDQUFnQyx5QkFBeUIsRUFBRSxzQ0FBc0MseUJBQXlCLEVBQUUseUJBQXlCLGtCQUFrQixFQUFFLDRCQUE0QixxQkFBcUIsVUFBVSxHQUFHLHVCQUF1Qiw4Q0FBOEMsYUFBYSxxQ0FBcUMsZ0NBQWdDLGFBQWEsK0NBQStDLCtGQUErRiwrQ0FBK0MsK0ZBQStGLHNFQUFzRSx3Q0FBd0Msc0pBQXNKLG1FQUFtRSxhQUFhLDBEQUEwRCwrR0FBK0csNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSw4UkFBOFIseURBQXlELHdDQUF3Qyw4SEFBOEgsc0VBQXNFLDZFQUE2RSxrRUFBa0UseUpBQXlKLEVBQUUsa0RBQWtELHdIQUF3SCxFQUFFLHVEQUF1RCxvREFBb0QsaVpBQWlaLHFCQUFxQixtQkFBbUIsa0NBQWtDLDhDQUE4QyxhQUFhLCtDQUErQywrRkFBK0YsNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSwyQkFBMkIsd0JBQXdCLHFGQUFxRiw4R0FBOEcsMEJBQTBCLG9EQUFvRCw0QkFBNEIsd0RBQXdELG1DQUFtQyx3Q0FBd0Msa0dBQWtHLEVBQUUsaUNBQWlDLG9DQUFvQyxFQUFFLHFDQUFxQyxnQkFBZ0IsR0FBRyw2QkFBNkIsMEJBQTBCLDBHQUEwRyw4Q0FBOEMsNkJBQTZCLHFCQUFxQiw4Q0FBOEMsMENBQTBDLEdBQUcsRUFBRSwwQkFBMEIsNkZBQTZGLGtEQUFrRCw0QkFBNEIscUJBQXFCLHVEQUF1RCxHQUFHLEVBQUUsMEJBQTBCLG1HQUFtRywwQ0FBMEMsd0JBQXdCLHFCQUFxQiwwQ0FBMEMsR0FBRyxFQUFFLDhDQUE4QyxhQUFhLGtCQUFrQixtQ0FBbUMsaUlBQWlJLHlCQUF5Qix3SEFBd0gsa0JBQWtCLG1DQUFtQyx1SEFBdUgscUJBQXFCLHVIQUF1SCx5REFBeUQsbUNBQW1DLDhHQUE4RyxzREFBc0QsOEdBQThHLHVCQUF1Qiw0RkFBNEYsMEJBQTBCLFlBQVksK0JBQStCLHFFQUFxRSxpSEFBaUgsV0FBVyx1QkFBdUIsOEtBQThLLDhQQUE4UCx3QkFBd0IscUZBQXFGLDBOQUEwTix3QkFBd0IscUZBQXFGLDBFQUEwRSwyQkFBMkIsc0tBQXNLLGtTQUFrUyw0QkFBNEIsbUdBQW1HLGtKQUFrSiwyQkFBMkIscUhBQXFILDhKQUE4Six3QkFBd0Isa0JBQWtCLG1JQUFtSSxnQ0FBZ0Msa0dBQWtHLCtCQUErQixvQ0FBb0MsNkZBQTZGLDRCQUE0QixrR0FBa0csMEJBQTBCLDhHQUE4Ryx5QkFBeUIsNkhBQTZILHNJQUFzSSwrQkFBK0IsOGJBQThiLDZXQUE2VyxzQ0FBc0MsMkdBQTJHLGdCQUFnQix1R0FBdUcsaUJBQWlCLDJLQUEySyxzQkFBc0Isb0tBQW9LLDJCQUEyQixvS0FBb0ssaUNBQWlDLHlJQUF5SSw2Q0FBNkMsME5BQTBOLDBCQUEwQiwySEFBMkgscUJBQXFCLG9KQUFvSix1cEJBQXVwQiw0Q0FBNEMsU0FBUyx1MEJBQXUwQiwwREFBMEQsa0NBQWtDLGNBQWMsc0dBQXNHLGlDQUFpQyxVQUFVLDBDQUEwQyw4Q0FBOEMsYUFBYSxrQkFBa0Isb0NBQW9DLHNNQUFzTSxrQkFBa0Isb0NBQW9DLHVOQUF1TixxQkFBcUIsdU5BQXVOLHFGQUFxRixvQ0FBb0MsaU1BQWlNLGtGQUFrRixpTUFBaU0sdUJBQXVCLGlLQUFpSywwQkFBMEIsWUFBWSwyREFBMkQsaUpBQWlKLGlOQUFpTixXQUFXLHVCQUF1Qiw4YkFBOGIsc25CQUFzbkIsd0JBQXdCLDBKQUEwSix5ckNBQXlyQyx3QkFBd0IsMEpBQTBKLDhOQUE4TiwyQkFBMkIsMExBQTBMLHVxQkFBdXFCLDRCQUE0Qiw2SkFBNkoseWhCQUF5aEIsd0JBQXdCLHlCQUF5QiwrT0FBK08sZ0NBQWdDLCtUQUErVCwyd0JBQTJ3Qiw0QkFBNEIsOEdBQThHLHdSQUF3Uiw0QkFBNEIsOEdBQThHLHdSQUF3Uiw0QkFBNEIsNEdBQTRHLDBSQUEwUixnQ0FBZ0MsMEtBQTBLLDRCQUE0QiwwS0FBMEssb0NBQW9DLHdGQUF3RixvVUFBb1UsZ0NBQWdDLG9DQUFvQyxrS0FBa0ssZ0NBQWdDLG9DQUFvQyxrS0FBa0ssZ0NBQWdDLG9DQUFvQyxrS0FBa0ssMENBQTBDLDZIQUE2SCwwTkFBME4sMEJBQTBCLGdKQUFnSixzV0FBc1csaUNBQWlDLHdEQUF3RCw2QkFBNkIsd0dBQXdHLHlJQUF5SSw4QkFBOEIsb0NBQW9DLG9qQkFBb2pCLGlEQUFpRCxxSkFBcUosdVFBQXVRLHlEQUF5RCwwVUFBMFUsOFJBQThSLHlCQUF5Qiw2SEFBNkgsMk1BQTJNLHFEQUFxRCx3REFBd0Qsc09BQXNPLCtDQUErQyxtQ0FBbUMscVFBQXFRLHNEQUFzRCwrT0FBK08sK1BBQStQLG1EQUFtRCx3REFBd0Qsb05BQW9OLG1DQUFtQyxpT0FBaU8sOHZCQUE4dkIscUNBQXFDLGtKQUFrSixzREFBc0QsdURBQXVELDBSQUEwUixnQkFBZ0IsbUxBQW1MLGlCQUFpQix3U0FBd1Msc0JBQXNCLDZTQUE2UywyQkFBMkIsNlNBQTZTLGlDQUFpQyx1UEFBdVAsNkNBQTZDLDZZQUE2WSwwQkFBMEIsa09BQWtPLHFCQUFxQiw0UkFBNFIsOHFDQUE4cUMsNENBQTRDLFNBQVMsbTRDQUFtNEMsMERBQTBELGtDQUFrQyxjQUFjLHNHQUFzRyxpQ0FBaUMsVUFBVSwwQ0FBMEMsOENBQThDLGFBQWEsc0NBQXNDLGtDQUFrQyxjQUFjLHNHQUFzRyxpQ0FBaUMsa0JBQWtCLG1DQUFtQyxvRkFBb0YsdUJBQXVCLCtDQUErQyxvQ0FBb0MsUUFBUSxvQkFBb0IsbUZBQW1GLGtDQUFrQyw0Q0FBNEMscUlBQXFJLDJCQUEyQixvRUFBb0UsdUlBQXVJLDRCQUE0QixRQUFRLHNFQUFzRSx1RkFBdUYsNEJBQTRCLFFBQVEsc0VBQXNFLHVGQUF1Riw0QkFBNEIsUUFBUSxzRUFBc0UsdUZBQXVGLDJCQUEyQix5QkFBeUIsZ0ZBQWdGLDBCQUEwQix1SUFBdUkseVdBQXlXLHFCQUFxQixxSEFBcUgsMktBQTJLLHVCQUF1QixtRkFBbUYsa0ZBQWtGLDBCQUEwQiw4REFBOEQseUJBQXlCLHVDQUF1QyxnSkFBZ0osS0FBSyxRQUFRLHNDQUFzQyx3QkFBd0IsZ0xBQWdMLFdBQVcsOEJBQThCLDZCQUE2Qix1Q0FBdUMsOEZBQThGLCtHQUErRyxnQkFBZ0IscURBQXFELDRDQUE0QyxTQUFTLCtyQkFBK3JCLGdxQkFBZ3FCLDhGQUE4Riw0RkFBNEYseUJBQXlCLHNCQUFzQiwyVkFBMlYsNkJBQTZCLGtDQUFrQywrQkFBK0IsbUZBQW1GLDhCQUE4Qix1QkFBdUIsbUNBQW1DLDBMQUEwTCxHQUFHLDhDQUE4QyxhQUFhLGtCQUFrQixtQ0FBbUMsMkVBQTJFLGtCQUFrQixtQ0FBbUMsK0NBQStDLG1CQUFtQix5QkFBeUIsOEJBQThCLDJCQUEyQixtQ0FBbUMsc0NBQXNDLHFCQUFxQiwrQ0FBK0Msd0JBQXdCLHNDQUFzQyxzQkFBc0IsOERBQThELDJCQUEyQiw4REFBOEQsMkJBQTJCLDhEQUE4RCx5QkFBeUIsOERBQThELHFCQUFxQixnRkFBZ0Ysc0JBQXNCLG1GQUFtRixzQkFBc0IsNEZBQTRGLHNCQUFzQiw0RkFBNEYsc0JBQXNCLG1GQUFtRix3QkFBd0IscURBQXFELG9DQUFvQyxnRkFBZ0YsdUJBQXVCLHdDQUF3Qyw4QkFBOEIsOEJBQThCLHdDQUF3QyxtQkFBbUIsMEJBQTBCLHlCQUF5QixtQkFBbUIsdUJBQXVCLGtEQUFrRCx3QkFBd0IscURBQXFELDBCQUEwQix5Q0FBeUMseUZBQXlGLGtCQUFrQixxQ0FBcUMsd0JBQXdCLG9EQUFvRCxvRUFBb0UseUJBQXlCLDRCQUE0Qiw2RUFBNkUsZ0NBQWdDLHlJQUF5SSw0TEFBNEwsK0JBQStCLG1PQUFtTyw0TEFBNEwsMkJBQTJCLGVBQWUsd0ZBQXdGLDhFQUE4RSxnQ0FBZ0MsdURBQXVELHFJQUFxSSxnQ0FBZ0MseUJBQXlCLCtGQUErRixnQ0FBZ0Msb0tBQW9LLGlIQUFpSCw0QkFBNEIsY0FBYyxtTUFBbU0sNEJBQTRCLGNBQWMsbU1BQW1NLDRCQUE0QixjQUFjLG1NQUFtTSxvQkFBb0Isc0VBQXNFLDhDQUE4Qyw0QkFBNEIsc0RBQXNELGdCQUFnQiwyQ0FBMkMsMEJBQTBCLDZDQUE2QyxxQkFBcUIsb0RBQW9ELGlPQUFpTyw0Q0FBNEMsU0FBUyxxaENBQXFoQywwREFBMEQsa0NBQWtDLGNBQWMsc0dBQXNHLGlDQUFpQyxVQUFVLDhMQUE4TCxpQkFBaUIsOENBQThDLHNCQUFzQiwyR0FBMkcsSUFBSSwwR0FBMEcsVUFBVSxHQUFHLDhDQUE4QyxhQUFhLGtCQUFrQixtQ0FBbUMsb0ZBQW9GLGtCQUFrQixtQ0FBbUMsMkRBQTJELDZCQUE2QixtQ0FBbUMsK0NBQStDLHFCQUFxQiwyREFBMkQsMEJBQTBCLCtDQUErQyxzQkFBc0IsK0VBQStFLDJCQUEyQiwrRUFBK0UsMkJBQTJCLCtFQUErRSx5QkFBeUIsK0VBQStFLHFCQUFxQix1R0FBdUcsc0JBQXNCLDJHQUEyRyxzQkFBc0IsdUhBQXVILHNCQUFzQix1SEFBdUgsc0JBQXNCLDJHQUEyRyx3QkFBd0IsbUVBQW1FLG9DQUFvQyx1R0FBdUcsdUJBQXVCLG9EQUFvRCxrQ0FBa0MsOEJBQThCLG9EQUFvRCx1QkFBdUIsbUJBQW1CLGdDQUFnQyxrQ0FBa0MsMEJBQTBCLGdDQUFnQyx1QkFBdUIsdUJBQXVCLCtEQUErRCx3QkFBd0IsbUVBQW1FLDBCQUEwQixvREFBb0QsNkZBQTZGLGtCQUFrQiwrQ0FBK0MseUJBQXlCLG9DQUFvQyxtR0FBbUcsMkJBQTJCLGVBQWUsc0JBQXNCLEdBQUcsaUVBQWlFLGFBQWEsR0FBRyxpRUFBaUUsYUFBYSwyQkFBMkIsK0VBQStFLGdDQUFnQyxnQ0FBZ0MsNkpBQTZKLGdDQUFnQyxrSUFBa0ksNkhBQTZILGdCQUFnQixxREFBcUQsMEJBQTBCLDBEQUEwRCxxQkFBcUIsb0VBQW9FLDBTQUEwUyw0Q0FBNEMsU0FBUyxtMUJBQW0xQiwwREFBMEQsa0NBQWtDLGNBQWMsc0dBQXNHLGlDQUFpQyxVQUFVLDhMQUE4TCxpQkFBaUIsOENBQThDLHNCQUFzQiwyR0FBMkcsSUFBSSxzSUFBc0ksVUFBVSxHQUFHLDhDQUE4QyxhQUFhLGdCQUFnQixrdk1BQWt2TSw4Q0FBOEMsYUFBYSw0Q0FBNEMsU0FBUyxrREFBa0QsOEVBQThFLGlLQUFpSyw4Q0FBOEMsYUFBYSxxQ0FBcUMsZ0NBQWdDLGFBQWEsK0NBQStDLCtGQUErRix5QkFBeUIsdUJBQXVCLGlDQUFpQyw4REFBOEQsb0RBQW9ELDRDQUE0QyxTQUFTLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLGVBQWUsS0FBSyx3QkFBd0IsbUxBQW1MLG9EQUFvRCwwSUFBMEkscUxBQXFMLDRCQUE0Qiw0SUFBNEksMEZBQTBGLEtBQUssOFVBQThVLHEwQkFBcTBCLHdFQUF3RSxRQUFRLDREQUE0RCxtRUFBbUUsZ0dBQWdHLGdDQUFnQyxzQ0FBc0MsOElBQThJLEVBQUUsNENBQTRDLGliQUFpYixFQUFFLGlDQUFpQyw0SkFBNEosRUFBRSwwQ0FBMEMsdUxBQXVMLEVBQUUscUNBQXFDLG1NQUFtTSw0S0FBNEssZ0JBQWdCLHdCQUF3QixFQUFFLHFDQUFxQyx1REFBdUQsNEtBQTRLLGdCQUFnQix3QkFBd0IsRUFBRSxpQ0FBaUMsMEZBQTBGLGdLQUFnSyxnQkFBZ0Isb0JBQW9CLEVBQUUsaUNBQWlDLDBGQUEwRixnS0FBZ0ssZ0JBQWdCLG9CQUFvQixFQUFFLDRDQUE0Qyw4TkFBOE4sZ0JBQWdCLCtCQUErQixFQUFFLDZCQUE2QixzQkFBc0IsYUFBYSxpRUFBaUUsa0NBQWtDLDJCQUEyQiw0Q0FBNEMsNkJBQTZCLGdDQUFnQywrRUFBK0UscUJBQXFCLGtDQUFrQywwQkFBMEIsNENBQTRDLDZCQUE2QixnQ0FBZ0MsNEZBQTRGLG9CQUFvQixtQ0FBbUMsMkJBQTJCLDRDQUE0Qyw2QkFBNkIsZ0NBQWdDLDZGQUE2RixxQkFBcUIsMkJBQTJCLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSwrQ0FBK0MsK0ZBQStGLHlCQUF5Qix1QkFBdUIsZ0NBQWdDLHdDQUF3QywrVkFBK1YsNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSx3WUFBd1ksNEJBQTRCLG9FQUFvRSw2SUFBNkksMmZBQTJmLHFCQUFxQix5QkFBeUIsZ0NBQWdDLDZCQUE2Qiw2RUFBNkUsRUFBRSxzQ0FBc0MsNnlCQUE2eUIsRUFBRSxpQ0FBaUMsZ1BBQWdQLEVBQUUsNENBQTRDLGdFQUFnRSxFQUFFLHNDQUFzQyx5SUFBeUksRUFBRSxzQ0FBc0MsNk1BQTZNLGlHQUFpRyxrREFBa0QsRUFBRSwyREFBMkQsd1NBQXdTLEVBQUUsb0NBQW9DLG9SQUFvUixFQUFFLHFDQUFxQyw2SEFBNkgsRUFBRSxvQ0FBb0MsME5BQTBOLEVBQUUsc0NBQXNDLDZIQUE2SCxFQUFFLDRDQUE0QywyRkFBMkYsRUFBRSwrQkFBK0IsOEJBQThCLHNCQUFzQixvU0FBb1MsRUFBRSwrQkFBK0IsOEJBQThCLHNCQUFzQiwwUEFBMFAsRUFBRSwyQkFBMkIsMEJBQTBCLHNCQUFzQixxTUFBcU0sRUFBRSwyQkFBMkIsMEJBQTBCLHNCQUFzQixxTUFBcU0sRUFBRSwrQkFBK0Isd0JBQXdCLEVBQUUsMkJBQTJCLG9CQUFvQixFQUFFLDRCQUE0QixxQkFBcUIsRUFBRSw2QkFBNkIsc0JBQXNCLEVBQUUsb0NBQW9DLDZCQUE2QixhQUFhLGlFQUFpRSxrQ0FBa0MsMkJBQTJCLDRDQUE0Qyw2QkFBNkIsZ0NBQWdDLCtFQUErRSxxQkFBcUIsa0NBQWtDLDBCQUEwQiw0Q0FBNEMsNkJBQTZCLGdDQUFnQyw0RkFBNEYsb0JBQW9CLG1DQUFtQywyQkFBMkIsNENBQTRDLDZCQUE2QixnQ0FBZ0MsdUZBQXVGLHFCQUFxQiwyQkFBMkIsOENBQThDLGFBQWEscUNBQXFDLGdDQUFnQyxhQUFhLCtDQUErQywrRkFBK0YsNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSw2TEFBNkwsZ0NBQWdDLHlFQUF5RSx1RUFBdUUsOEdBQThHLGdDQUFnQywyYUFBMmEsNE5BQTROLDhFQUE4RSxJQUFJLGdCQUFnQixZQUFZLDBqQkFBMGpCLEtBQUssc0JBQXNCLEtBQUssa2tCQUFra0IsdUNBQXVDLHlDQUF5QyxvQ0FBb0MsNEJBQTRCLG1FQUFtRSwwTUFBME0sRUFBRSw4QkFBOEIsMENBQTBDLGlCQUFpQixHQUFHLDhDQUE4Qyw4SEFBOEgsa0RBQWtELDhDQUE4QyxPQUFPLHFIQUFxSCxFQUFFLGtDQUFrQywrQkFBK0IsOENBQThDLGFBQWEscUNBQXFDLGdDQUFnQyxhQUFhLCtDQUErQywrRkFBK0YsNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSw0VkFBNFYsdUdBQXVHLHdCQUF3QixxQ0FBcUMseUVBQXlFLHNFQUFzRSwyWEFBMlgsa0NBQWtDLDZCQUE2Qiw2SUFBNkksdUJBQXVCLG1CQUFtQix5SkFBeUoscUlBQXFJLEtBQUssYUFBYSxvQkFBb0IsZ0hBQWdILDBCQUEwQiw2QkFBNkIscUJBQXFCLHVFQUF1RSw0Q0FBNEMsMkhBQTJILHdEQUF3RCxzUkFBc1IsRUFBRSxnREFBZ0QsNkZBQTZGLDBKQUEwSixFQUFFLHFDQUFxQyxrQkFBa0IsWUFBWSxtQkFBbUIsS0FBSyw4QkFBOEIseUJBQXlCLCtOQUErTixrQ0FBa0MsR0FBRyxFQUFFLHdFQUF3RSx5RUFBeUUsNEJBQTRCLG1CQUFtQix5UEFBeVAsc0RBQXNELHdFQUF3RSxFQUFFLDRCQUE0Qix5S0FBeUssRUFBRSw4QkFBOEIsNk5BQTZOLHlCQUF5QixHQUFHLEVBQUUsNkJBQTZCLGdQQUFnUCwyREFBMkQsRUFBRSxrQ0FBa0Msb0VBQW9FLCtCQUErQixFQUFFLHVDQUF1Qyw0QkFBNEIsRUFBRSxzQ0FBc0Msb0NBQW9DLEVBQUUsNkJBQTZCLDBCQUEwQixFQUFFLGtDQUFrQyw0QkFBNEIsRUFBRSwrQkFBK0IsbUNBQW1DLHNCQUFzQix5Q0FBeUMseUJBQXlCLEdBQUcsRUFBRSwrQkFBK0IsbUNBQW1DLHNCQUFzQix5Q0FBeUMseUJBQXlCLEdBQUcsRUFBRSwyQkFBMkIsK0JBQStCLHNCQUFzQix5Q0FBeUMscUJBQXFCLEdBQUcsRUFBRSwyQkFBMkIsK0JBQStCLHNCQUFzQix5Q0FBeUMscUJBQXFCLEdBQUcsRUFBRSxnQ0FBZ0MseUJBQXlCLGVBQWUsR0FBRyw0QkFBNEIsOENBQThDLGFBQWEsK0NBQStDLCtGQUErRiw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLDJCQUEyQixJQUFJLG9DQUFvQyxLQUFLLFNBQVMsd0JBQXdCLCtCQUErQiwyQkFBMkIsOERBQThELHNDQUFzQyw0REFBNEQsMkZBQTJGLGlJQUFpSSxFQUFFLDhDQUE4QyxvREFBb0QsRUFBRSwrREFBK0Qsb0ZBQW9GLEVBQUUsa0RBQWtELHFDQUFxQyxtREFBbUQscUJBQXFCLHFGQUFxRixhQUFhLEVBQUUsK0NBQStDLHVEQUF1RCxFQUFFLDJDQUEyQyxvRkFBb0YsRUFBRSwwQkFBMEIsSUFBSSxxRUFBcUUsZ0JBQWdCLGNBQWMscURBQXFELG9DQUFvQywwREFBMEQsdUtBQXVLLHFCQUFxQixLQUFLLG9DQUFvQyxrQ0FBa0MsYUFBYSxFQUFFLDZEQUE2RCxvQkFBb0IsaUtBQWlLLCtDQUErQywrQkFBK0IsRUFBRSxpREFBaUQscURBQXFELEVBQUUsZ0NBQWdDLGdDQUFnQywrRkFBK0YsaUdBQWlHLHFCQUFxQix5QkFBeUIsd0NBQXdDLDRCQUE0QixFQUFFLHdDQUF3Qyx5RkFBeUYscUJBQXFCLDhCQUE4QixxQkFBcUIsbUJBQW1CLEdBQUcsZ0NBQWdDLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSwrQ0FBK0MsK0ZBQStGLDRDQUE0QyxTQUFTLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLGVBQWUsS0FBSyx3QkFBd0IsbUxBQW1MLG9EQUFvRCwwSUFBMEksK09BQStPLGtCQUFrQiwwSEFBMEgsMkJBQTJCLGlDQUFpQyxnS0FBZ0ssNkdBQTZHLGtCQUFrQixnZUFBZ2UseUJBQXlCLDRCQUE0Qix3QkFBd0IsNEJBQTRCLHdCQUF3Qix5QkFBeUIscUJBQXFCLHNEQUFzRCxxQkFBcUIsRUFBRSxxQ0FBcUMsK0JBQStCLHlnQkFBeWdCLEVBQUUsa0NBQWtDLCtnQkFBK2dCLEVBQUUsNEJBQTRCLHNFQUFzRSwwRUFBMEUsRUFBRSxnQ0FBZ0Msc0VBQXNFLHlCQUF5QixFQUFFLG9DQUFvQyxzRUFBc0UsNkJBQTZCLEVBQUUsc0NBQXNDLHdFQUF3RSx5QkFBeUIsRUFBRSxxQ0FBcUMsNktBQTZLLEVBQUUscUNBQXFDLG9IQUFvSCw0Q0FBNEMsa0ZBQWtGLDRDQUE0QyxvRkFBb0YsRUFBRSw2QkFBNkIsOENBQThDLEVBQUUsc0NBQXNDLHNCQUFzQixnREFBZ0QsaUVBQWlFLEVBQUUsNkJBQTZCLDJEQUEyRCxFQUFFLHVDQUF1Qyw0REFBNEQsa0RBQWtELHFMQUFxTCxFQUFFLHFDQUFxQyx5REFBeUQsRUFBRSx3QkFBd0IsaUJBQWlCLEVBQUUsd0JBQXdCLGlCQUFpQixrQkFBa0IsR0FBRywrQkFBK0IsOENBQThDLGFBQWEsK0NBQStDLCtGQUErRiwrQ0FBK0MsK0ZBQStGLHNFQUFzRSx3Q0FBd0Msc0pBQXNKLG1FQUFtRSxhQUFhLDBEQUEwRCwrR0FBK0csNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSwyREFBMkQsZ0NBQWdDLGFBQWEsMEVBQTBFLHVCQUF1QixrQ0FBa0Msb05BQW9OLGdFQUFnRSxpRUFBaUUsd0RBQXdELGtJQUFrSSw0Q0FBNEMsRUFBRSxrREFBa0Qsa0lBQWtJLDZIQUE2SCxlQUFlLG1CQUFtQiw0QkFBNEIsOENBQThDLGFBQWEsK0NBQStDLCtGQUErRiw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLGtHQUFrRyxnQ0FBZ0MsYUFBYSxrQ0FBa0Msb0JBQW9CLHlrQkFBeWtCLCtCQUErQixzQ0FBc0MsNkJBQTZCLEVBQUUseUNBQXlDLHlDQUF5Qyx3REFBd0QsZ0NBQWdDLEVBQUUsK0JBQStCLHlwQ0FBeXBDLEVBQUUsaURBQWlELGVBQWUsb0pBQW9KLGtDQUFrQyxHQUFHLEVBQUUsc0RBQXNELGdCQUFnQiwrRkFBK0Ysd0JBQXdCLEdBQUcsRUFBRSw0QkFBNEIsc0RBQXNELEVBQUUsdUJBQXVCLGVBQWUsc0JBQXNCLGdCQUFnQix3RUFBd0Usd0JBQXdCLEdBQUcsRUFBRSx1QkFBdUIsZUFBZSxzQkFBc0IsZ0JBQWdCLHdFQUF3RSx3QkFBd0IsR0FBRyxFQUFFLHVCQUF1QixlQUFlLHNCQUFzQixnQkFBZ0Isd0VBQXdFLHdCQUF3QixHQUFHLEVBQUUsNEJBQTRCLGdCQUFnQixzQkFBc0IsZ0JBQWdCLHlFQUF5RSx3QkFBd0IsR0FBRyxFQUFFLDRCQUE0QixnQkFBZ0Isc0JBQXNCLGdCQUFnQix5RUFBeUUsd0JBQXdCLEdBQUcsRUFBRSw0QkFBNEIsZ0JBQWdCLHNCQUFzQixnQkFBZ0IseUVBQXlFLHdCQUF3QixHQUFHLEVBQUUsK0JBQStCLGdCQUFnQixzQkFBc0IsZ0JBQWdCLHlFQUF5RSx3QkFBd0IsR0FBRyxFQUFFLCtCQUErQixnQkFBZ0Isc0JBQXNCLGlCQUFpQix5RUFBeUUseUJBQXlCLEdBQUcsRUFBRSwrQkFBK0IsZ0JBQWdCLHNCQUFzQixpQkFBaUIseUVBQXlFLHlCQUF5QixHQUFHLEVBQUUsOEJBQThCLHVCQUF1QixZQUFZLEdBQUcseUJBQXlCLDBCQUEwQix5R0FBeUcsb0RBQW9ELCtCQUErQix5QkFBeUIsOEJBQThCLDJCQUEyQixpQ0FBaUMsNkJBQTZCLDBCQUEwQixxQkFBcUIsK0JBQStCLHVCQUF1QixxQkFBcUIsNENBQTRDLDhCQUE4QixvRkFBb0Ysc0NBQXNDLHVEQUF1RCxHQUFHLEVBQUUsMEJBQTBCLDRGQUE0RixvREFBb0QsK0JBQStCLHlCQUF5Qiw4QkFBOEIsMkJBQTJCLGlDQUFpQywrQkFBK0IsdUJBQXVCLHVCQUF1QixxQkFBcUIsK0JBQStCLHdCQUF3Qix3QkFBd0Isd0JBQXdCLDhGQUE4RixrQ0FBa0Msa0NBQWtDLHNCQUFzQixHQUFHLEVBQUUsMEJBQTBCLGdHQUFnRyxpREFBaUQsNkJBQTZCLHVCQUF1QixxQkFBcUIsbURBQW1ELEdBQUcsRUFBRSw4Q0FBOEMsYUFBYSwrQ0FBK0MsK0ZBQStGLDRDQUE0QyxTQUFTLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLGVBQWUsS0FBSyx3QkFBd0IsbUxBQW1MLG9EQUFvRCwwSUFBMEksb0VBQW9FLGdDQUFnQyxhQUFhLG1DQUFtQyxxQ0FBcUMsb0VBQW9FLHNFQUFzRSw2Q0FBNkMsWUFBWSxPQUFPLEtBQUssbUVBQW1FLHNCQUFzQiwrQkFBK0IsNEJBQTRCLHlCQUF5QixvQkFBb0IsRUFBRSwwQkFBMEIsd0NBQXdDLEVBQUUsMkJBQTJCLHNCQUFzQixFQUFFLHlCQUF5QixtQkFBbUIsWUFBWSxHQUFHLHlCQUF5Qiw4Q0FBOEMsYUFBYSxxQ0FBcUMsZ0NBQWdDLGFBQWEsK0NBQStDLCtGQUErRiw0Q0FBNEMsU0FBUywrMkJBQSsyQiw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSxzREFBc0Qsa0NBQWtDLGNBQWMsc0dBQXNHLGlDQUFpQyxtNkhBQW02SCxrQkFBa0IsK3REQUErdEQsNENBQTRDLDZCQUE2QiwyQkFBMkIseUdBQXlHLDRHQUE0RyxvRUFBb0UsVUFBVSxpQkFBaUIsNnpEQUE2ekQsOENBQThDLGFBQWEsa0JBQWtCLG1DQUFtQyxvRkFBb0Ysa0JBQWtCLG1DQUFtQywyREFBMkQscUJBQXFCLDJEQUEyRCx1QkFBdUIsK0NBQStDLHFDQUFxQyxtQ0FBbUMsdURBQXVELGtDQUFrQyx1REFBdUQsMEJBQTBCLFlBQVksWUFBWSxzQkFBc0IscURBQXFELFdBQVcsdUJBQXVCLG9EQUFvRCwwRkFBMEYsd0JBQXdCLFlBQVksMkRBQTJELHdCQUF3QiwyQkFBMkIsMkJBQTJCLG9FQUFvRSx1RkFBdUYsMkJBQTJCLG9FQUFvRSxpRkFBaUYsd0JBQXdCLG9EQUFvRCwrREFBK0QsK0JBQStCLG9DQUFvQyxnREFBZ0QsNEJBQTRCLHFEQUFxRCxnQkFBZ0IscURBQXFELGlCQUFpQixzRkFBc0Ysc0JBQXNCLHNFQUFzRSxzQkFBc0IsK0VBQStFLDJCQUEyQiwrRUFBK0UsMEJBQTBCLDBEQUEwRCxxQkFBcUIsb0VBQW9FLDBTQUEwUyxpQ0FBaUMsbUVBQW1FLDZDQUE2Qyx1R0FBdUcsNENBQTRDLFNBQVMsK25CQUErbkIsMERBQTBELGtDQUFrQyxjQUFjLHNHQUFzRyxpQ0FBaUMsVUFBVSwwQ0FBMEMsOENBQThDLGFBQWEsa0JBQWtCLG1DQUFtQyxzR0FBc0csa0JBQWtCLG1DQUFtQyxtRkFBbUYscUJBQXFCLG1GQUFtRix1QkFBdUIsaUVBQWlFLG1DQUFtQyxtQ0FBbUMsbUVBQW1FLGdDQUFnQyxtRUFBbUUsdUJBQXVCLHNFQUFzRSxnSkFBZ0osd0JBQXdCLDJCQUEyQiwyQkFBMkIsb0dBQW9HLG1JQUFtSSwyQkFBMkIsb0ZBQW9GLHFHQUFxRyx3QkFBd0Isb0VBQW9FLG1GQUFtRiw0QkFBNEIsb0VBQW9FLCtGQUErRiwrQkFBK0Isb0NBQW9DLGtFQUFrRSw0QkFBNEIsdUVBQXVFLGdDQUFnQyx1RUFBdUUsZ0JBQWdCLDBFQUEwRSxpQkFBaUIsMEhBQTBILHNCQUFzQixpSEFBaUgsMkJBQTJCLGlIQUFpSCxpQ0FBaUMsK0ZBQStGLDZDQUE2QyxxSkFBcUosMEJBQTBCLG9GQUFvRixxQkFBcUIsb0dBQW9HLDRiQUE0Yiw0Q0FBNEMsU0FBUywrbkJBQStuQiwwREFBMEQsa0NBQWtDLGNBQWMsc0dBQXNHLGlDQUFpQyxVQUFVLDBDQUEwQyw4Q0FBOEMsYUFBYSxzQ0FBc0Msa0NBQWtDLGNBQWMsc0dBQXNHLGlDQUFpQyxrQkFBa0Isa0NBQWtDLCtHQUErRyxrQkFBa0Isa0NBQWtDLGtHQUFrRyw2Q0FBNkMsa0NBQWtDLGtGQUFrRiw2REFBNkQsa0NBQWtDLG9DQUFvQywrQkFBK0IsMkdBQTJHLDBDQUEwQyxxRUFBcUUsd0pBQXdKLGdDQUFnQyxxR0FBcUcsNkJBQTZCLCtGQUErRix5QkFBeUIsd0JBQXdCLDBCQUEwQixpQ0FBaUMseUVBQXlFLHFCQUFxQiwyR0FBMkcsdUJBQXVCLG1GQUFtRiwwQ0FBMEMsMkZBQTJGLHdCQUF3QiwyREFBMkQsd0JBQXdCLDJEQUEyRCwrQkFBK0IsdUVBQXVFLG9IQUFvSCw0QkFBNEIsZ0hBQWdILG9NQUFvTSw0QkFBNEIsdUxBQXVMLHVOQUF1Tiw0QkFBNEIsdUxBQXVMLHVOQUF1Tiw0QkFBNEIsdUxBQXVMLHVOQUF1TixxQ0FBcUMsb0VBQW9FLG1TQUFtUyxzQ0FBc0Msb0VBQW9FLG1TQUFtUywwQ0FBMEMscURBQXFELDBFQUEwRSxRQUFRLGlKQUFpSiw0SUFBNEksb0NBQW9DLHVJQUF1SSxzQkFBc0IsbUpBQW1KLDJCQUEyQixvSkFBb0osbWNBQW1jLHdCQUF3QiwySEFBMkgseUJBQXlCLFdBQVcsOE1BQThNLHVCQUF1QiwyQkFBMkIsaUtBQWlLLDBCQUEwQixpSEFBaUgsMEJBQTBCLCtCQUErQixnQkFBZ0IsK0JBQStCLDRJQUE0SSw0S0FBNEssV0FBVyxnQkFBZ0IsOEZBQThGLDBCQUEwQiw4R0FBOEcscUJBQXFCLG9JQUFvSSw4a0JBQThrQiw0Q0FBNEMsU0FBUywyZ0NBQTJnQyxpYUFBaWEsNkJBQTZCLDhDQUE4QyxhQUFhLGtCQUFrQixtQ0FBbUMsa0VBQWtFLGtCQUFrQixtQ0FBbUMsbUNBQW1DLHlCQUF5QixtQ0FBbUMsNkJBQTZCLHFCQUFxQixtQ0FBbUMsc0JBQXNCLDZCQUE2QixzQkFBc0IsNkNBQTZDLDJCQUEyQiw2Q0FBNkMsMkJBQTJCLDZDQUE2Qyx5QkFBeUIsNkNBQTZDLHFCQUFxQix5REFBeUQsc0JBQXNCLDJEQUEyRCxzQkFBc0IsaUVBQWlFLHNCQUFzQixpRUFBaUUsc0JBQXNCLDJEQUEyRCx3QkFBd0IsdUNBQXVDLG9DQUFvQyx5REFBeUQsdUJBQXVCLDRCQUE0QiwwQkFBMEIsOEJBQThCLDRCQUE0QixlQUFlLG1CQUFtQixrQkFBa0IsMEJBQTBCLDBCQUEwQixrQkFBa0IsZUFBZSx1QkFBdUIscUNBQXFDLHdCQUF3Qix1Q0FBdUMsMEJBQTBCLDhCQUE4Qix5RUFBeUUsa0JBQWtCLDJCQUEyQix3QkFBd0IsMEJBQTBCLG9DQUFvQyx5QkFBeUIsb0JBQW9CLHVEQUF1RCwyQkFBMkIsZUFBZSxrQ0FBa0MsNkRBQTZELGdDQUFnQyxrQkFBa0IscURBQXFELGlDQUFpQyxrQkFBa0IsK0RBQStELGdDQUFnQyxrQkFBa0IsK0RBQStELGdDQUFnQyxrQkFBa0IsaUVBQWlFLDJCQUEyQixnRUFBZ0UsbUVBQW1FLG9CQUFvQixxREFBcUQsaUNBQWlDLHFCQUFxQixpQ0FBaUMsbUNBQW1DLHNEQUFzRCxnQkFBZ0IsaUNBQWlDLDBCQUEwQixnQ0FBZ0MscUJBQXFCLG9DQUFvQyx3SkFBd0osNENBQTRDLFNBQVMsMjlCQUEyOUIsMERBQTBELGtDQUFrQyxjQUFjLHNHQUFzRyxpQ0FBaUMsVUFBVSw4TEFBOEwsaUJBQWlCLDhDQUE4QyxzQkFBc0IsMkdBQTJHLElBQUksOEVBQThFLFVBQVUsR0FBRyw4Q0FBOEMsYUFBYSx1Q0FBdUMsOEJBQThCLGlCQUFpQiw4REFBOEQsb0JBQW9CLGdDQUFnQywyQ0FBMkMsdURBQXVELFNBQVMsNENBQTRDLFNBQVMsdUNBQXVDLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSw0Q0FBNEMsU0FBUyxFQUFFLDZMQUE2TCxxSUFBcUksaUNBQWlDLDhDQUE4QyxhQUFhLHNCQUFzQiwwT0FBME8sNENBQTRDLFNBQVMsNkJBQTZCLGlEQUFpRCwwREFBMEQsZ0NBQWdDLGFBQWEsc0NBQXNDLDhDQUE4QyxhQUFhLDBCQUEwQixpRUFBaUUseUVBQXlFLDhKQUE4Siw0Q0FBNEMsU0FBUyw2QkFBNkIsMkRBQTJELDBEQUEwRCxnQ0FBZ0MsYUFBYSx5Q0FBeUMsOENBQThDLGFBQWEsNENBQTRDLFNBQVMsMlVBQTJVLDhDQUE4QyxhQUFhLGlDQUFpQyw4Q0FBOEMsc0RBQXNELG1CQUFtQix3Q0FBd0MsOENBQThDLDBCQUEwQiw0RkFBNEYsZ0RBQWdELHFCQUFxQiwrQkFBK0IscUJBQXFCLG1FQUFtRSxHQUFHLEVBQUUsOENBQThDLGFBQWEseUJBQXlCLHVCQUF1Qiw0Q0FBNEMsU0FBUyxFQUFFLDBEQUEwRCxnQ0FBZ0MsYUFBYSx3RUFBd0UsdUJBQXVCLHNDQUFzQyw0SUFBNEksc2JBQXNiLHFDQUFxQyw4Q0FBOEMsYUFBYSxtQ0FBbUMseURBQXlELHVGQUF1RixzR0FBc0csa0RBQWtELGVBQWUsNENBQTRDLE1BQU0sNkNBQTZDLE1BQU0sNkNBQTZDLE1BQU0sbUNBQW1DLE1BQU0sNEVBQTRFLHFCQUFxQixvQ0FBb0MsMENBQTBDLDhKQUE4SixpQkFBaUIsTUFBTSwyRUFBMkUsMENBQTBDLDBFQUEwRSxlQUFlLGlEQUFpRCx5SUFBeUksOERBQThELElBQUksS0FBSyw2RUFBNkUsZ0NBQWdDLDREQUE0RCxvQkFBb0IsNENBQTRDLHlEQUF5RCxnR0FBZ0csaUJBQWlCLGNBQWMsZ0ZBQWdGLHlEQUF5RCwrRUFBK0UsT0FBTyxvRkFBb0YsOEJBQThCLHdHQUF3Ryw4QkFBOEIsK0VBQStFLCtiQUErYiw0QkFBNEIsOENBQThDLGFBQWEscUNBQXFDLGdDQUFnQyxhQUFhLCtDQUErQywrRkFBK0YsNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSw4TUFBOE0sK0JBQStCLDBFQUEwRSx3UkFBd1Isc0NBQXNDLDZCQUE2QiwwRkFBMEYsa1ZBQWtWLGdOQUFnTixpQkFBaUIsaUlBQWlJLHNCQUFzQixhQUFhLGtCQUFrQixNQUFNLHVDQUF1Qyx1SUFBdUkscURBQXFELHFJQUFxSSw0SEFBNEgsRUFBRSx3Q0FBd0MsMkhBQTJILEVBQUUsOEJBQThCLHVIQUF1SCxFQUFFLGtDQUFrQyx1QkFBdUIsRUFBRSwyQkFBMkIsbUJBQW1CLEVBQUUsNEJBQTRCLG1CQUFtQixtQkFBbUIsR0FBRyxnQ0FBZ0MsOENBQThDLGFBQWEscUNBQXFDLGdDQUFnQyxhQUFhLCtDQUErQywrRkFBK0YseUJBQXlCLHVCQUF1Qiw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLHlNQUF5TSxnREFBZ0QsMEVBQTBFLG9uQkFBb25CLDZDQUE2Qyw2QkFBNkIsK0JBQStCLDJyQ0FBMnJDLEVBQUUsd0VBQXdFLHlFQUF5RSx3SUFBd0kseUxBQXlMLHlhQUF5YSxFQUFFLDRCQUE0Qix5S0FBeUssRUFBRSw4QkFBOEIsNElBQTRJLHdDQUF3QyxrVkFBa1YsRUFBRSxrQ0FBa0Msd0RBQXdELHVCQUF1QixFQUFFLHVDQUF1Qyw0QkFBNEIsMEJBQTBCLEdBQUcsdUNBQXVDLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSwrQ0FBK0MsK0ZBQStGLDRDQUE0QyxTQUFTLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLGVBQWUsS0FBSyx3QkFBd0IsbUxBQW1MLG9EQUFvRCwwSUFBMEksd1FBQXdRLG9FQUFvRSxzSUFBc0ksOENBQThDLDZCQUE2QixtS0FBbUssRUFBRSwwREFBMEQsdUNBQXVDLDhTQUE4UyxFQUFFLGdEQUFnRCwwRkFBMEYsRUFBRSxpREFBaUQsc0RBQXNELEVBQUUsZ0NBQWdDLHNFQUFzRSxFQUFFLDhCQUE4QiwyR0FBMkcsRUFBRSw2QkFBNkIsMEJBQTBCLHlEQUF5RCxFQUFFLCtCQUErQix3QkFBd0IsRUFBRSxpQ0FBaUMsMEJBQTBCLEVBQUUsZ0NBQWdDLHlCQUF5QixFQUFFLGdDQUFnQywwQkFBMEIsRUFBRSxxQ0FBcUMseUJBQXlCLDJCQUEyQixHQUFHLHdDQUF3Qyw4Q0FBOEMsYUFBYSwrQ0FBK0MsK0ZBQStGLDRDQUE0QyxTQUFTLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLGVBQWUsS0FBSyx3QkFBd0IsbUxBQW1MLG9EQUFvRCwwSUFBMEksaUVBQWlFLGdDQUFnQyxhQUFhLHNDQUFzQyw4QkFBOEIsd0pBQXdKLHNNQUFzTSx1QkFBdUIsRUFBRSxtQ0FBbUMsK0JBQStCLDhHQUE4Ryx3TUFBd00sRUFBRSxzQ0FBc0MsK0NBQStDLGtEQUFrRCxFQUFFLG1DQUFtQywrSkFBK0osRUFBRSwrQkFBK0IsOENBQThDLEVBQUUsaUNBQWlDLHlCQUF5QixnQkFBZ0Isb0JBQW9CLGdCQUFnQixHQUFHLDZCQUE2Qiw4Q0FBOEMsYUFBYSwrQ0FBK0MsK0ZBQStGLDBCQUEwQixnQkFBZ0IsK0NBQStDLHlDQUF5QywyQ0FBMkMsK0NBQStDLHFDQUFxQyx1Q0FBdUMsMkNBQTJDLHlDQUF5QywyQ0FBMkMsK0NBQStDLHlDQUF5QywyQ0FBMkMsK0NBQStDLCtDQUErQyxpREFBaUQscURBQXFELDJDQUEyQyw2Q0FBNkMsaURBQWlELHlDQUF5QywyQ0FBMkMsK0NBQStDLG1DQUFtQyxxQ0FBcUMseUNBQXlDLHVDQUF1Qyx5Q0FBeUMsOENBQThDLDRDQUE0QyxTQUFTLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLGVBQWUsS0FBSyx3QkFBd0IsbUxBQW1MLG9EQUFvRCwwSUFBMEksaUVBQWlFLGdDQUFnQyxhQUFhLHNCQUFzQixRQUFRLGlCQUFpQixVQUFVLFlBQVksZUFBZSxXQUFXLGlCQUFpQixlQUFlLG1CQUFtQix5Q0FBeUMsUUFBUSxlQUFlLGFBQWEsaUJBQWlCLGdCQUFnQixtQkFBbUIsMkNBQTJDLFVBQVUsZUFBZSxlQUFlLGlCQUFpQixvQkFBb0IsbUJBQW1CLGdEQUFnRCxVQUFVLGVBQWUsaUJBQWlCLGlCQUFpQixvQkFBb0IsbUJBQW1CLG1EQUFtRCxhQUFhLGVBQWUsK0JBQStCLGlCQUFpQiw2QkFBNkIsbUJBQW1CLGtDQUFrQyxjQUFjLGVBQWUsa0NBQWtDLGlCQUFpQixtQ0FBbUMsbUJBQW1CLG9GQUFvRixXQUFXLGVBQWUsMEJBQTBCLGlCQUFpQiwyQkFBMkIsbUJBQW1CLHNFQUFzRSxVQUFVLGVBQWUsa0JBQWtCLG9JQUFvSSxpQkFBaUIsa0JBQWtCLGlJQUFpSSxtQkFBbUIsa0JBQWtCLDhNQUE4TSxPQUFPLGVBQWUsY0FBYyx1QkFBdUIsaUJBQWlCLGNBQWMsMEJBQTBCLG1CQUFtQixnQkFBZ0IsK0RBQStELFNBQVMsZUFBZSxnQ0FBZ0MsaUJBQWlCLHlJQUF5SSxtQkFBbUIsc0VBQXNFLHdCQUF3Qiw2QkFBNkIseUpBQXlKLG9PQUFvTyx1QkFBdUIsRUFBRSxrQ0FBa0MsK0JBQStCLHdDQUF3Qyw0RkFBNEYsOENBQThDLEVBQUUsc0NBQXNDLCtDQUErQyxrREFBa0QsRUFBRSxtQ0FBbUMsNkRBQTZELEVBQUUsbUNBQW1DLCtKQUErSixFQUFFLCtCQUErQiw4Q0FBOEMsRUFBRSxpQ0FBaUMseUZBQXlGLGdCQUFnQixxQkFBcUIsOENBQThDLHdGQUF3RixvQkFBb0IsRUFBRSxpQ0FBaUMsMEJBQTBCLGVBQWUsR0FBRyw0QkFBNEIsOENBQThDLGFBQWEscUNBQXFDLGdDQUFnQyxhQUFhLCtDQUErQywrRkFBK0YsNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSwrT0FBK08sa0JBQWtCLDBIQUEwSCx5QkFBeUIsK0JBQStCLCtKQUErSixvUUFBb1EsUUFBUSxhQUFhLFFBQVEsOFVBQThVLHdCQUF3QixpRUFBaUUsd0JBQXdCLGdFQUFnRSx3QkFBd0IsZ0VBQWdFLHdCQUF3QixnREFBZ0QscUJBQXFCLCtDQUErQyxxQkFBcUIsd0NBQXdDLHFCQUFxQixFQUFFLG1DQUFtQyxzQ0FBc0Msd0VBQXdFLHlCQUF5QixFQUFFLDRCQUE0QixzRUFBc0UsdUJBQXVCLEVBQUUseUNBQXlDLG9FQUFvRSx1Q0FBdUMsc0RBQXNELG1QQUFtUCxFQUFFLGlDQUFpQyx5SUFBeUksRUFBRSxxQ0FBcUMsb0JBQW9CLDZFQUE2RSxxSEFBcUgsb0JBQW9CLDZPQUE2TyxFQUFFLHFDQUFxQyw2Q0FBNkMsRUFBRSw2QkFBNkIsd0NBQXdDLEVBQUUsb0RBQW9ELCtPQUErTyw4QkFBOEIsbWNBQW1jLEtBQUssaUdBQWlHLDRTQUE0UyxFQUFFLDZCQUE2Qiwyc0JBQTJzQixFQUFFLGtDQUFrQyxvREFBb0QsZ0JBQWdCLDJCQUEyQixnQkFBZ0IsR0FBRyw2QkFBNkIsOENBQThDLGFBQWEscUNBQXFDLGdDQUFnQyxhQUFhLCtDQUErQywrRkFBK0YsK0NBQStDLCtGQUErRixzRUFBc0Usd0NBQXdDLHNKQUFzSixtRUFBbUUsYUFBYSwwREFBMEQsK0dBQStHLHVCQUF1QiwwQkFBMEIsOEJBQThCLDRDQUE0QyxTQUFTLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLGVBQWUsS0FBSyx3QkFBd0IsbUxBQW1MLG9EQUFvRCwwSUFBMEkseVdBQXlXLHNDQUFzQyx5SkFBeUosb0NBQW9DLHNIQUFzSCw2SEFBNkgscUJBQXFCLHNSQUFzUix3QkFBd0IsK0JBQStCLHdCQUF3Qiw0QkFBNEIscUJBQXFCLHVCQUF1Qiw4RUFBOEUsK0JBQStCLHlNQUF5TSxFQUFFLGtDQUFrQyxrTkFBa04sRUFBRSxpQ0FBaUMseUdBQXlHLFdBQVcsa0dBQWtHLHdDQUF3QywwR0FBMEcsNkNBQTZDLEtBQUssMkJBQTJCLEtBQUssa0NBQWtDLDhFQUE4RSw0Q0FBNEMsYUFBYSwyQ0FBMkMsbURBQW1ELDJEQUEyRCwrREFBK0QsUUFBUSxzQ0FBc0MsRUFBRSxnQ0FBZ0MsMkdBQTJHLEVBQUUsZ0NBQWdDLDhFQUE4RSxFQUFFLDZCQUE2Qiw4RUFBOEUsaUJBQWlCLDRCQUE0Qiw4QkFBOEIsOENBQThDLGFBQWEsNENBQTRDLFNBQVMsOEJBQThCLHNCQUFzQix3RkFBd0YsVUFBVSw4Q0FBOEMsYUFBYSwrQ0FBK0MsK0ZBQStGLCtDQUErQywrRkFBK0Ysc0VBQXNFLHdDQUF3QyxzSkFBc0osbUVBQW1FLGFBQWEsMERBQTBELCtHQUErRyw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLGlGQUFpRixnQ0FBZ0MsYUFBYSx1dEJBQXV0QixzQkFBc0IsaUNBQWlDLGdIQUFnSCxzREFBc0QsMEVBQTBFLGtDQUFrQyw4QkFBOEIsNkJBQTZCLGNBQWMsOEJBQThCLDJCQUEyQiw4Q0FBOEMsYUFBYSxxQ0FBcUMsZ0NBQWdDLGFBQWEsK0NBQStDLCtGQUErRiwrQ0FBK0MsK0ZBQStGLHNFQUFzRSx3Q0FBd0Msc0pBQXNKLG1FQUFtRSxhQUFhLDBEQUEwRCwrR0FBK0csNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSwrQ0FBK0MsMkNBQTJDLDBEQUEwRCxrQkFBa0IseUNBQXlDLDBEQUEwRCxvQ0FBb0Msb0JBQW9CLGdEQUFnRCxrTUFBa00scUJBQXFCLHNKQUFzSixtRUFBbUUsd0NBQXdDLHNFQUFzRSw2SUFBNkksRUFBRSxpQ0FBaUMsbUNBQW1DLEVBQUUsc0NBQXNDLGlDQUFpQywwQkFBMEIsb0RBQW9ELGlDQUFpQywwQkFBMEIsbURBQW1ELDZCQUE2QiwwQkFBMEIsK0NBQStDLDBCQUEwQiw4UEFBOFAsc0JBQXNCLDZGQUE2RiwwQkFBMEIsOEtBQThLLGtEQUFrRCxtRkFBbUYsb2JBQW9iLHV2QkFBdXZCLGVBQWUsS0FBSyxrQkFBa0IsbTdCQUFtN0IsNkJBQTZCLHVFQUF1RSxHQUFHLEVBQUUsd0NBQXdDLHVFQUF1RSw2QkFBNkIsbUNBQW1DLDBJQUEwSSxtQkFBbUIsRUFBRSx1SkFBdUosaUJBQWlCLHFOQUFxTixpTkFBaU4sMkRBQTJELHNPQUFzTyxhQUFhLHlCQUF5QixpQ0FBaUMsdUNBQXVDLDJCQUEyQiw4Q0FBOEMsYUFBYSxxQ0FBcUMsZ0NBQWdDLGFBQWEsK0NBQStDLCtGQUErRiwrQ0FBK0MsK0ZBQStGLHNFQUFzRSx3Q0FBd0Msc0pBQXNKLG1FQUFtRSxhQUFhLDBEQUEwRCwrR0FBK0csNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSxvTkFBb04scUJBQXFCLDhJQUE4SSxtRUFBbUUseUNBQXlDLDZDQUE2QyxFQUFFLGlDQUFpQyxxQ0FBcUMsbUNBQW1DLGFBQWEseUJBQXlCLHVDQUF1Qyw0Q0FBNEMsMkJBQTJCLDhDQUE4QyxhQUFhLG9GQUFvRixzQkFBc0IsZ0JBQWdCLEdBQUcsb0NBQW9DLHVEQUF1RCxpQkFBaUIsMENBQTBDLGdCQUFnQixHQUFHLDJDQUEyQyxtREFBbUQsaUJBQWlCLGdJQUFnSSxlQUFlLEVBQUUsMkZBQTJGLDZMQUE2TCwyRUFBMkUsaUhBQWlILDZDQUE2QyxzSkFBc0oseUVBQXlFLFlBQVksSUFBSSxtQ0FBbUMsV0FBVyxFQUFFLDBFQUEwRSxxQkFBcUIsdUZBQXVGLEtBQUssV0FBVyw4QkFBOEIsS0FBSyxpRkFBaUYsMkNBQTJDLCtGQUErRixhQUFhLGFBQWEsaUJBQWlCLHFNQUFxTSxnQkFBZ0IsMEJBQTBCLCtEQUErRCxtR0FBbUcsS0FBSyxLQUFLLG9CQUFvQixXQUFXLEdBQUcseUJBQXlCLGlCQUFpQixhQUFhLE1BQU0sNEJBQTRCLGlDQUFpQyxXQUFXLGdCQUFnQixzQ0FBc0MsK0NBQStDLG9FQUFvRSwwQ0FBMEMsOENBQThDLCtDQUErQyxPQUFPLDJEQUEyRCx3Q0FBd0Msd0RBQXdELDREQUE0RCxtQkFBbUIsV0FBVyx3R0FBd0csZUFBZSx1QkFBdUIsNEdBQTRHLE9BQU8sK0RBQStELDRDQUE0QyxTQUFTLEVBQUUsK0xBQStMLHlCQUF5Qiw4Q0FBOEMsYUFBYSw0Q0FBNEMsU0FBUyxFQUFFLHNEQUFzRCxnQ0FBZ0MsYUFBYSx3QkFBd0IsbUdBQW1HLFdBQVcsb0RBQW9ELHVCQUF1Qiw0SEFBNEgsMEJBQTBCLDRDQUE0QyxhQUFhLGdDQUFnQyx1RUFBdUUsa0JBQWtCLG9CQUFvQix3QkFBd0IsRUFBRSxFQUFFLDJDQUEyQyw0Q0FBNEMscUNBQXFDLGlCQUFpQiwrQ0FBK0MsZUFBZSw2SEFBNkgsb0JBQW9CLEVBQUUsMkJBQTJCLDRDQUE0Qyx1QkFBdUIsbURBQW1ELDJDQUEyQyw2Q0FBNkMsK0RBQStELDBDQUEwQywwSUFBMEksa0JBQWtCLGlHQUFpRyx3RkFBd0YsNEtBQTRLLGlDQUFpQywrQkFBK0IsbUVBQW1FLGtCQUFrQiw2QkFBNkIseUJBQXlCLHVCQUF1QixxQkFBcUIsb0ZBQW9GLHNEQUFzRCw4REFBOEQsMkRBQTJELHVGQUF1RiwwWEFBMFgsMlVBQTJVLCtkQUErZCwrQkFBK0IsRUFBRSxnQkFBZ0IsRUFBRSw2Q0FBNkMsK1NBQStTLGdDQUFnQywrSkFBK0osc0JBQXNCLHNLQUFzSyxPQUFPLDRGQUE0RixZQUFZLHFCQUFxQixpQkFBaUIsUUFBUSwyRUFBMkUsZUFBZSxZQUFZLGlCQUFpQixhQUFhLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSwrQ0FBK0MsK0ZBQStGLCtDQUErQywrRkFBK0Ysc0VBQXNFLHdDQUF3QyxzSkFBc0osbUVBQW1FLGFBQWEsMERBQTBELCtHQUErRyw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLCtDQUErQywyQ0FBMkMsMERBQTBELGtCQUFrQix5Q0FBeUMsMERBQTBELG9DQUFvQyxvQkFBb0IsZ0RBQWdELDhZQUE4WSxxQkFBcUIsZ0NBQWdDLGdPQUFnTyxtRUFBbUUsNERBQTRELG1DQUFtQywySUFBMkksYUFBYSxrQkFBa0IsMEJBQTBCLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSwrQ0FBK0MsK0ZBQStGLCtDQUErQywrRkFBK0Ysc0VBQXNFLHdDQUF3QyxzSkFBc0osbUVBQW1FLGFBQWEsMERBQTBELCtHQUErRyw0Q0FBNEMsU0FBUyxFQUFFLHNjQUFzYyxxQkFBcUIsZ0NBQWdDLHdEQUF3RCxpUkFBaVIsb0RBQW9ELDBGQUEwRixpRUFBaUUsdUhBQXVILDZDQUE2QyxrQkFBa0IsMEJBQTBCLDBCQUEwQiwwRkFBMEYsb0RBQW9ELHdCQUF3Qix5QkFBeUIsOEJBQThCLDJCQUEyQixpQ0FBaUMsd0JBQXdCLHVCQUF1QixxQkFBcUIsZ0dBQWdHLHNCQUFzQix3QkFBd0IsR0FBRyxFQUFFLDBCQUEwQiwyRkFBMkYseUNBQXlDLHVCQUF1QixxQkFBcUIsNEJBQTRCLDJDQUEyQyxzQ0FBc0MsR0FBRyxFQUFFLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSwrQ0FBK0MsK0ZBQStGLCtDQUErQywrRkFBK0Ysc0VBQXNFLHdDQUF3QyxzSkFBc0osbUVBQW1FLGFBQWEsMERBQTBELCtHQUErRyw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLCtDQUErQywyQ0FBMkMsMERBQTBELGtCQUFrQix5Q0FBeUMsMERBQTBELG9DQUFvQyxvQkFBb0IsZ0RBQWdELHVaQUF1WixxQkFBcUIsZ0NBQWdDLDRHQUE0Ryx1SEFBdUgsNERBQTRELDRCQUE0Qix1UkFBdVIsb1VBQW9VLGFBQWEsa0JBQWtCLDBCQUEwQiw4Q0FBOEMsYUFBYSxxQ0FBcUMsZ0NBQWdDLGFBQWEsK0NBQStDLCtGQUErRiwrQ0FBK0MsK0ZBQStGLHNFQUFzRSx3Q0FBd0Msc0pBQXNKLG1FQUFtRSxhQUFhLDBEQUEwRCwrR0FBK0csNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSwrQ0FBK0MsMkNBQTJDLDBEQUEwRCxrQkFBa0IseUNBQXlDLDBEQUEwRCxvQ0FBb0Msb0JBQW9CLGdEQUFnRCxzZUFBc2UsMEJBQTBCLHFDQUFxQyxzREFBc0QsV0FBVyxNQUFNLGdCQUFnQixNQUFNLDZHQUE2RyxxREFBcUQsdURBQXVELDJNQUEyTSxtREFBbUQsc0VBQXNFLDRCQUE0QiwwVUFBMFUsa0JBQWtCLGtCQUFrQiwrQkFBK0IsMEJBQTBCLGdHQUFnRyxvREFBb0QseUJBQXlCLDhCQUE4QiwyQkFBMkIsaUNBQWlDLHdCQUF3Qix5QkFBeUIsK0JBQStCLHFCQUFxQixxSEFBcUgsNEJBQTRCLHdCQUF3Qix1RkFBdUYsZ0NBQWdDLEdBQUcsRUFBRSwwQkFBMEIsMkRBQTJELDBDQUEwQyx3QkFBd0IscUJBQXFCLGdEQUFnRCxjQUFjLEtBQUssMENBQTBDLEdBQUcsRUFBRSw4Q0FBOEMsYUFBYSxxQ0FBcUMsZ0NBQWdDLGFBQWEsK0NBQStDLCtGQUErRiwrQ0FBK0MsK0ZBQStGLHNFQUFzRSx3Q0FBd0Msc0pBQXNKLG1FQUFtRSxhQUFhLDBEQUEwRCwrR0FBK0csNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSwrQ0FBK0MsMkNBQTJDLDBEQUEwRCxrQkFBa0IseUNBQXlDLDBEQUEwRCxvQ0FBb0Msb0JBQW9CLGdEQUFnRCxnWEFBZ1gscUJBQXFCLGdDQUFnQyxvREFBb0QsZ0RBQWdELG9EQUFvRCxtRkFBbUYseUNBQXlDLHVIQUF1SCw0REFBNEQsaURBQWlELDBJQUEwSSx3UUFBd1EsYUFBYSxrQkFBa0IsMEJBQTBCLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSwrQ0FBK0MsK0ZBQStGLCtDQUErQywrRkFBK0Ysc0VBQXNFLHdDQUF3QyxzSkFBc0osbUVBQW1FLGFBQWEsMERBQTBELCtHQUErRyw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLCtDQUErQywyQ0FBMkMsMERBQTBELGtCQUFrQix5Q0FBeUMsMERBQTBELG9DQUFvQyxvQkFBb0IsZ0RBQWdELDJTQUEyUyx1QkFBdUIsbUVBQW1FLGtDQUFrQywwRUFBMEUsMkhBQTJILGdFQUFnRSxtQ0FBbUMsK0lBQStJLGVBQWUsa0JBQWtCLDRCQUE0Qiw4Q0FBOEMsYUFBYSxxQ0FBcUMsZ0NBQWdDLGFBQWEsK0NBQStDLCtGQUErRiwrQ0FBK0MsK0ZBQStGLHNFQUFzRSx3Q0FBd0Msc0pBQXNKLG1FQUFtRSxhQUFhLDBEQUEwRCwrR0FBK0csNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSwrQ0FBK0MsMkNBQTJDLDBEQUEwRCxrQkFBa0IseUNBQXlDLDBEQUEwRCxvQ0FBb0Msb0JBQW9CLGdEQUFnRCx3U0FBd1Msb0JBQW9CLGlJQUFpSSwrQkFBK0IsaUZBQWlGLHFIQUFxSCwwREFBMEQsbUNBQW1DLHlJQUF5SSxZQUFZLGtCQUFrQix5QkFBeUIsMEJBQTBCLHFEQUFxRCxvREFBb0QsK0JBQStCLHlCQUF5Qiw4QkFBOEIsMkJBQTJCLGlDQUFpQywrQkFBK0IsdUJBQXVCLHFCQUFxQiwrQkFBK0Isd0JBQXdCLHdCQUF3Qix3QkFBd0IsZ0dBQWdHLG9DQUFvQyx3QkFBd0IsR0FBRyxFQUFFLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSwrQ0FBK0MsK0ZBQStGLCtDQUErQywrRkFBK0Ysc0VBQXNFLHdDQUF3QyxzSkFBc0osbUVBQW1FLGFBQWEsMERBQTBELCtHQUErRyw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLCtDQUErQywyQ0FBMkMsMERBQTBELGtCQUFrQix5Q0FBeUMsMERBQTBELG9DQUFvQyxvQkFBb0IsZ0RBQWdELGlYQUFpWCxxQkFBcUIsZ0NBQWdDLGlNQUFpTSxtRUFBbUUsNERBQTRELG1DQUFtQywwT0FBME8sYUFBYSxrQkFBa0IsMEJBQTBCLDBCQUEwQixrRkFBa0YsZ0RBQWdELDRCQUE0QiwyQkFBMkIsd0NBQXdDLG1KQUFtSixpQkFBaUIsdUNBQXVDLG9GQUFvRixtRkFBbUYsbUZBQW1GLGtGQUFrRixnRUFBZ0UsNENBQTRDLHNDQUFzQyxzQ0FBc0Msc0NBQXNDLHNDQUFzQyxzQ0FBc0MsZ0ZBQWdGLGdGQUFnRixpQkFBaUIsdURBQXVELHVEQUF1RCwwSUFBMEksMEVBQTBFLDRKQUE0Siw2TEFBNkwsOEtBQThLLHNDQUFzQyxtRkFBbUYsNENBQTRDLG1CQUFtQixHQUFHLHFCQUFxQixxQ0FBcUMsMkJBQTJCLEdBQUcsRUFBRSw4Q0FBOEMsYUFBYSxxQ0FBcUMsZ0NBQWdDLGFBQWEsK0NBQStDLCtGQUErRiw0Q0FBNEMsU0FBUyxFQUFFLDRCQUE0Qix3Q0FBd0MsWUFBWSxlQUFlLEtBQUssd0JBQXdCLG1MQUFtTCxvREFBb0QsMElBQTBJLG1kQUFtZCxpQkFBaUIsZUFBZSxnT0FBZ08scUJBQXFCLDhDQUE4QyxzQkFBc0IsRUFBRSw0QkFBNEIsZ0NBQWdDLEVBQUUsZ0NBQWdDLEVBQUUsNEJBQTRCLGtGQUFrRixFQUFFLDZCQUE2QixnQkFBZ0IseUVBQXlFLHNCQUFzQixJQUFJLEVBQUUsOEJBQThCLHlIQUF5SCxFQUFFLHNDQUFzQyw2QkFBNkIsRUFBRSx5Q0FBeUMseUNBQXlDLHdEQUF3RCxnQ0FBZ0MsRUFBRSx1Q0FBdUMsRUFBRSxvQ0FBb0MsRUFBRSx1Q0FBdUMseUJBQXlCLHdCQUF3Qiw2Q0FBNkMsK0NBQStDLEVBQUUsNkJBQTZCLG1SQUFtUixFQUFFLDZCQUE2Qiw0S0FBNEssU0FBUyxHQUFHLHNCQUFzQiw4Q0FBOEMsYUFBYSwrQ0FBK0MsK0ZBQStGLDRDQUE0QyxTQUFTLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLGVBQWUsS0FBSyx3QkFBd0IsbUxBQW1MLG9EQUFvRCwwSUFBMEksNkRBQTZELGdDQUFnQyxhQUFhLDRCQUE0QixtQ0FBbUMsZ0dBQWdHLDJCQUEyQiwrQkFBK0IsRUFBRSxnQ0FBZ0MsUUFBUSxHQUFHLHFCQUFxQiw4Q0FBOEMsYUFBYSxxQ0FBcUMsZ0NBQWdDLGFBQWEsK0NBQStDLCtGQUErRiwrQ0FBK0MsK0ZBQStGLHNFQUFzRSx3Q0FBd0Msc0pBQXNKLG1FQUFtRSxhQUFhLDBEQUEwRCwrR0FBK0csNENBQTRDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLFlBQVksZUFBZSxLQUFLLHdCQUF3QixtTEFBbUwsb0RBQW9ELDBJQUEwSSw2UEFBNlAscUNBQXFDLDZCQUE2Qix3R0FBd0csdUdBQXVHLHlEQUF5RCwrQkFBK0IsRUFBRSxnQ0FBZ0MsVUFBVSxzQkFBc0IsdUJBQXVCLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSwrQ0FBK0MsK0ZBQStGLDRDQUE0QyxTQUFTLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLGVBQWUsS0FBSyx3QkFBd0IsbUxBQW1MLG9EQUFvRCwwSUFBMEksMk9BQTJPLGdCQUFnQixtREFBbUQsc0RBQXNELGdCQUFnQixNQUFNLDJCQUEyQixxQ0FBcUMsZ1BBQWdQLGlHQUFpRyxFQUFFLHVDQUF1Qyx5R0FBeUcsRUFBRSxvQ0FBb0MsOEJBQThCLEVBQUUsdUNBQXVDLGtEQUFrRCxFQUFFLGtEQUFrRCxpR0FBaUcsRUFBRSxxREFBcUQsb0dBQW9HLEVBQUUsaURBQWlELGdHQUFnRyxFQUFFLDJDQUEyQywwRkFBMEYsRUFBRSxpREFBaUQsa0hBQWtILEVBQUUsa0RBQWtELGlHQUFpRyxFQUFFLDhDQUE4Qyw2QkFBNkIsc0JBQXNCLE9BQU8sRUFBRSx3REFBd0Qsb0RBQW9ELDBCQUEwQiw2QkFBNkIsMEJBQTBCLFFBQVEsRUFBRSwwQ0FBMEMsMkJBQTJCLEVBQUUsNEJBQTRCLGVBQWUsNkJBQTZCLGNBQWMsaUdBQWlHLGlEQUFpRCxvQkFBb0IsNkJBQTZCLHdCQUF3Qix1Q0FBdUMsbURBQW1ELDRFQUE0RSx5RUFBeUUsRUFBRSw0QkFBNEIscUJBQXFCLEVBQUUsaUNBQWlDLGtCQUFrQixRQUFRLEdBQUcscUJBQXFCLDhDQUE4QyxhQUFhLHFDQUFxQyxnQ0FBZ0MsYUFBYSw0Q0FBNEMsU0FBUyxFQUFFLHdpQkFBd2lCLHFOQUFxTiwyQkFBMkIsOENBQThDLGFBQWEsK0NBQStDLCtGQUErRiwrQ0FBK0MsK0ZBQStGLHNFQUFzRSx3Q0FBd0Msc0pBQXNKLG1FQUFtRSxhQUFhLDBEQUEwRCwrR0FBK0csNENBQTRDLFNBQVMsRUFBRSwrREFBK0QsZ0NBQWdDLGFBQWEsNkNBQTZDLG1DQUFtQyxvRUFBb0Usc0VBQXNFLG1MQUFtTCxxREFBcUQscUJBQXFCLDRCQUE0QixHQUFHLEU7Ozs7Ozs7Ozs7OztBQ0F6eW9TO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gsYUFBYSxvQ0FBb0M7QUFDakQsR0FBRztBQUNILGFBQWEsZ0RBQWdEO0FBQzdELEdBQUc7QUFDSCxhQUFhLG9DQUFvQztBQUNqRCxHQUFHO0FBQ0gsYUFBYSxnREFBZ0Q7QUFDN0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFFBQVE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLCtDQUErQyxFQUFFO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7Ozs7Ozs7Ozs7OztBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixrQkFBa0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7O0FBUUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7Ozs7Ozs7Ozs7O0FBWUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUtBQW1LLGlDQUFpQztBQUNwTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEdBQThHO0FBQzlHLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSwySkFBMko7QUFDM0osd0pBQXdKO0FBQ3hKLG1KQUFtSjtBQUNuSixvSkFBb0o7QUFDcEosZ0pBQWdKO0FBQ2hKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsMkRBQTJEO0FBQ25IO0FBQ0Esc0RBQXNELHVDQUF1QztBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQseUNBQXlDLGdCQUFnQixTQUFTLFVBQVUsV0FBVyxXQUFXLE9BQU8sZUFBZSxNQUFNLE9BQU8sUUFBUSxTQUFTLFVBQVUsbUJBQW1CLGdCQUFnQixTQUFTLHNDQUFzQyxpQ0FBaUMsbUNBQW1DLDhCQUE4Qiw0QkFBNEIsZ0JBQWdCLDBDQUEwQyxVQUFVLGdCQUFnQiw2QkFBNkIsaUNBQWlDLHFCQUFxQix5REFBeUQsVUFBVSx1QkFBdUIsc0NBQXNDLGlDQUFpQyxtQ0FBbUMsOEJBQThCLFNBQVMsaUJBQWlCLFlBQVksZUFBZSxrQkFBa0Isc0JBQXNCLGlDQUFpQyxrQkFBa0Isb0NBQW9DLGtCQUFrQiw2QkFBNkIsc0JBQXNCLE1BQU0sWUFBWSxrQkFBa0IsbUJBQW1CLDRCQUE0QixhQUFhLCtCQUErQixnQkFBZ0IseUJBQXlCLGFBQWEsZ0JBQWdCLE1BQU0sYUFBYSwwQkFBMEIsa0JBQWtCLDZCQUE2QixlQUFlLE9BQU8sdUNBQXVDLGtDQUFrQyxvQ0FBb0MsK0JBQStCLHVDQUF1QyxrQ0FBa0Msb0NBQW9DLCtCQUErQixvQkFBb0IsWUFBWSxZQUFZLGlCQUFpQixvQkFBb0IsY0FBYyxVQUFVLG9DQUFvQyxhQUFhLGVBQWUsaUJBQWlCLGlFQUFpRSxTQUFTLGdCQUFnQixTQUFTLFFBQVEsV0FBVyxpQkFBaUIsWUFBWSxnQkFBZ0IsbUJBQW1CLGVBQWUsV0FBVyxXQUFXLFVBQVUsZ0JBQWdCLHVCQUF1QixPQUFPLFdBQVcsVUFBVSxrQkFBa0Isd0JBQXdCLFNBQVMsZUFBZSxZQUFZLFdBQVcsWUFBWSxpQ0FBaUMsVUFBVSxjQUFjLFlBQVksV0FBVyxVQUFVLGlCQUFpQixlQUFlLFlBQVksZUFBZSxlQUFlLFlBQVksNEJBQTRCLGVBQWUsY0FBYyxlQUFlLHNHQUFzRyxlQUFlLGNBQWMsaUJBQWlCLGNBQWMsYUFBYSxrQkFBa0IsaUJBQWlCLGdCQUFnQixXQUFXLDBDQUEwQyxjQUFjLGdCQUFnQixVQUFVLHdCQUF3QixxQkFBcUIsZ0JBQWdCLGFBQWEsc0JBQXNCLFlBQVksYUFBYSxlQUFlLGlCQUFpQixvQkFBb0IsYUFBYSxXQUFXLDhCQUE4QixlQUFlLFNBQVMsWUFBWSxrQ0FBa0MscUJBQXFCLGNBQWMsY0FBYyxZQUFZLGtCQUFrQixhQUFhLGtCQUFrQixrQkFBa0IsYUFBYSxlQUFlLGlCQUFpQixrQkFBa0Isc0JBQXNCLFlBQVksZ0JBQWdCLHVCQUF1QixlQUFlLHNCQUFzQixhQUFhLElBQUksV0FBVyxzQ0FBc0MsMEJBQTBCLDRCQUE0QixVQUFVLG1CQUFtQixtQ0FBbUMsU0FBUyxhQUFhLGtDQUFrQyxrQkFBa0IsbUJBQW1CLG9CQUFvQixtQkFBbUIsZ0NBQWdDLGdCQUFnQixpQkFBaUIsbUJBQW1CLFNBQVMsdUJBQXVCLGdCQUFnQixZQUFZLHdCQUF3QixnQkFBZ0IsZUFBZSxrQkFBa0IsY0FBYyxnQkFBZ0Isd0JBQXdCLG1CQUFtQixXQUFXLDRCQUE0Qiw0QkFBNEIsZUFBZSw4QkFBOEIsc0NBQXNDLG1mQUFtZixXQUFXLFVBQVUsOEJBQThCLHlCQUF5Qiw0QkFBNEIsY0FBYyxnQkFBZ0IsYUFBYSxrQkFBa0IsbUNBQW1DLHdHQUF3RyxlQUFlLDhDQUE4QyxxQkFBcUIsb0NBQW9DLHFGQUFxRixnQkFBZ0IsOEJBQThCLGNBQWMsc0JBQXNCLGlCQUFpQiw4QkFBOEIsZUFBZSw4QkFBOEIsZ0NBQWdDLGNBQWMsZUFBZSw4QkFBOEIsZ0NBQWdDLGNBQWMsNkNBQTZDLGdCQUFnQix3QkFBd0IsbUJBQW1CLGFBQWEsOEJBQThCLG1CQUFtQiw4QkFBOEIsbUJBQW1CLFdBQVcsZUFBZSxtQkFBbUIsaUJBQWlCLGtCQUFrQixtQkFBbUIsZUFBZSxxQkFBcUIsbUJBQW1CLGdDQUFnQyxtQkFBbUI7O0FBRWx0TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsK0VBQStFLHdFQUF3RTtBQUN2SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0NBQW9DO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixvQ0FBb0M7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFK0Q7QUFDaEQsb0VBQUssRUFBQztBQUNyQjs7Ozs7Ozs7Ozs7O0FDMTlFQTtBQUNBLGVBQWUsS0FBc0Qsb0JBQW9CLFNBQTRELENBQUMsa0JBQWtCLGlCQUFpQixjQUFjLHFCQUFxQixTQUFTLGNBQWMsWUFBWSxvQkFBb0IscURBQXFELElBQUksd0NBQXdDLGdDQUFnQyxNQUFNLE9BQU8sZUFBZSxZQUFZLGVBQWUsdUNBQXVDO0FBQ2xmLHlCQUF5QixLQUFLLG1IQUFtSCxzRkFBc0YsS0FBSyxPQUFPLDBEQUEwRCw0QkFBNEIsZ0JBQWdCLElBQUksZ0NBQWdDLGtCQUFrQixtREFBbUQseUJBQXlCO0FBQzNkLG1DQUFtQyxTQUFTLG1CQUFtQixhQUFhLDBCQUEwQix3QkFBd0Isd0pBQXdKLFVBQVUsV0FBVyw0QkFBNEIsYUFBYSx5QkFBeUIsbURBQW1ELHFCQUFxQixjQUFjLG9CQUFvQixjQUFjO0FBQ3JlLG9CQUFvQixjQUFjLGlCQUFpQixvQkFBb0IsT0FBTywyQkFBMkIsZ0JBQWdCLGdCQUFnQixjQUFjLGdCQUFnQixvQkFBb0IsY0FBYyxrREFBa0QscUNBQXFDLHdCQUF3QixjQUFjLGlCQUFpQixzQ0FBc0MsU0FBUzs7Ozs7Ozs7Ozs7OztBQ0p0WTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7Q0FHQTs7QUFDQUEsTUFBTSxDQUFDQyxHQUFQLEdBQWEsSUFBSUMsK0NBQUcsQ0FBQ0MsR0FBUixDQUFZO0FBQUVDLE9BQUssRUFBRTtBQUFULENBQVosQ0FBYjtBQUNBLE1BQU1DLEdBQUcsR0FBR0MsUUFBUSxDQUFDQyxJQUFULENBQWNDLGFBQWQsQ0FBNEIsUUFBNUIsQ0FBWjtBQUNBSCxHQUFHLENBQUNJLEtBQUosQ0FBVUMsTUFBVixHQUFtQixLQUFuQixDLENBRUE7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHLElBQUlDLCtDQUFKLEVBQWQ7QUFDQU4sUUFBUSxDQUFDQyxJQUFULENBQWNNLFdBQWQsQ0FBMEJGLEtBQUssQ0FBQ0csVUFBaEM7QUFDQUMsNkNBQU0sQ0FBQ0MsU0FBUCxDQUFpQkMsS0FBakIsQ0FBdUIsTUFBTU4sS0FBSyxDQUFDTyxNQUFOLEVBQTdCLEUiLCJmaWxlIjoiYXNzZXRzL2pzL2RlYnVnLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvanMvZGVidWcvZGVidWcuanNcIik7XG4iLCIhZnVuY3Rpb24ocm9vdCxmYWN0b3J5KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1mYWN0b3J5KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImFsZnJpZFwiLFtdLGZhY3RvcnkpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuYWxmcmlkPWZhY3RvcnkoKTpyb290LmFsZnJpZD1mYWN0b3J5KCl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihtb2R1bGVzKXtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKXtpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czt2YXIgbW9kdWxlPWluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdPXtpOm1vZHVsZUlkLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsbW9kdWxlLG1vZHVsZS5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG1vZHVsZS5sPSEwLG1vZHVsZS5leHBvcnRzfXZhciBpbnN0YWxsZWRNb2R1bGVzPXt9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09bW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9aW5zdGFsbGVkTW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZXhwb3J0cyxuYW1lLGdldHRlcil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsbmFtZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLG5hbWUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpnZXR0ZXJ9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKG1vZHVsZSl7dmFyIGdldHRlcj1tb2R1bGUmJm1vZHVsZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBtb2R1bGV9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLFwiYVwiLGdldHRlciksZ2V0dGVyfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl9LF9fd2VicGFja19yZXF1aXJlX18ucD1cIlwiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTM3KX0oW2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfZ2V0QW5kQXBwbHlFeHRlbnNpb249X193ZWJwYWNrX3JlcXVpcmVfXyg0MiksX2dldEFuZEFwcGx5RXh0ZW5zaW9uMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRBbmRBcHBseUV4dGVuc2lvbiksX2V4cG9zZUF0dHJpYnV0ZXM9X193ZWJwYWNrX3JlcXVpcmVfXyg0MyksX2V4cG9zZUF0dHJpYnV0ZXMyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4cG9zZUF0dHJpYnV0ZXMpLF9nZXRGbG9hdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSxfZ2V0RmxvYXQyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEZsb2F0KSxfZ2V0SGFsZkZsb2F0PV9fd2VicGFja19yZXF1aXJlX18oNDUpLF9nZXRIYWxmRmxvYXQyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEhhbGZGbG9hdCksX2dldEF0dHJpYkxvYz1fX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSxfRXh0ZW5zaW9uc0xpc3Q9KF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEF0dHJpYkxvYyksX193ZWJwYWNrX3JlcXVpcmVfXyg0NikpLF9FeHRlbnNpb25zTGlzdDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXh0ZW5zaW9uc0xpc3QpLGdsPXZvaWQgMCxHTFRvb2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiBHTFRvb2woKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxHTFRvb2wpLHRoaXMuY2FudmFzLHRoaXMuX3ZpZXdwb3J0PVswLDAsMCwwXSx0aGlzLl9lbmFibGVkVmVydGV4QXR0cmlidXRlPVtdLHRoaXMuaWRlbnRpdHlNYXRyaXg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fbm9ybWFsTWF0cml4PV9nbE1hdHJpeC5tYXQzLmNyZWF0ZSgpLHRoaXMuX2ludmVyc2VNb2RlbFZpZXdNYXRyaXg9X2dsTWF0cml4Lm1hdDMuY3JlYXRlKCksdGhpcy5fbW9kZWxNYXRyaXg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fbWF0cml4PV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX21hdHJpeFN0YWNrcz1bXSx0aGlzLl9sYXN0TWVzaD1udWxsLHRoaXMuX3VzZVdlYkdMMj0hMSx0aGlzLl9oYXNBcnJheUluc3RhbmNlLHRoaXMuX2V4dEFycmF5SW5zdGFuY2UsdGhpcy5faGFzQ2hlY2tlZEV4dD0hMSxfZ2xNYXRyaXgubWF0NC5pZGVudGl0eSh0aGlzLmlkZW50aXR5TWF0cml4LHRoaXMuaWRlbnRpdHlNYXRyaXgpLHRoaXMuaXNNb2JpbGU9ITEsL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYodGhpcy5pc01vYmlsZT0hMCl9cmV0dXJuIF9jcmVhdGVDbGFzcyhHTFRvb2wsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24obUNhbnZhcyl7dmFyIG1QYXJhbWV0ZXJzPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZihudWxsPT09bUNhbnZhc3x8dm9pZCAwPT09bUNhbnZhcylyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiQ2FudmFzIG5vdCBleGlzdFwiKTt2b2lkIDAhPT10aGlzLmNhbnZhcyYmbnVsbCE9PXRoaXMuY2FudmFzJiZ0aGlzLmRlc3Ryb3koKSx0aGlzLmNhbnZhcz1tQ2FudmFzLHRoaXMuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCx3aW5kb3cuaW5uZXJIZWlnaHQpLG1QYXJhbWV0ZXJzLnVzZVdlYmdsMj1tUGFyYW1ldGVycy51c2VXZWJnbDJ8fCExO3ZhciBjdHg9dm9pZCAwO21QYXJhbWV0ZXJzLnVzZVdlYmdsMj8oY3R4PXRoaXMuY2FudmFzLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2wyXCIsbVBhcmFtZXRlcnMpfHx0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2wyXCIsbVBhcmFtZXRlcnMpLGN0eD90aGlzLl91c2VXZWJHTDI9ITA6KGN0eD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIixtUGFyYW1ldGVycyl8fHRoaXMuY2FudmFzLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixtUGFyYW1ldGVycyksdGhpcy5fdXNlV2ViR0wyPSExKSk6KGN0eD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIixtUGFyYW1ldGVycyl8fHRoaXMuY2FudmFzLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixtUGFyYW1ldGVycyksdGhpcy5fdXNlV2ViR0wyPSExKSxjb25zb2xlLmxvZyhcIlVzaW5nIFdlYkdMIDIgP1wiLHRoaXMud2ViZ2wyKSx0aGlzLmluaXRXaXRoR0woY3R4KX19LHtrZXk6XCJpbml0V2l0aEdMXCIsdmFsdWU6ZnVuY3Rpb24oY3R4KXt0aGlzLmNhbnZhc3x8KHRoaXMuY2FudmFzPWN0eC5jYW52YXMpLGdsPXRoaXMuZ2w9Y3R4LHRoaXMuZXh0ZW5zaW9ucz17fTtmb3IodmFyIGk9MDtpPF9FeHRlbnNpb25zTGlzdDIuZGVmYXVsdC5sZW5ndGg7aSsrKXRoaXMuZXh0ZW5zaW9uc1tfRXh0ZW5zaW9uc0xpc3QyLmRlZmF1bHRbaV1dPWdsLmdldEV4dGVuc2lvbihfRXh0ZW5zaW9uc0xpc3QyLmRlZmF1bHRbaV0pOygwLF9leHBvc2VBdHRyaWJ1dGVzMi5kZWZhdWx0KSgpLCgwLF9nZXRBbmRBcHBseUV4dGVuc2lvbjIuZGVmYXVsdCkoZ2wsXCJPRVNfdmVydGV4X2FycmF5X29iamVjdFwiKSwoMCxfZ2V0QW5kQXBwbHlFeHRlbnNpb24yLmRlZmF1bHQpKGdsLFwiQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wiKSwoMCxfZ2V0QW5kQXBwbHlFeHRlbnNpb24yLmRlZmF1bHQpKGdsLFwiV0VCR0xfZHJhd19idWZmZXJzXCIpLHRoaXMuZW5hYmxlKHRoaXMuREVQVEhfVEVTVCksdGhpcy5lbmFibGUodGhpcy5DVUxMX0ZBQ0UpLHRoaXMuZW5hYmxlKHRoaXMuQkxFTkQpLHRoaXMuZW5hYmxlQWxwaGFCbGVuZGluZygpfX0se2tleTpcInNldFZpZXdwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oeCx5LHcsaCl7dmFyIGhhc0NoYW5nZWQ9ITE7eCE9PXRoaXMuX3ZpZXdwb3J0WzBdJiYoaGFzQ2hhbmdlZD0hMCkseSE9PXRoaXMuX3ZpZXdwb3J0WzFdJiYoaGFzQ2hhbmdlZD0hMCksdyE9PXRoaXMuX3ZpZXdwb3J0WzJdJiYoaGFzQ2hhbmdlZD0hMCksaCE9PXRoaXMuX3ZpZXdwb3J0WzNdJiYoaGFzQ2hhbmdlZD0hMCksaGFzQ2hhbmdlZCYmKGdsLnZpZXdwb3J0KHgseSx3LGgpLHRoaXMuX3ZpZXdwb3J0PVt4LHksdyxoXSl9fSx7a2V5Olwic2Npc3NvclwiLHZhbHVlOmZ1bmN0aW9uKHgseSx3LGgpe2dsLnNjaXNzb3IoeCx5LHcsaCl9fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbihyLGcsYixhKXtnbC5jbGVhckNvbG9yKHIsZyxiLGEpLGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVR8Z2wuREVQVEhfQlVGRkVSX0JJVCl9fSx7a2V5OlwiY3VsbEZhY2VcIix2YWx1ZTpmdW5jdGlvbihtVmFsdWUpe2dsLmN1bGxGYWNlKG1WYWx1ZSl9fSx7a2V5Olwic2V0TWF0cmljZXNcIix2YWx1ZTpmdW5jdGlvbihtQ2FtZXJhKXt0aGlzLmNhbWVyYT1tQ2FtZXJhLHRoaXMucm90YXRlKHRoaXMuaWRlbnRpdHlNYXRyaXgpfX0se2tleTpcInVzZVNoYWRlclwiLHZhbHVlOmZ1bmN0aW9uKG1TaGFkZXIpe3RoaXMuc2hhZGVyPW1TaGFkZXIsdGhpcy5zaGFkZXJQcm9ncmFtPXRoaXMuc2hhZGVyLnNoYWRlclByb2dyYW19fSx7a2V5Olwicm90YXRlXCIsdmFsdWU6ZnVuY3Rpb24obVJvdGF0aW9uKXtfZ2xNYXRyaXgubWF0NC5jb3B5KHRoaXMuX21vZGVsTWF0cml4LG1Sb3RhdGlvbiksX2dsTWF0cml4Lm1hdDQubXVsdGlwbHkodGhpcy5fbWF0cml4LHRoaXMuY2FtZXJhLm1hdHJpeCx0aGlzLl9tb2RlbE1hdHJpeCksX2dsTWF0cml4Lm1hdDMuZnJvbU1hdDQodGhpcy5fbm9ybWFsTWF0cml4LHRoaXMuX21hdHJpeCksX2dsTWF0cml4Lm1hdDMuaW52ZXJ0KHRoaXMuX25vcm1hbE1hdHJpeCx0aGlzLl9ub3JtYWxNYXRyaXgpLF9nbE1hdHJpeC5tYXQzLnRyYW5zcG9zZSh0aGlzLl9ub3JtYWxNYXRyaXgsdGhpcy5fbm9ybWFsTWF0cml4KSxfZ2xNYXRyaXgubWF0My5mcm9tTWF0NCh0aGlzLl9pbnZlcnNlTW9kZWxWaWV3TWF0cml4LHRoaXMuX21hdHJpeCksX2dsTWF0cml4Lm1hdDMuaW52ZXJ0KHRoaXMuX2ludmVyc2VNb2RlbFZpZXdNYXRyaXgsdGhpcy5faW52ZXJzZU1vZGVsVmlld01hdHJpeCl9fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKG1NZXNoLG1EcmF3aW5nVHlwZSl7aWYobU1lc2gubGVuZ3RoKWZvcih2YXIgaT0wO2k8bU1lc2gubGVuZ3RoO2krKyl0aGlzLmRyYXcobU1lc2hbaV0pO2Vsc2V7bU1lc2guYmluZCh0aGlzLnNoYWRlclByb2dyYW0pLHZvaWQgMCE9PXRoaXMuY2FtZXJhJiYodGhpcy5zaGFkZXIudW5pZm9ybShcInVQcm9qZWN0aW9uTWF0cml4XCIsXCJtYXQ0XCIsdGhpcy5jYW1lcmEucHJvamVjdGlvbiksdGhpcy5zaGFkZXIudW5pZm9ybShcInVWaWV3TWF0cml4XCIsXCJtYXQ0XCIsdGhpcy5jYW1lcmEubWF0cml4KSksdGhpcy5zaGFkZXIudW5pZm9ybShcInVNb2RlbE1hdHJpeFwiLFwibWF0NFwiLHRoaXMuX21vZGVsTWF0cml4KSx0aGlzLnNoYWRlci51bmlmb3JtKFwidU5vcm1hbE1hdHJpeFwiLFwibWF0M1wiLHRoaXMuX25vcm1hbE1hdHJpeCksdGhpcy5zaGFkZXIudW5pZm9ybShcInVNb2RlbFZpZXdNYXRyaXhJbnZlcnNlXCIsXCJtYXQzXCIsdGhpcy5faW52ZXJzZU1vZGVsVmlld01hdHJpeCk7dmFyIGRyYXdUeXBlPW1NZXNoLmRyYXdUeXBlO3ZvaWQgMCE9PW1EcmF3aW5nVHlwZSYmKGRyYXdUeXBlPW1EcmF3aW5nVHlwZSksbU1lc2guaXNJbnN0YW5jZWQ/Z2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKG1NZXNoLmRyYXdUeXBlLG1NZXNoLmlCdWZmZXIubnVtSXRlbXMsZ2wuVU5TSUdORURfU0hPUlQsMCxtTWVzaC5udW1JbnN0YW5jZSk6ZHJhd1R5cGU9PT1nbC5QT0lOVFM/Z2wuZHJhd0FycmF5cyhkcmF3VHlwZSwwLG1NZXNoLnZlcnRleFNpemUpOmdsLmRyYXdFbGVtZW50cyhkcmF3VHlwZSxtTWVzaC5pQnVmZmVyLm51bUl0ZW1zLGdsLlVOU0lHTkVEX1NIT1JULDApLG1NZXNoLnVuYmluZCgpfX19LHtrZXk6XCJkcmF3VHJhbnNmb3JtRmVlZGJhY2tcIix2YWx1ZTpmdW5jdGlvbihtVHJhbnNmb3JtT2JqZWN0KXt2YXIgbWVzaFNvdXJjZT1tVHJhbnNmb3JtT2JqZWN0Lm1lc2hTb3VyY2UsbWVzaERlc3RpbmF0aW9uPW1UcmFuc2Zvcm1PYmplY3QubWVzaERlc3RpbmF0aW9uLG51bVBvaW50cz1tVHJhbnNmb3JtT2JqZWN0Lm51bVBvaW50cyx0cmFuc2Zvcm1GZWVkYmFjaz1tVHJhbnNmb3JtT2JqZWN0LnRyYW5zZm9ybUZlZWRiYWNrO21lc2hTb3VyY2UuYmluZCh0aGlzLnNoYWRlclByb2dyYW0pLG1lc2hEZXN0aW5hdGlvbi5nZW5lcmF0ZUJ1ZmZlcnModGhpcy5zaGFkZXJQcm9ncmFtKSxnbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soZ2wuVFJBTlNGT1JNX0ZFRURCQUNLLHRyYW5zZm9ybUZlZWRiYWNrKSxtZXNoRGVzdGluYXRpb24uYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHIsaSl7Z2wuYmluZEJ1ZmZlckJhc2UoZ2wuVFJBTlNGT1JNX0ZFRURCQUNLX0JVRkZFUixpLGF0dHIuYnVmZmVyKX0pLGdsLmVuYWJsZShnbC5SQVNURVJJWkVSX0RJU0NBUkQpLGdsLmJlZ2luVHJhbnNmb3JtRmVlZGJhY2soZ2wuUE9JTlRTKSxnbC5kcmF3QXJyYXlzKGdsLlBPSU5UUywwLG51bVBvaW50cyksZ2wuZW5kVHJhbnNmb3JtRmVlZGJhY2soKSxnbC5kaXNhYmxlKGdsLlJBU1RFUklaRVJfRElTQ0FSRCksZ2wudXNlUHJvZ3JhbShudWxsKSxnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUixudWxsKSxtZXNoRGVzdGluYXRpb24uYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHIsaSl7Z2wuYmluZEJ1ZmZlckJhc2UoZ2wuVFJBTlNGT1JNX0ZFRURCQUNLX0JVRkZFUixpLG51bGwpfSksZ2wuYmluZFRyYW5zZm9ybUZlZWRiYWNrKGdsLlRSQU5TRk9STV9GRUVEQkFDSyxudWxsKSxtZXNoU291cmNlLnVuYmluZCgpfX0se2tleTpcInNldFNpemVcIix2YWx1ZTpmdW5jdGlvbihtV2lkdGgsbUhlaWdodCl7dGhpcy5fd2lkdGg9bVdpZHRoLHRoaXMuX2hlaWdodD1tSGVpZ2h0LHRoaXMuY2FudmFzLndpZHRoPXRoaXMuX3dpZHRoLHRoaXMuY2FudmFzLmhlaWdodD10aGlzLl9oZWlnaHQsdGhpcy5fYXNwZWN0UmF0aW89dGhpcy5fd2lkdGgvdGhpcy5faGVpZ2h0LGdsJiZ0aGlzLnZpZXdwb3J0KDAsMCx0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQpfX0se2tleTpcInNob3dFeHRlbnNpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcIkV4dGVuc2lvbnMgOiBcIix0aGlzLmV4dGVuc2lvbnMpO2Zvcih2YXIgZXh0IGluIHRoaXMuZXh0ZW5zaW9ucyl0aGlzLmV4dGVuc2lvbnNbZXh0XSYmY29uc29sZS5sb2coZXh0LFwiOlwiLHRoaXMuZXh0ZW5zaW9uc1tleHRdKX19LHtrZXk6XCJjaGVja0V4dGVuc2lvblwiLHZhbHVlOmZ1bmN0aW9uKG1FeHRlbnNpb24pe3JldHVybiEhdGhpcy5leHRlbnNpb25zW21FeHRlbnNpb25dfX0se2tleTpcImdldEV4dGVuc2lvblwiLHZhbHVlOmZ1bmN0aW9uKG1FeHRlbnNpb24pe3JldHVybiB0aGlzLmV4dGVuc2lvbnNbbUV4dGVuc2lvbl19fSx7a2V5OlwiZW5hYmxlQWxwaGFCbGVuZGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7Z2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSxnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKX19LHtrZXk6XCJlbmFibGVBZGRpdGl2ZUJsZW5kaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtnbC5ibGVuZEZ1bmMoZ2wuT05FLGdsLk9ORSl9fSx7a2V5OlwicHVzaE1hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG10eD1fZ2xNYXRyaXgubWF0NC5jbG9uZSh0aGlzLl9tb2RlbE1hdHJpeCk7dGhpcy5fbWF0cml4U3RhY2tzLnB1c2gobXR4KX19LHtrZXk6XCJwb3BNYXRyaXhcIix2YWx1ZTpmdW5jdGlvbigpe2lmKDA9PXRoaXMuX21hdHJpeFN0YWNrcy5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIG10eD10aGlzLl9tYXRyaXhTdGFja3MucG9wKCk7dGhpcy5yb3RhdGUobXR4KX19LHtrZXk6XCJlbmFibGVcIix2YWx1ZTpmdW5jdGlvbihtUGFyYW1ldGVyKXtnbC5lbmFibGUobVBhcmFtZXRlcil9fSx7a2V5OlwiZGlzYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKG1QYXJhbWV0ZXIpe2dsLmRpc2FibGUobVBhcmFtZXRlcil9fSx7a2V5Olwidmlld3BvcnRcIix2YWx1ZTpmdW5jdGlvbih4LHksdyxoKXt0aGlzLnNldFZpZXdwb3J0KHgseSx3LGgpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuY2FudmFzLnBhcmVudE5vZGUpdHJ5e3RoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpfWNhdGNoKGUpe2NvbnNvbGUubG9nKFwiRXJyb3IgOiBcIixlKX10aGlzLmNhbnZhcz1udWxsfX0se2tleTpcIkZMT0FUXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuKDAsX2dldEZsb2F0Mi5kZWZhdWx0KSgpfX0se2tleTpcIkhBTEZfRkxPQVRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oMCxfZ2V0SGFsZkZsb2F0Mi5kZWZhdWx0KSgpfX0se2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRofX0se2tleTpcImhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9fSx7a2V5OlwiYXNwZWN0UmF0aW9cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXNwZWN0UmF0aW99fSx7a2V5Olwid2ViZ2wyXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZVdlYkdMMn19XSksR0xUb29sfSgpLEdMPW5ldyBHTFRvb2w7ZXhwb3J0cy5kZWZhdWx0PUdMfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX3R5cGVvZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24ob2JqKXtyZXR1cm4gdHlwZW9mIG9ian06ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJm9iai5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmb2JqIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvYmp9LF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9HTFRvb2wpLGlzU2FtZT0oX193ZWJwYWNrX3JlcXVpcmVfXyg0NyksZnVuY3Rpb24oYXJyYXkxLGFycmF5Mil7aWYoYXJyYXkxLmxlbmd0aCE9PWFycmF5Mi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxhcnJheTEubGVuZ3RoO2krKylpZihhcnJheTFbaV0hPT1hcnJheTJbaV0pcmV0dXJuITE7cmV0dXJuITB9KSxhZGRMaW5lTnVtYmVycz1mdW5jdGlvbihzdHJpbmcpe2Zvcih2YXIgbGluZXM9c3RyaW5nLnNwbGl0KFwiXFxuXCIpLGk9MDtpPGxpbmVzLmxlbmd0aDtpKyspbGluZXNbaV09aSsxK1wiOiBcIitsaW5lc1tpXTtyZXR1cm4gbGluZXMuam9pbihcIlxcblwiKX0sY2xvbmVBcnJheT1mdW5jdGlvbihtQXJyYXkpe3JldHVybiBtQXJyYXkuc2xpY2U/bUFycmF5LnNsaWNlKDApOm5ldyBGbG9hdDMyQXJyYXkobUFycmF5KX0sZ2w9dm9pZCAwLGRlZmF1bHRWZXJ0ZXhTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg5KSxkZWZhdWx0RnJhZ21lbnRTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg0OCksdW5pZm9ybU1hcHBpbmc9e2Zsb2F0OlwidW5pZm9ybTFmXCIsdmVjMjpcInVuaWZvcm0yZnZcIix2ZWMzOlwidW5pZm9ybTNmdlwiLHZlYzQ6XCJ1bmlmb3JtNGZ2XCIsaW50OlwidW5pZm9ybTFpXCIsbWF0MzpcInVuaWZvcm1NYXRyaXgzZnZcIixtYXQ0OlwidW5pZm9ybU1hdHJpeDRmdlwifSxHTFNoYWRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIEdMU2hhZGVyKCl7dmFyIHN0clZlcnRleFNoYWRlcj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ZGVmYXVsdFZlcnRleFNoYWRlcixzdHJGcmFnbWVudFNoYWRlcj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ZGVmYXVsdEZyYWdtZW50U2hhZGVyLG1WYXJ5aW5ncz1hcmd1bWVudHNbMl07X2NsYXNzQ2FsbENoZWNrKHRoaXMsR0xTaGFkZXIpLGdsPV9HTFRvb2wyLmRlZmF1bHQuZ2wsdGhpcy5wYXJhbWV0ZXJzPVtdLHRoaXMudW5pZm9ybVRleHR1cmVzPVtdLHRoaXMuX3ZhcnlpbmdzPW1WYXJ5aW5ncyxzdHJWZXJ0ZXhTaGFkZXJ8fChzdHJWZXJ0ZXhTaGFkZXI9ZGVmYXVsdFZlcnRleFNoYWRlciksc3RyRnJhZ21lbnRTaGFkZXJ8fChzdHJGcmFnbWVudFNoYWRlcj1kZWZhdWx0VmVydGV4U2hhZGVyKTt2YXIgdnNTaGFkZXI9dGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShzdHJWZXJ0ZXhTaGFkZXIsITApLGZzU2hhZGVyPXRoaXMuX2NyZWF0ZVNoYWRlclByb2dyYW0oc3RyRnJhZ21lbnRTaGFkZXIsITEpO3RoaXMuX2F0dGFjaFNoYWRlclByb2dyYW0odnNTaGFkZXIsZnNTaGFkZXIpfXJldHVybiBfY3JlYXRlQ2xhc3MoR0xTaGFkZXIsW3trZXk6XCJiaW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXtfR0xUb29sMi5kZWZhdWx0LnNoYWRlciE9PXRoaXMmJihnbC51c2VQcm9ncmFtKHRoaXMuc2hhZGVyUHJvZ3JhbSksX0dMVG9vbDIuZGVmYXVsdC51c2VTaGFkZXIodGhpcyksdGhpcy51bmlmb3JtVGV4dHVyZXM9W10pfX0se2tleTpcInVuaWZvcm1cIix2YWx1ZTpmdW5jdGlvbihtTmFtZSxtVHlwZSxtVmFsdWUpe2lmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09bU5hbWU/XCJ1bmRlZmluZWRcIjpfdHlwZW9mKG1OYW1lKSkpcmV0dXJuIHZvaWQgdGhpcy51bmlmb3JtT2JqZWN0KG1OYW1lKTtmb3IodmFyIHVuaWZvcm1UeXBlPXVuaWZvcm1NYXBwaW5nW21UeXBlXXx8bVR5cGUsaGFzVW5pZm9ybT0hMSxvVW5pZm9ybT12b2lkIDAscGFyYW1ldGVySW5kZXg9LTEsaT0wO2k8dGhpcy5wYXJhbWV0ZXJzLmxlbmd0aDtpKyspaWYob1VuaWZvcm09dGhpcy5wYXJhbWV0ZXJzW2ldLG9Vbmlmb3JtLm5hbWU9PT1tTmFtZSl7aGFzVW5pZm9ybT0hMCxwYXJhbWV0ZXJJbmRleD1pO2JyZWFrfXZhciBpc051bWJlcj0hMTtpZihoYXNVbmlmb3JtPyh0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdPW9Vbmlmb3JtLnVuaWZvcm1Mb2MsaXNOdW1iZXI9b1VuaWZvcm0uaXNOdW1iZXIpOihpc051bWJlcj1cInVuaWZvcm0xaVwiPT09dW5pZm9ybVR5cGV8fFwidW5pZm9ybTFmXCI9PT11bmlmb3JtVHlwZSx0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdPWdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnNoYWRlclByb2dyYW0sbU5hbWUpLGlzTnVtYmVyP3RoaXMucGFyYW1ldGVycy5wdXNoKHtuYW1lOm1OYW1lLHR5cGU6dW5pZm9ybVR5cGUsdmFsdWU6bVZhbHVlLHVuaWZvcm1Mb2M6dGhpcy5zaGFkZXJQcm9ncmFtW21OYW1lXSxpc051bWJlcjppc051bWJlcn0pOnRoaXMucGFyYW1ldGVycy5wdXNoKHtuYW1lOm1OYW1lLHR5cGU6dW5pZm9ybVR5cGUsdmFsdWU6Y2xvbmVBcnJheShtVmFsdWUpLHVuaWZvcm1Mb2M6dGhpcy5zaGFkZXJQcm9ncmFtW21OYW1lXSxpc051bWJlcjppc051bWJlcn0pLHBhcmFtZXRlckluZGV4PXRoaXMucGFyYW1ldGVycy5sZW5ndGgtMSksdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS51bmlmb3JtTG9jKWlmKC0xPT09dW5pZm9ybVR5cGUuaW5kZXhPZihcIk1hdHJpeFwiKSlpZihpc051bWJlcil7dmFyIG5lZWRVcGRhdGU9dGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS52YWx1ZSE9PW1WYWx1ZXx8IWhhc1VuaWZvcm07bmVlZFVwZGF0ZSYmKGdsW3VuaWZvcm1UeXBlXSh0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdLG1WYWx1ZSksdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS52YWx1ZT1tVmFsdWUpfWVsc2UgaXNTYW1lKHRoaXMucGFyYW1ldGVyc1twYXJhbWV0ZXJJbmRleF0udmFsdWUsbVZhbHVlKSYmaGFzVW5pZm9ybXx8KGdsW3VuaWZvcm1UeXBlXSh0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdLG1WYWx1ZSksdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS52YWx1ZT1jbG9uZUFycmF5KG1WYWx1ZSkpO2Vsc2UgaXNTYW1lKHRoaXMucGFyYW1ldGVyc1twYXJhbWV0ZXJJbmRleF0udmFsdWUsbVZhbHVlKSYmaGFzVW5pZm9ybXx8KGdsW3VuaWZvcm1UeXBlXSh0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdLCExLG1WYWx1ZSksdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS52YWx1ZT1jbG9uZUFycmF5KG1WYWx1ZSkpfX0se2tleTpcInVuaWZvcm1PYmplY3RcIix2YWx1ZTpmdW5jdGlvbihtVW5pZm9ybU9iail7Zm9yKHZhciB1bmlmb3JtTmFtZSBpbiBtVW5pZm9ybU9iail7dmFyIHVuaWZvcm1WYWx1ZT1tVW5pZm9ybU9ialt1bmlmb3JtTmFtZV0sdW5pZm9ybVR5cGU9R0xTaGFkZXIuZ2V0VW5pZm9ybVR5cGUodW5pZm9ybVZhbHVlKTtpZih1bmlmb3JtVmFsdWUuY29uY2F0JiZ1bmlmb3JtVmFsdWVbMF0uY29uY2F0KXtmb3IodmFyIHRtcD1bXSxpPTA7aTx1bmlmb3JtVmFsdWUubGVuZ3RoO2krKyl0bXA9dG1wLmNvbmNhdCh1bmlmb3JtVmFsdWVbaV0pO3VuaWZvcm1WYWx1ZT10bXB9dGhpcy51bmlmb3JtKHVuaWZvcm1OYW1lLHVuaWZvcm1UeXBlLHVuaWZvcm1WYWx1ZSl9fX0se2tleTpcIl9jcmVhdGVTaGFkZXJQcm9ncmFtXCIsdmFsdWU6ZnVuY3Rpb24obVNoYWRlclN0cixpc1ZlcnRleFNoYWRlcil7dmFyIHNoYWRlclR5cGU9aXNWZXJ0ZXhTaGFkZXI/X0dMVG9vbDIuZGVmYXVsdC5WRVJURVhfU0hBREVSOl9HTFRvb2wyLmRlZmF1bHQuRlJBR01FTlRfU0hBREVSLHNoYWRlcj1nbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7cmV0dXJuIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsbVNoYWRlclN0ciksZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpLGdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsZ2wuQ09NUElMRV9TVEFUVVMpP3NoYWRlcjooY29uc29sZS53YXJuKFwiRXJyb3IgaW4gU2hhZGVyIDogXCIsZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKSxjb25zb2xlLmxvZyhhZGRMaW5lTnVtYmVycyhtU2hhZGVyU3RyKSksbnVsbCl9fSx7a2V5OlwiX2F0dGFjaFNoYWRlclByb2dyYW1cIix2YWx1ZTpmdW5jdGlvbihtVmVydGV4U2hhZGVyLG1GcmFnbWVudFNoYWRlcil7dGhpcy5zaGFkZXJQcm9ncmFtPWdsLmNyZWF0ZVByb2dyYW0oKSxnbC5hdHRhY2hTaGFkZXIodGhpcy5zaGFkZXJQcm9ncmFtLG1WZXJ0ZXhTaGFkZXIpLGdsLmF0dGFjaFNoYWRlcih0aGlzLnNoYWRlclByb2dyYW0sbUZyYWdtZW50U2hhZGVyKSxnbC5kZWxldGVTaGFkZXIobVZlcnRleFNoYWRlciksZ2wuZGVsZXRlU2hhZGVyKG1GcmFnbWVudFNoYWRlciksdGhpcy5fdmFyeWluZ3MmJihjb25zb2xlLmxvZyhcIlRyYW5zZm9ybSBmZWVkYmFjayBzZXR1cCA6IFwiLHRoaXMuX3ZhcnlpbmdzKSxnbC50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzKHRoaXMuc2hhZGVyUHJvZ3JhbSx0aGlzLl92YXJ5aW5ncyxnbC5TRVBBUkFURV9BVFRSSUJTKSksZ2wubGlua1Byb2dyYW0odGhpcy5zaGFkZXJQcm9ncmFtKX19XSksR0xTaGFkZXJ9KCk7R0xTaGFkZXIuZ2V0VW5pZm9ybVR5cGU9ZnVuY3Rpb24obVZhbHVlKXt2YXIgaXNBcnJheT0hIW1WYWx1ZS5jb25jYXQsZ2V0QXJyYXlVbmlmb3JtVHlwZT1mdW5jdGlvbihtVmFsdWUpe3JldHVybiA5PT09bVZhbHVlLmxlbmd0aD9cInVuaWZvcm1NYXRyaXgzZnZcIjoxNj09PW1WYWx1ZS5sZW5ndGg/XCJ1bmlmb3JtTWF0cml4NGZ2XCI6XCJ2ZWNcIittVmFsdWUubGVuZ3RofTtyZXR1cm4gaXNBcnJheT9nZXRBcnJheVVuaWZvcm1UeXBlKG1WYWx1ZVswXS5jb25jYXQ/bVZhbHVlWzBdOm1WYWx1ZSk6XCJmbG9hdFwifSxleHBvcnRzLmRlZmF1bHQ9R0xTaGFkZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy52ZWM0PWV4cG9ydHMudmVjMz1leHBvcnRzLnZlYzI9ZXhwb3J0cy5xdWF0Mj1leHBvcnRzLnF1YXQ9ZXhwb3J0cy5tYXQ0PWV4cG9ydHMubWF0Mz1leHBvcnRzLm1hdDJkPWV4cG9ydHMubWF0Mj1leHBvcnRzLmdsTWF0cml4PXZvaWQgMDt2YXIgX2NvbW1vbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGdsTWF0cml4PV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb21tb24pLF9tYXQ9X193ZWJwYWNrX3JlcXVpcmVfXygzOCksbWF0Mj1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWF0KSxfbWF0MmQ9X193ZWJwYWNrX3JlcXVpcmVfXygzOSksbWF0MmQ9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX21hdDJkKSxfbWF0Mj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxtYXQzPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9tYXQyKSxfbWF0Mz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSxtYXQ0PV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9tYXQzKSxfcXVhdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSxxdWF0PV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9xdWF0KSxfcXVhdDI9X193ZWJwYWNrX3JlcXVpcmVfXyg0MCkscXVhdDI9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3F1YXQyKSxfdmVjPV9fd2VicGFja19yZXF1aXJlX18oNDEpLHZlYzI9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3ZlYyksX3ZlYzI9X193ZWJwYWNrX3JlcXVpcmVfXygyMSksdmVjMz1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdmVjMiksX3ZlYzM9X193ZWJwYWNrX3JlcXVpcmVfXygyMiksdmVjND1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdmVjMyk7ZXhwb3J0cy5nbE1hdHJpeD1nbE1hdHJpeCxleHBvcnRzLm1hdDI9bWF0MixleHBvcnRzLm1hdDJkPW1hdDJkLGV4cG9ydHMubWF0Mz1tYXQzLGV4cG9ydHMubWF0ND1tYXQ0LGV4cG9ydHMucXVhdD1xdWF0LGV4cG9ydHMucXVhdDI9cXVhdDIsZXhwb3J0cy52ZWMyPXZlYzIsZXhwb3J0cy52ZWMzPXZlYzMsZXhwb3J0cy52ZWM0PXZlYzR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKXtleHBvcnRzLkFSUkFZX1RZUEU9QVJSQVlfVFlQRT10eXBlfWZ1bmN0aW9uIHRvUmFkaWFuKGEpe3JldHVybiBhKmRlZ3JlZX1mdW5jdGlvbiBlcXVhbHMoYSxiKXtyZXR1cm4gTWF0aC5hYnMoYS1iKTw9RVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEpLE1hdGguYWJzKGIpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNldE1hdHJpeEFycmF5VHlwZT1zZXRNYXRyaXhBcnJheVR5cGUsZXhwb3J0cy50b1JhZGlhbj10b1JhZGlhbixleHBvcnRzLmVxdWFscz1lcXVhbHM7dmFyIEVQU0lMT049ZXhwb3J0cy5FUFNJTE9OPTFlLTYsQVJSQVlfVFlQRT1leHBvcnRzLkFSUkFZX1RZUEU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9GbG9hdDMyQXJyYXk6QXJyYXksZGVncmVlPShleHBvcnRzLlJBTkRPTT1NYXRoLnJhbmRvbSxNYXRoLlBJLzE4MCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLFNjaGVkdWxlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIFNjaGVkdWxlcigpe19jbGFzc0NhbGxDaGVjayh0aGlzLFNjaGVkdWxlciksdGhpcy5fZGVsYXlUYXNrcz1bXSx0aGlzLl9uZXh0VGFza3M9W10sdGhpcy5fZGVmZXJUYXNrcz1bXSx0aGlzLl9oaWdoVGFza3M9W10sdGhpcy5fdXN1cnBUYXNrPVtdLHRoaXMuX2VudGVyZnJhbWVUYXNrcz1bXSx0aGlzLl9pZFRhYmxlPTAsdGhpcy5fc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuX2RlbHRhVGltZT0wLHRoaXMuX2ludGVybmFsVGltZT0wLHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuX2xvb3AoKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKFNjaGVkdWxlcixbe2tleTpcImFkZEVGXCIsdmFsdWU6ZnVuY3Rpb24oZnVuYyxwYXJhbXMpe3BhcmFtcz1wYXJhbXN8fFtdO3ZhciBpZD10aGlzLl9pZFRhYmxlO3JldHVybiB0aGlzLl9lbnRlcmZyYW1lVGFza3NbaWRdPXtmdW5jOmZ1bmMscGFyYW1zOnBhcmFtc30sdGhpcy5faWRUYWJsZSsrLGlkfX0se2tleTpcInJlbW92ZUVGXCIsdmFsdWU6ZnVuY3Rpb24oaWQpe3JldHVybiB2b2lkIDAhPT10aGlzLl9lbnRlcmZyYW1lVGFza3NbaWRdJiYodGhpcy5fZW50ZXJmcmFtZVRhc2tzW2lkXT1udWxsKSwtMX19LHtrZXk6XCJkZWxheVwiLHZhbHVlOmZ1bmN0aW9uKGZ1bmMscGFyYW1zLF9kZWxheSl7dmFyIHRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdD17ZnVuYzpmdW5jLHBhcmFtczpwYXJhbXMsZGVsYXk6X2RlbGF5LHRpbWU6dGltZX07dGhpcy5fZGVsYXlUYXNrcy5wdXNoKHQpfX0se2tleTpcImRlZmVyXCIsdmFsdWU6ZnVuY3Rpb24oZnVuYyxwYXJhbXMpe3ZhciB0PXtmdW5jOmZ1bmMscGFyYW1zOnBhcmFtc307dGhpcy5fZGVmZXJUYXNrcy5wdXNoKHQpfX0se2tleTpcIm5leHRcIix2YWx1ZTpmdW5jdGlvbihmdW5jLHBhcmFtcyl7dmFyIHQ9e2Z1bmM6ZnVuYyxwYXJhbXM6cGFyYW1zfTt0aGlzLl9uZXh0VGFza3MucHVzaCh0KX19LHtrZXk6XCJ1c3VycFwiLHZhbHVlOmZ1bmN0aW9uKGZ1bmMscGFyYW1zKXt2YXIgdD17ZnVuYzpmdW5jLHBhcmFtczpwYXJhbXN9O3RoaXMuX3VzdXJwVGFzay5wdXNoKHQpfX0se2tleTpcInBhdXNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9pc1BhdXNlZD0hMH19LHtrZXk6XCJhZHZhbmNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9pbnRlcm5hbFRpbWUrPTEvNjB9fSx7a2V5OlwicmVzdW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9pc1BhdXNlZD0hMX19LHtrZXk6XCJfcHJvY2Vzc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGk9MCx0YXNrPXZvaWQgMCxpbnRlcnZhbD12b2lkIDA7Zm9yKGk9MDtpPHRoaXMuX2VudGVyZnJhbWVUYXNrcy5sZW5ndGg7aSsrKW51bGwhPT0odGFzaz10aGlzLl9lbnRlcmZyYW1lVGFza3NbaV0pJiZ2b2lkIDAhPT10YXNrJiZ0YXNrLmZ1bmModGFzay5wYXJhbXMpO2Zvcig7dGhpcy5faGlnaFRhc2tzLmxlbmd0aD4wOyl0YXNrPXRoaXMuX2hpZ2hUYXNrcy5wb3AoKSx0YXNrLmZ1bmModGFzay5wYXJhbXMpO3ZhciBzdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksX3N0YXJ0VGltZT10aGlzLl9kZWx0YVRpbWU7Zm9yKHRoaXMuX2RlbHRhVGltZT0oc3RhcnRUaW1lLXRoaXMuX3N0YXJ0VGltZSkvMWUzLGk9MDtpPHRoaXMuX2RlbGF5VGFza3MubGVuZ3RoO2krKyl0YXNrPXRoaXMuX2RlbGF5VGFza3NbaV0sc3RhcnRUaW1lLXRhc2sudGltZT50YXNrLmRlbGF5JiYodGFzay5mdW5jKHRhc2sucGFyYW1zKSx0aGlzLl9kZWxheVRhc2tzLnNwbGljZShpLDEpKTtmb3Ioc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuX2RlbHRhVGltZT0oc3RhcnRUaW1lLXRoaXMuX3N0YXJ0VGltZSkvMWUzLGludGVydmFsPTFlMy82MDt0aGlzLl9kZWZlclRhc2tzLmxlbmd0aD4wOyl7aWYodGFzaz10aGlzLl9kZWZlclRhc2tzLnNoaWZ0KCksISgobmV3IERhdGUpLmdldFRpbWUoKS1zdGFydFRpbWU8aW50ZXJ2YWwpKXt0aGlzLl9kZWZlclRhc2tzLnVuc2hpZnQodGFzayk7YnJlYWt9dGFzay5mdW5jKHRhc2sucGFyYW1zKX1mb3Ioc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuX2RlbHRhVGltZT0oc3RhcnRUaW1lLXRoaXMuX3N0YXJ0VGltZSkvMWUzLGludGVydmFsPTFlMy82MDt0aGlzLl91c3VycFRhc2subGVuZ3RoPjA7KXRhc2s9dGhpcy5fdXN1cnBUYXNrLnNoaWZ0KCksKG5ldyBEYXRlKS5nZXRUaW1lKCktc3RhcnRUaW1lPGludGVydmFsJiZ0YXNrLmZ1bmModGFzay5wYXJhbXMpO3RoaXMuX2hpZ2hUYXNrcz10aGlzLl9oaWdoVGFza3MuY29uY2F0KHRoaXMuX25leHRUYXNrcyksdGhpcy5fbmV4dFRhc2tzPVtdLHRoaXMuX3VzdXJwVGFzaz1bXSx0aGlzLl9pc1BhdXNlZHx8KHRoaXMuX2ludGVybmFsVGltZSs9dGhpcy5fZGVsdGFUaW1lLV9zdGFydFRpbWUpfX0se2tleTpcIl9sb29wXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt0aGlzLl9wcm9jZXNzKCksd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3JldHVybiBfdGhpcy5fbG9vcCgpfSl9fSx7a2V5OlwiaW50ZXJ2YWxUaW1lXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsVGltZX19LHtrZXk6XCJkZWx0YVRpbWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsdGFUaW1lfX1dKSxTY2hlZHVsZXJ9KCksc2NoZWR1bGVyPW5ldyBTY2hlZHVsZXI7ZXhwb3J0cy5kZWZhdWx0PXNjaGVkdWxlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9nZXRBdHRyaWJMb2M9X193ZWJwYWNrX3JlcXVpcmVfXygyNCksX2dldEF0dHJpYkxvYzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0QXR0cmliTG9jKSxnbD12b2lkIDAsZ2V0QnVmZmVyPWZ1bmN0aW9uKGF0dHIpe3ZhciBidWZmZXI9dm9pZCAwO3JldHVybiB2b2lkIDAhPT1hdHRyLmJ1ZmZlcj9idWZmZXI9YXR0ci5idWZmZXI6KGJ1ZmZlcj1nbC5jcmVhdGVCdWZmZXIoKSxhdHRyLmJ1ZmZlcj1idWZmZXIpLGJ1ZmZlcn0sZm9ybUJ1ZmZlcj1mdW5jdGlvbihtRGF0YSxtTnVtKXtmb3IodmFyIGFyeT1bXSxpPTA7aTxtRGF0YS5sZW5ndGg7aSs9bU51bSl7Zm9yKHZhciBvPVtdLGo9MDtqPG1OdW07aisrKW8ucHVzaChtRGF0YVtpK2pdKTthcnkucHVzaChvKX1yZXR1cm4gYXJ5fSxNZXNoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTWVzaCgpe3ZhciBtRHJhd2luZ1R5cGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjQsbVVzZVZhbz0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO19jbGFzc0NhbGxDaGVjayh0aGlzLE1lc2gpLGdsPV9HTFRvb2wyLmRlZmF1bHQuZ2wsdGhpcy5kcmF3VHlwZT1tRHJhd2luZ1R5cGUsdGhpcy5fYXR0cmlidXRlcz1bXSx0aGlzLl9udW1JbnN0YW5jZT0tMSx0aGlzLl9lbmFibGVkVmVydGV4QXR0cmlidXRlPVtdLHRoaXMuX2luZGljZXM9W10sdGhpcy5fZmFjZXM9W10sdGhpcy5fYnVmZmVyQ2hhbmdlZD1bXSx0aGlzLl9oYXNJbmRleEJ1ZmZlckNoYW5nZWQ9ITEsdGhpcy5faGFzVkFPPSExLHRoaXMuX2lzSW5zdGFuY2VkPSExLHRoaXMuX2V4dFZBTz0hIV9HTFRvb2wyLmRlZmF1bHQuZ2wuY3JlYXRlVmVydGV4QXJyYXksdGhpcy5fdXNlVkFPPSEhdGhpcy5fZXh0VkFPJiZtVXNlVmFvfXJldHVybiBfY3JlYXRlQ2xhc3MoTWVzaCxbe2tleTpcImJ1ZmZlclZlcnRleFwiLHZhbHVlOmZ1bmN0aW9uKG1BcnJheVZlcnRpY2VzKXt2YXIgbURyYXdUeXBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTozNTA0NDtyZXR1cm4gdGhpcy5idWZmZXJEYXRhKG1BcnJheVZlcnRpY2VzLFwiYVZlcnRleFBvc2l0aW9uXCIsMyxtRHJhd1R5cGUpLHRoaXMubm9ybWFscy5sZW5ndGg8dGhpcy52ZXJ0aWNlcy5sZW5ndGgmJnRoaXMuYnVmZmVyTm9ybWFsKG1BcnJheVZlcnRpY2VzLG1EcmF3VHlwZSksdGhpc319LHtrZXk6XCJidWZmZXJUZXhDb29yZFwiLHZhbHVlOmZ1bmN0aW9uKG1BcnJheVRleENvb3Jkcyl7dmFyIG1EcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MzUwNDQ7cmV0dXJuIHRoaXMuYnVmZmVyRGF0YShtQXJyYXlUZXhDb29yZHMsXCJhVGV4dHVyZUNvb3JkXCIsMixtRHJhd1R5cGUpLHRoaXN9fSx7a2V5OlwiYnVmZmVyTm9ybWFsXCIsdmFsdWU6ZnVuY3Rpb24obU5vcm1hbHMpe3ZhciBtRHJhd1R5cGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjM1MDQ0O3JldHVybiB0aGlzLmJ1ZmZlckRhdGEobU5vcm1hbHMsXCJhTm9ybWFsXCIsMyxtRHJhd1R5cGUpLHRoaXN9fSx7a2V5OlwiYnVmZmVySW5kZXhcIix2YWx1ZTpmdW5jdGlvbihtQXJyYXlJbmRpY2VzKXt2YXIgaXNEeW5hbWljPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuX2RyYXdUeXBlPWlzRHluYW1pYz9nbC5EWU5BTUlDX0RSQVc6Z2wuU1RBVElDX0RSQVcsdGhpcy5faW5kaWNlcz1uZXcgVWludDE2QXJyYXkobUFycmF5SW5kaWNlcyksdGhpcy5fbnVtSXRlbXM9dGhpcy5faW5kaWNlcy5sZW5ndGgsdGhpc319LHtrZXk6XCJidWZmZXJGbGF0dGVuRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKG1EYXRhLG1OYW1lLG1JdGVtU2l6ZSl7dmFyIGRhdGE9KGFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM10sYXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxmb3JtQnVmZmVyKG1EYXRhLG1JdGVtU2l6ZSkpO3JldHVybiB0aGlzLmJ1ZmZlckRhdGEoZGF0YSxtTmFtZSxtSXRlbVNpemUsMzUwNDQsITEpLHRoaXN9fSx7a2V5OlwiYnVmZmVyRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKG1EYXRhLG1OYW1lLG1JdGVtU2l6ZSl7dmFyIG1EcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MzUwNDQsaXNJbnN0YW5jZWQ9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxpPTAsZHJhd1R5cGU9bURyYXdUeXBlLGJ1ZmZlckRhdGE9W107Zm9yKG1JdGVtU2l6ZXx8KG1JdGVtU2l6ZT1tRGF0YVswXS5sZW5ndGgpLHRoaXMuX2lzSW5zdGFuY2VkPWlzSW5zdGFuY2VkfHx0aGlzLl9pc0luc3RhbmNlZCxpPTA7aTxtRGF0YS5sZW5ndGg7aSsrKWZvcih2YXIgaj0wO2o8bURhdGFbaV0ubGVuZ3RoO2orKylidWZmZXJEYXRhLnB1c2gobURhdGFbaV1bal0pO3ZhciBkYXRhQXJyYXk9bmV3IEZsb2F0MzJBcnJheShidWZmZXJEYXRhKSxhdHRyaWJ1dGU9dGhpcy5nZXRBdHRyaWJ1dGUobU5hbWUpO3JldHVybiBhdHRyaWJ1dGU/KGF0dHJpYnV0ZS5pdGVtU2l6ZT1tSXRlbVNpemUsYXR0cmlidXRlLmRhdGFBcnJheT1kYXRhQXJyYXksYXR0cmlidXRlLnNvdXJjZT1tRGF0YSk6dGhpcy5fYXR0cmlidXRlcy5wdXNoKHtuYW1lOm1OYW1lLHNvdXJjZTptRGF0YSxpdGVtU2l6ZTptSXRlbVNpemUsZHJhd1R5cGU6ZHJhd1R5cGUsZGF0YUFycmF5OmRhdGFBcnJheSxpc0luc3RhbmNlZDppc0luc3RhbmNlZH0pLHRoaXMuX2J1ZmZlckNoYW5nZWQucHVzaChtTmFtZSksdGhpc319LHtrZXk6XCJidWZmZXJJbnN0YW5jZVwiLHZhbHVlOmZ1bmN0aW9uKG1EYXRhLG1OYW1lKXtpZighX0dMVG9vbDIuZGVmYXVsdC5nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJFeHRlbnNpb24gOiBBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGlzIGRldmljZSAhXCIpO3ZhciBpdGVtU2l6ZT1tRGF0YVswXS5sZW5ndGg7dGhpcy5fbnVtSW5zdGFuY2U9bURhdGEubGVuZ3RoLHRoaXMuYnVmZmVyRGF0YShtRGF0YSxtTmFtZSxpdGVtU2l6ZSwzNTA0NCwhMCl9fSx7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKG1TaGFkZXJQcm9ncmFtKXt0aGlzLmdlbmVyYXRlQnVmZmVycyhtU2hhZGVyUHJvZ3JhbSksdGhpcy5oYXNWQU8/Z2wuYmluZFZlcnRleEFycmF5KHRoaXMudmFvKToodGhpcy5hdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24oYXR0cmlidXRlKXtnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUixhdHRyaWJ1dGUuYnVmZmVyKTt2YXIgYXR0clBvc2l0aW9uPWF0dHJpYnV0ZS5hdHRyUG9zaXRpb247Z2wudmVydGV4QXR0cmliUG9pbnRlcihhdHRyUG9zaXRpb24sYXR0cmlidXRlLml0ZW1TaXplLGdsLkZMT0FULCExLDAsMCksYXR0cmlidXRlLmlzSW5zdGFuY2VkJiZnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGF0dHJQb3NpdGlvbiwxKX0pLGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pQnVmZmVyKSl9fSx7a2V5OlwiZ2VuZXJhdGVCdWZmZXJzXCIsdmFsdWU6ZnVuY3Rpb24obVNoYWRlclByb2dyYW0pe3ZhciBfdGhpcz10aGlzOzAhPXRoaXMuX2J1ZmZlckNoYW5nZWQubGVuZ3RoJiYodGhpcy5fdXNlVkFPPyh0aGlzLl92YW98fCh0aGlzLl92YW89Z2wuY3JlYXRlVmVydGV4QXJyYXkoKSksZ2wuYmluZFZlcnRleEFycmF5KHRoaXMuX3ZhbyksdGhpcy5fYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJPYmope2lmKC0xIT09X3RoaXMuX2J1ZmZlckNoYW5nZWQuaW5kZXhPZihhdHRyT2JqLm5hbWUpKXt2YXIgYnVmZmVyPWdldEJ1ZmZlcihhdHRyT2JqKTtnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUixidWZmZXIpLGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLGF0dHJPYmouZGF0YUFycmF5LGF0dHJPYmouZHJhd1R5cGUpO3ZhciBhdHRyUG9zaXRpb249KDAsX2dldEF0dHJpYkxvYzIuZGVmYXVsdCkoZ2wsbVNoYWRlclByb2dyYW0sYXR0ck9iai5uYW1lKTtnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhdHRyUG9zaXRpb24pLGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0clBvc2l0aW9uLGF0dHJPYmouaXRlbVNpemUsZ2wuRkxPQVQsITEsMCwwKSxhdHRyT2JqLmF0dHJQb3NpdGlvbj1hdHRyUG9zaXRpb24sYXR0ck9iai5pc0luc3RhbmNlZCYmZ2wudmVydGV4QXR0cmliRGl2aXNvcihhdHRyUG9zaXRpb24sMSl9fSksdGhpcy5fdXBkYXRlSW5kZXhCdWZmZXIoKSxnbC5iaW5kVmVydGV4QXJyYXkobnVsbCksdGhpcy5faGFzVkFPPSEwKToodGhpcy5fYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJPYmope2lmKC0xIT09X3RoaXMuX2J1ZmZlckNoYW5nZWQuaW5kZXhPZihhdHRyT2JqLm5hbWUpKXt2YXIgYnVmZmVyPWdldEJ1ZmZlcihhdHRyT2JqKTtnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUixidWZmZXIpLGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLGF0dHJPYmouZGF0YUFycmF5LGF0dHJPYmouZHJhd1R5cGUpO3ZhciBhdHRyUG9zaXRpb249KDAsX2dldEF0dHJpYkxvYzIuZGVmYXVsdCkoZ2wsbVNoYWRlclByb2dyYW0sYXR0ck9iai5uYW1lKTtnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhdHRyUG9zaXRpb24pLGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0clBvc2l0aW9uLGF0dHJPYmouaXRlbVNpemUsZ2wuRkxPQVQsITEsMCwwKSxhdHRyT2JqLmF0dHJQb3NpdGlvbj1hdHRyUG9zaXRpb24sYXR0ck9iai5pc0luc3RhbmNlZCYmZ2wudmVydGV4QXR0cmliRGl2aXNvcihhdHRyUG9zaXRpb24sMSl9fSksdGhpcy5fdXBkYXRlSW5kZXhCdWZmZXIoKSksdGhpcy5faGFzSW5kZXhCdWZmZXJDaGFuZ2VkPSExLHRoaXMuX2J1ZmZlckNoYW5nZWQ9W10pfX0se2tleTpcInVuYmluZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdXNlVkFPJiZnbC5iaW5kVmVydGV4QXJyYXkobnVsbCksdGhpcy5fYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJpYnV0ZSl7YXR0cmlidXRlLmlzSW5zdGFuY2VkJiZnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGF0dHJpYnV0ZS5hdHRyUG9zaXRpb24sMCl9KX19LHtrZXk6XCJfdXBkYXRlSW5kZXhCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2hhc0luZGV4QnVmZmVyQ2hhbmdlZHx8KHRoaXMuaUJ1ZmZlcnx8KHRoaXMuaUJ1ZmZlcj1nbC5jcmVhdGVCdWZmZXIoKSksZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmlCdWZmZXIpLGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5faW5kaWNlcyx0aGlzLl9kcmF3VHlwZSksdGhpcy5pQnVmZmVyLml0ZW1TaXplPTEsdGhpcy5pQnVmZmVyLm51bUl0ZW1zPXRoaXMuX251bUl0ZW1zKX19LHtrZXk6XCJjb21wdXRlTm9ybWFsc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHVzaW5nRmFjZU5vcm1hbHM9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTt0aGlzLmdlbmVyYXRlRmFjZXMoKSx1c2luZ0ZhY2VOb3JtYWxzP3RoaXMuX2NvbXB1dGVGYWNlTm9ybWFscygpOnRoaXMuX2NvbXB1dGVWZXJ0ZXhOb3JtYWxzKCl9fSx7a2V5OlwiX2NvbXB1dGVGYWNlTm9ybWFsc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBmYWNlSW5kZXg9dm9pZCAwLGZhY2U9dm9pZCAwLG5vcm1hbHM9W10saT0wO2k8dGhpcy5faW5kaWNlcy5sZW5ndGg7aSs9Myl7ZmFjZUluZGV4PWkvMyxmYWNlPXRoaXMuX2ZhY2VzW2ZhY2VJbmRleF07dmFyIE49ZmFjZS5ub3JtYWw7bm9ybWFsc1tmYWNlLmluZGljZXNbMF1dPU4sbm9ybWFsc1tmYWNlLmluZGljZXNbMV1dPU4sbm9ybWFsc1tmYWNlLmluZGljZXNbMl1dPU59dGhpcy5idWZmZXJOb3JtYWwobm9ybWFscyl9fSx7a2V5OlwiX2NvbXB1dGVWZXJ0ZXhOb3JtYWxzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGZhY2U9dm9pZCAwLHN1bU5vcm1hbD1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxub3JtYWxzPVtdLHZlcnRpY2VzPXRoaXMudmVydGljZXMsaT0wO2k8dmVydGljZXMubGVuZ3RoO2krKyl7X2dsTWF0cml4LnZlYzMuc2V0KHN1bU5vcm1hbCwwLDAsMCk7Zm9yKHZhciBqPTA7ajx0aGlzLl9mYWNlcy5sZW5ndGg7aisrKWZhY2U9dGhpcy5fZmFjZXNbal0sZmFjZS5pbmRpY2VzLmluZGV4T2YoaSk+PTAmJihzdW1Ob3JtYWxbMF0rPWZhY2Uubm9ybWFsWzBdLHN1bU5vcm1hbFsxXSs9ZmFjZS5ub3JtYWxbMV0sc3VtTm9ybWFsWzJdKz1mYWNlLm5vcm1hbFsyXSk7X2dsTWF0cml4LnZlYzMubm9ybWFsaXplKHN1bU5vcm1hbCxzdW1Ob3JtYWwpLG5vcm1hbHMucHVzaChbc3VtTm9ybWFsWzBdLHN1bU5vcm1hbFsxXSxzdW1Ob3JtYWxbMl1dKX10aGlzLmJ1ZmZlck5vcm1hbChub3JtYWxzKX19LHtrZXk6XCJnZW5lcmF0ZUZhY2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGlhPXZvaWQgMCxpYj12b2lkIDAsaWM9dm9pZCAwLGE9dm9pZCAwLGI9dm9pZCAwLGM9dm9pZCAwLHZlcnRpY2VzPShfZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxfZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxfZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx0aGlzLnZlcnRpY2VzKSxpPTA7aTx0aGlzLl9pbmRpY2VzLmxlbmd0aDtpKz0zKXtpYT10aGlzLl9pbmRpY2VzW2ldLGliPXRoaXMuX2luZGljZXNbaSsxXSxpYz10aGlzLl9pbmRpY2VzW2krMl0sYT12ZXJ0aWNlc1tpYV0sYj12ZXJ0aWNlc1tpYl0sYz12ZXJ0aWNlc1tpY107dmFyIGZhY2U9e2luZGljZXM6W2lhLGliLGljXSx2ZXJ0aWNlczpbYSxiLGNdfTt0aGlzLl9mYWNlcy5wdXNoKGZhY2UpfX19LHtrZXk6XCJnZXRBdHRyaWJ1dGVcIix2YWx1ZTpmdW5jdGlvbihtTmFtZSl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXMuZmluZChmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT09bU5hbWV9KX19LHtrZXk6XCJnZXRTb3VyY2VcIix2YWx1ZTpmdW5jdGlvbihtTmFtZSl7dmFyIGF0dHI9dGhpcy5nZXRBdHRyaWJ1dGUobU5hbWUpO3JldHVybiBhdHRyP2F0dHIuc291cmNlOltdfX0se2tleTpcInZlcnRpY2VzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U291cmNlKFwiYVZlcnRleFBvc2l0aW9uXCIpfX0se2tleTpcIm5vcm1hbHNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTb3VyY2UoXCJhTm9ybWFsXCIpfX0se2tleTpcImNvb3Jkc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNvdXJjZShcImFUZXh0dXJlQ29vcmRcIil9fSx7a2V5OlwiaW5kaWNlc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRpY2VzfX0se2tleTpcInZlcnRleFNpemVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJ0aWNlcy5sZW5ndGh9fSx7a2V5OlwiZmFjZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFjZXN9fSx7a2V5OlwiYXR0cmlidXRlc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzfX0se2tleTpcImhhc1ZBT1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNWQU99fSx7a2V5OlwidmFvXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Zhb319LHtrZXk6XCJudW1JbnN0YW5jZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9udW1JbnN0YW5jZX19LHtrZXk6XCJpc0luc3RhbmNlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0luc3RhbmNlZH19XSksTWVzaH0oKTtleHBvcnRzLmRlZmF1bHQ9TWVzaH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9HTFRvb2wpLEJhdGNoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQmF0Y2gobU1lc2gsbVNoYWRlcil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQmF0Y2gpLHRoaXMuX21lc2g9bU1lc2gsdGhpcy5fc2hhZGVyPW1TaGFkZXJ9cmV0dXJuIF9jcmVhdGVDbGFzcyhCYXRjaCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3NoYWRlci5iaW5kKCksX0dMVG9vbDIuZGVmYXVsdC5kcmF3KHRoaXMubWVzaCl9fSx7a2V5OlwibWVzaFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNofX0se2tleTpcInNoYWRlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkZXJ9fV0pLEJhdGNofSgpO2V4cG9ydHMuZGVmYXVsdD1CYXRjaH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9NZXNoPV9fd2VicGFja19yZXF1aXJlX18oNSksX01lc2gyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9NZXNoKSxHZW9tPXt9LG1lc2hUcmk9dm9pZCAwO0dlb20ucGxhbmU9ZnVuY3Rpb24od2lkdGgsaGVpZ2h0LG51bVNlZ21lbnRzKXtmb3IodmFyIGF4aXM9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOlwieHlcIixkcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06NCxwb3NpdGlvbnM9W10sY29vcmRzPVtdLGluZGljZXM9W10sbm9ybWFscz1bXSxnYXBYPXdpZHRoL251bVNlZ21lbnRzLGdhcFk9aGVpZ2h0L251bVNlZ21lbnRzLGdhcFVWPTEvbnVtU2VnbWVudHMsc3g9LjUqLXdpZHRoLHN5PS41Ki1oZWlnaHQsaW5kZXg9MCxpPTA7aTxudW1TZWdtZW50cztpKyspZm9yKHZhciBqPTA7ajxudW1TZWdtZW50cztqKyspe3ZhciB0eD1nYXBYKmkrc3gsdHk9Z2FwWSpqK3N5LHU9aS9udW1TZWdtZW50cyx2PWovbnVtU2VnbWVudHM7XCJ4elwiPT09YXhpcz8ocG9zaXRpb25zLnB1c2goW3R4LDAsdHkrZ2FwWV0pLHBvc2l0aW9ucy5wdXNoKFt0eCtnYXBYLDAsdHkrZ2FwWV0pLHBvc2l0aW9ucy5wdXNoKFt0eCtnYXBYLDAsdHldKSxwb3NpdGlvbnMucHVzaChbdHgsMCx0eV0pLGNvb3Jkcy5wdXNoKFt1LDEtKHYrZ2FwVVYpXSksY29vcmRzLnB1c2goW3UrZ2FwVVYsMS0oditnYXBVVildKSxjb29yZHMucHVzaChbdStnYXBVViwxLXZdKSxjb29yZHMucHVzaChbdSwxLXZdKSxub3JtYWxzLnB1c2goWzAsMSwwXSksbm9ybWFscy5wdXNoKFswLDEsMF0pLG5vcm1hbHMucHVzaChbMCwxLDBdKSxub3JtYWxzLnB1c2goWzAsMSwwXSkpOlwieXpcIj09PWF4aXM/KHBvc2l0aW9ucy5wdXNoKFswLHR5LHR4XSkscG9zaXRpb25zLnB1c2goWzAsdHksdHgrZ2FwWF0pLHBvc2l0aW9ucy5wdXNoKFswLHR5K2dhcFksdHgrZ2FwWF0pLHBvc2l0aW9ucy5wdXNoKFswLHR5K2dhcFksdHhdKSxjb29yZHMucHVzaChbdSx2XSksY29vcmRzLnB1c2goW3UrZ2FwVVYsdl0pLGNvb3Jkcy5wdXNoKFt1K2dhcFVWLHYrZ2FwVVZdKSxjb29yZHMucHVzaChbdSx2K2dhcFVWXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxub3JtYWxzLnB1c2goWzEsMCwwXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pKToocG9zaXRpb25zLnB1c2goW3R4LHR5LDBdKSxwb3NpdGlvbnMucHVzaChbdHgrZ2FwWCx0eSwwXSkscG9zaXRpb25zLnB1c2goW3R4K2dhcFgsdHkrZ2FwWSwwXSkscG9zaXRpb25zLnB1c2goW3R4LHR5K2dhcFksMF0pLGNvb3Jkcy5wdXNoKFt1LHZdKSxjb29yZHMucHVzaChbdStnYXBVVix2XSksY29vcmRzLnB1c2goW3UrZ2FwVVYsditnYXBVVl0pLGNvb3Jkcy5wdXNoKFt1LHYrZ2FwVVZdKSxub3JtYWxzLnB1c2goWzAsMCwxXSksbm9ybWFscy5wdXNoKFswLDAsMV0pLG5vcm1hbHMucHVzaChbMCwwLDFdKSxub3JtYWxzLnB1c2goWzAsMCwxXSkpLGluZGljZXMucHVzaCg0KmluZGV4KzApLGluZGljZXMucHVzaCg0KmluZGV4KzEpLGluZGljZXMucHVzaCg0KmluZGV4KzIpLGluZGljZXMucHVzaCg0KmluZGV4KzApLGluZGljZXMucHVzaCg0KmluZGV4KzIpLGluZGljZXMucHVzaCg0KmluZGV4KzMpLGluZGV4Kyt9dmFyIG1lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KGRyYXdUeXBlKTtyZXR1cm4gbWVzaC5idWZmZXJWZXJ0ZXgocG9zaXRpb25zKSxtZXNoLmJ1ZmZlclRleENvb3JkKGNvb3JkcyksbWVzaC5idWZmZXJJbmRleChpbmRpY2VzKSxtZXNoLmJ1ZmZlck5vcm1hbChub3JtYWxzKSxtZXNofSxHZW9tLnNwaGVyZT1mdW5jdGlvbihzaXplLG51bVNlZ21lbnRzKXtmdW5jdGlvbiBnZXRQb3NpdGlvbihpLGope3ZhciBpc05vcm1hbD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLHJ4PWkvbnVtU2VnbWVudHMqTWF0aC5QSS0uNSpNYXRoLlBJLHJ5PWovbnVtU2VnbWVudHMqTWF0aC5QSSoyLHI9aXNOb3JtYWw/MTpzaXplLHBvcz1bXTtwb3NbMV09TWF0aC5zaW4ocngpKnI7dmFyIHQ9TWF0aC5jb3MocngpKnI7cG9zWzBdPU1hdGguY29zKHJ5KSp0LHBvc1syXT1NYXRoLnNpbihyeSkqdDtyZXR1cm4gcG9zWzBdPU1hdGguZmxvb3IoMWU0KnBvc1swXSkvMWU0LHBvc1sxXT1NYXRoLmZsb29yKDFlNCpwb3NbMV0pLzFlNCxwb3NbMl09TWF0aC5mbG9vcigxZTQqcG9zWzJdKS8xZTQscG9zfWZvcih2YXIgaXNJbnZlcnQ9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxkcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NCxwb3NpdGlvbnM9W10sY29vcmRzPVtdLGluZGljZXM9W10sbm9ybWFscz1bXSxnYXBVVj0xL251bVNlZ21lbnRzLGluZGV4PTAsaT0wO2k8bnVtU2VnbWVudHM7aSsrKWZvcih2YXIgaj0wO2o8bnVtU2VnbWVudHM7aisrKXtwb3NpdGlvbnMucHVzaChnZXRQb3NpdGlvbihpLGopKSxwb3NpdGlvbnMucHVzaChnZXRQb3NpdGlvbihpKzEsaikpLHBvc2l0aW9ucy5wdXNoKGdldFBvc2l0aW9uKGkrMSxqKzEpKSxwb3NpdGlvbnMucHVzaChnZXRQb3NpdGlvbihpLGorMSkpLG5vcm1hbHMucHVzaChnZXRQb3NpdGlvbihpLGosITApKSxub3JtYWxzLnB1c2goZ2V0UG9zaXRpb24oaSsxLGosITApKSxub3JtYWxzLnB1c2goZ2V0UG9zaXRpb24oaSsxLGorMSwhMCkpLG5vcm1hbHMucHVzaChnZXRQb3NpdGlvbihpLGorMSwhMCkpO3ZhciB1PWovbnVtU2VnbWVudHMsdj1pL251bVNlZ21lbnRzO2Nvb3Jkcy5wdXNoKFsxLXUsdl0pLGNvb3Jkcy5wdXNoKFsxLXUsditnYXBVVl0pLGNvb3Jkcy5wdXNoKFsxLXUtZ2FwVVYsditnYXBVVl0pLGNvb3Jkcy5wdXNoKFsxLXUtZ2FwVVYsdl0pLGluZGljZXMucHVzaCg0KmluZGV4KzApLGluZGljZXMucHVzaCg0KmluZGV4KzEpLGluZGljZXMucHVzaCg0KmluZGV4KzIpLGluZGljZXMucHVzaCg0KmluZGV4KzApLGluZGljZXMucHVzaCg0KmluZGV4KzIpLGluZGljZXMucHVzaCg0KmluZGV4KzMpLGluZGV4Kyt9aXNJbnZlcnQmJmluZGljZXMucmV2ZXJzZSgpO3ZhciBtZXNoPW5ldyBfTWVzaDIuZGVmYXVsdChkcmF3VHlwZSk7cmV0dXJuIG1lc2guYnVmZmVyVmVydGV4KHBvc2l0aW9ucyksbWVzaC5idWZmZXJUZXhDb29yZChjb29yZHMpLG1lc2guYnVmZmVySW5kZXgoaW5kaWNlcyksbWVzaC5idWZmZXJOb3JtYWwobm9ybWFscyksbWVzaH0sR2VvbS5jdWJlPWZ1bmN0aW9uKHcsaCxkKXt2YXIgZHJhd1R5cGU9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjQ7aD1ofHx3LGQ9ZHx8dzt2YXIgeD13LzIseT1oLzIsej1kLzIscG9zaXRpb25zPVtdLGNvb3Jkcz1bXSxpbmRpY2VzPVtdLG5vcm1hbHM9W10sY291bnQ9MDtwb3NpdGlvbnMucHVzaChbLXgseSwtel0pLHBvc2l0aW9ucy5wdXNoKFt4LHksLXpdKSxwb3NpdGlvbnMucHVzaChbeCwteSwtel0pLHBvc2l0aW9ucy5wdXNoKFsteCwteSwtel0pLG5vcm1hbHMucHVzaChbMCwwLC0xXSksbm9ybWFscy5wdXNoKFswLDAsLTFdKSxub3JtYWxzLnB1c2goWzAsMCwtMV0pLG5vcm1hbHMucHVzaChbMCwwLC0xXSksY29vcmRzLnB1c2goWzAsMF0pLGNvb3Jkcy5wdXNoKFsxLDBdKSxjb29yZHMucHVzaChbMSwxXSksY29vcmRzLnB1c2goWzAsMV0pLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzEpLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzMpLGNvdW50KysscG9zaXRpb25zLnB1c2goW3gseSwtel0pLHBvc2l0aW9ucy5wdXNoKFt4LHksel0pLHBvc2l0aW9ucy5wdXNoKFt4LC15LHpdKSxwb3NpdGlvbnMucHVzaChbeCwteSwtel0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxub3JtYWxzLnB1c2goWzEsMCwwXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKyxwb3NpdGlvbnMucHVzaChbeCx5LHpdKSxwb3NpdGlvbnMucHVzaChbLXgseSx6XSkscG9zaXRpb25zLnB1c2goWy14LC15LHpdKSxwb3NpdGlvbnMucHVzaChbeCwteSx6XSksbm9ybWFscy5wdXNoKFswLDAsMV0pLG5vcm1hbHMucHVzaChbMCwwLDFdKSxub3JtYWxzLnB1c2goWzAsMCwxXSksbm9ybWFscy5wdXNoKFswLDAsMV0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKSxjb3VudCsrLHBvc2l0aW9ucy5wdXNoKFsteCx5LHpdKSxwb3NpdGlvbnMucHVzaChbLXgseSwtel0pLHBvc2l0aW9ucy5wdXNoKFsteCwteSwtel0pLHBvc2l0aW9ucy5wdXNoKFsteCwteSx6XSksbm9ybWFscy5wdXNoKFstMSwwLDBdKSxub3JtYWxzLnB1c2goWy0xLDAsMF0pLG5vcm1hbHMucHVzaChbLTEsMCwwXSksbm9ybWFscy5wdXNoKFstMSwwLDBdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKyxwb3NpdGlvbnMucHVzaChbeCx5LC16XSkscG9zaXRpb25zLnB1c2goWy14LHksLXpdKSxwb3NpdGlvbnMucHVzaChbLXgseSx6XSkscG9zaXRpb25zLnB1c2goW3gseSx6XSksbm9ybWFscy5wdXNoKFswLDEsMF0pLG5vcm1hbHMucHVzaChbMCwxLDBdKSxub3JtYWxzLnB1c2goWzAsMSwwXSksbm9ybWFscy5wdXNoKFswLDEsMF0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKSxjb3VudCsrLHBvc2l0aW9ucy5wdXNoKFt4LC15LHpdKSxwb3NpdGlvbnMucHVzaChbLXgsLXksel0pLHBvc2l0aW9ucy5wdXNoKFsteCwteSwtel0pLHBvc2l0aW9ucy5wdXNoKFt4LC15LC16XSksbm9ybWFscy5wdXNoKFswLC0xLDBdKSxub3JtYWxzLnB1c2goWzAsLTEsMF0pLG5vcm1hbHMucHVzaChbMCwtMSwwXSksbm9ybWFscy5wdXNoKFswLC0xLDBdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKzt2YXIgbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQoZHJhd1R5cGUpO3JldHVybiBtZXNoLmJ1ZmZlclZlcnRleChwb3NpdGlvbnMpLG1lc2guYnVmZmVyVGV4Q29vcmQoY29vcmRzKSxtZXNoLmJ1ZmZlckluZGV4KGluZGljZXMpLG1lc2guYnVmZmVyTm9ybWFsKG5vcm1hbHMpLG1lc2h9LEdlb20uc2t5Ym94PWZ1bmN0aW9uKHNpemUpe3ZhciBkcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NCxwb3NpdGlvbnM9W10sY29vcmRzPVtdLGluZGljZXM9W10sbm9ybWFscz1bXSxjb3VudD0wO3Bvc2l0aW9ucy5wdXNoKFtzaXplLHNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsc2l6ZSwtc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFstc2l6ZSwtc2l6ZSwtc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFtzaXplLC1zaXplLC1zaXplXSksbm9ybWFscy5wdXNoKFswLDAsLTFdKSxub3JtYWxzLnB1c2goWzAsMCwtMV0pLG5vcm1hbHMucHVzaChbMCwwLC0xXSksbm9ybWFscy5wdXNoKFswLDAsLTFdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKyxwb3NpdGlvbnMucHVzaChbc2l6ZSwtc2l6ZSwtc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFtzaXplLC1zaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSxzaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSxzaXplLC1zaXplXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxub3JtYWxzLnB1c2goWzEsMCwwXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKSxjb3VudCsrLHBvc2l0aW9ucy5wdXNoKFstc2l6ZSxzaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSxzaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSwtc2l6ZSxzaXplXSkscG9zaXRpb25zLnB1c2goWy1zaXplLC1zaXplLHNpemVdKSxub3JtYWxzLnB1c2goWzAsMCwxXSksbm9ybWFscy5wdXNoKFswLDAsMV0pLG5vcm1hbHMucHVzaChbMCwwLDFdKSxub3JtYWxzLnB1c2goWzAsMCwxXSksY29vcmRzLnB1c2goWzAsMF0pLGNvb3Jkcy5wdXNoKFsxLDBdKSxjb29yZHMucHVzaChbMSwxXSksY29vcmRzLnB1c2goWzAsMV0pLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzEpLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzMpLGNvdW50KysscG9zaXRpb25zLnB1c2goWy1zaXplLC1zaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsLXNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsc2l6ZSwtc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFstc2l6ZSxzaXplLHNpemVdKSxub3JtYWxzLnB1c2goWy0xLDAsMF0pLG5vcm1hbHMucHVzaChbLTEsMCwwXSksbm9ybWFscy5wdXNoKFstMSwwLDBdKSxub3JtYWxzLnB1c2goWy0xLDAsMF0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKSxjb3VudCsrLHBvc2l0aW9ucy5wdXNoKFtzaXplLHNpemUsc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFstc2l6ZSxzaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsc2l6ZSwtc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFtzaXplLHNpemUsLXNpemVdKSxub3JtYWxzLnB1c2goWzAsMSwwXSksbm9ybWFscy5wdXNoKFswLDEsMF0pLG5vcm1hbHMucHVzaChbMCwxLDBdKSxub3JtYWxzLnB1c2goWzAsMSwwXSksY29vcmRzLnB1c2goWzAsMF0pLGNvb3Jkcy5wdXNoKFsxLDBdKSxjb29yZHMucHVzaChbMSwxXSksY29vcmRzLnB1c2goWzAsMV0pLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzEpLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzMpLGNvdW50KysscG9zaXRpb25zLnB1c2goW3NpemUsLXNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsLXNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsLXNpemUsc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFtzaXplLC1zaXplLHNpemVdKSxub3JtYWxzLnB1c2goWzAsLTEsMF0pLG5vcm1hbHMucHVzaChbMCwtMSwwXSksbm9ybWFscy5wdXNoKFswLC0xLDBdKSxub3JtYWxzLnB1c2goWzAsLTEsMF0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKTt2YXIgbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQoZHJhd1R5cGUpO3JldHVybiBtZXNoLmJ1ZmZlclZlcnRleChwb3NpdGlvbnMpLG1lc2guYnVmZmVyVGV4Q29vcmQoY29vcmRzKSxtZXNoLmJ1ZmZlckluZGV4KGluZGljZXMpLG1lc2guYnVmZmVyTm9ybWFsKG5vcm1hbHMpLG1lc2h9LEdlb20uYmlnVHJpYW5nbGU9ZnVuY3Rpb24oKXtpZighbWVzaFRyaSl7dmFyIGluZGljZXM9WzIsMSwwXSxwb3NpdGlvbnM9W1stMSwtMV0sWy0xLDRdLFs0LC0xXV07bWVzaFRyaT1uZXcgX01lc2gyLmRlZmF1bHQsbWVzaFRyaS5idWZmZXJEYXRhKHBvc2l0aW9ucyxcImFQb3NpdGlvblwiLDIpLG1lc2hUcmkuYnVmZmVySW5kZXgoaW5kaWNlcyl9cmV0dXJuIG1lc2hUcml9LGV4cG9ydHMuZGVmYXVsdD1HZW9tfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz17MDpcIk5PTkVcIiwxOlwiT05FXCIsMjpcIkxJTkVfTE9PUFwiLDM6XCJMSU5FX1NUUklQXCIsNDpcIlRSSUFOR0xFU1wiLDU6XCJUUklBTkdMRV9TVFJJUFwiLDY6XCJUUklBTkdMRV9GQU5cIiwyNTY6XCJERVBUSF9CVUZGRVJfQklUXCIsNTEyOlwiTkVWRVJcIiw1MTM6XCJMRVNTXCIsNTE0OlwiRVFVQUxcIiw1MTU6XCJMRVFVQUxcIiw1MTY6XCJHUkVBVEVSXCIsNTE3OlwiTk9URVFVQUxcIiw1MTg6XCJHRVFVQUxcIiw1MTk6XCJBTFdBWVNcIiw3Njg6XCJTUkNfQ09MT1JcIiw3Njk6XCJPTkVfTUlOVVNfU1JDX0NPTE9SXCIsNzcwOlwiU1JDX0FMUEhBXCIsNzcxOlwiT05FX01JTlVTX1NSQ19BTFBIQVwiLDc3MjpcIkRTVF9BTFBIQVwiLDc3MzpcIk9ORV9NSU5VU19EU1RfQUxQSEFcIiw3NzQ6XCJEU1RfQ09MT1JcIiw3NzU6XCJPTkVfTUlOVVNfRFNUX0NPTE9SXCIsNzc2OlwiU1JDX0FMUEhBX1NBVFVSQVRFXCIsMTAyNDpcIlNURU5DSUxfQlVGRkVSX0JJVFwiLDEwMjg6XCJGUk9OVFwiLDEwMjk6XCJCQUNLXCIsMTAzMjpcIkZST05UX0FORF9CQUNLXCIsMTI4MDpcIklOVkFMSURfRU5VTVwiLDEyODE6XCJJTlZBTElEX1ZBTFVFXCIsMTI4MjpcIklOVkFMSURfT1BFUkFUSU9OXCIsMTI4NTpcIk9VVF9PRl9NRU1PUllcIiwxMjg2OlwiSU5WQUxJRF9GUkFNRUJVRkZFUl9PUEVSQVRJT05cIiwyMzA0OlwiQ1dcIiwyMzA1OlwiQ0NXXCIsMjg0OTpcIkxJTkVfV0lEVEhcIiwyODg0OlwiQ1VMTF9GQUNFXCIsMjg4NTpcIkNVTExfRkFDRV9NT0RFXCIsMjg4NjpcIkZST05UX0ZBQ0VcIiwyOTI4OlwiREVQVEhfUkFOR0VcIiwyOTI5OlwiREVQVEhfVEVTVFwiLDI5MzA6XCJERVBUSF9XUklURU1BU0tcIiwyOTMxOlwiREVQVEhfQ0xFQVJfVkFMVUVcIiwyOTMyOlwiREVQVEhfRlVOQ1wiLDI5NjA6XCJTVEVOQ0lMX1RFU1RcIiwyOTYxOlwiU1RFTkNJTF9DTEVBUl9WQUxVRVwiLDI5NjI6XCJTVEVOQ0lMX0ZVTkNcIiwyOTYzOlwiU1RFTkNJTF9WQUxVRV9NQVNLXCIsMjk2NDpcIlNURU5DSUxfRkFJTFwiLDI5NjU6XCJTVEVOQ0lMX1BBU1NfREVQVEhfRkFJTFwiLDI5NjY6XCJTVEVOQ0lMX1BBU1NfREVQVEhfUEFTU1wiLDI5Njc6XCJTVEVOQ0lMX1JFRlwiLDI5Njg6XCJTVEVOQ0lMX1dSSVRFTUFTS1wiLDI5Nzg6XCJWSUVXUE9SVFwiLDMwMjQ6XCJESVRIRVJcIiwzMDQyOlwiQkxFTkRcIiwzMDg4OlwiU0NJU1NPUl9CT1hcIiwzMDg5OlwiU0NJU1NPUl9URVNUXCIsMzEwNjpcIkNPTE9SX0NMRUFSX1ZBTFVFXCIsMzEwNzpcIkNPTE9SX1dSSVRFTUFTS1wiLDMzMTc6XCJVTlBBQ0tfQUxJR05NRU5UXCIsMzMzMzpcIlBBQ0tfQUxJR05NRU5UXCIsMzM3OTpcIk1BWF9URVhUVVJFX1NJWkVcIiwzMzg2OlwiTUFYX1ZJRVdQT1JUX0RJTVNcIiwzNDA4OlwiU1VCUElYRUxfQklUU1wiLDM0MTA6XCJSRURfQklUU1wiLDM0MTE6XCJHUkVFTl9CSVRTXCIsMzQxMjpcIkJMVUVfQklUU1wiLDM0MTM6XCJBTFBIQV9CSVRTXCIsMzQxNDpcIkRFUFRIX0JJVFNcIiwzNDE1OlwiU1RFTkNJTF9CSVRTXCIsMzU1MzpcIlRFWFRVUkVfMkRcIiw0MzUyOlwiRE9OVF9DQVJFXCIsNDM1MzpcIkZBU1RFU1RcIiw0MzU0OlwiTklDRVNUXCIsNTEyMDpcIkJZVEVcIiw1MTIxOlwiVU5TSUdORURfQllURVwiLDUxMjI6XCJTSE9SVFwiLDUxMjM6XCJVTlNJR05FRF9TSE9SVFwiLDUxMjQ6XCJJTlRcIiw1MTI1OlwiVU5TSUdORURfSU5UXCIsNTEyNjpcIkZMT0FUXCIsNTM4NjpcIklOVkVSVFwiLDU4OTA6XCJURVhUVVJFXCIsNjQwMTpcIlNURU5DSUxfSU5ERVhcIiw2NDAyOlwiREVQVEhfQ09NUE9ORU5UXCIsNjQwMzpcIlJFRFwiLDY0MDY6XCJBTFBIQVwiLDY0MDc6XCJSR0JcIiw2NDA4OlwiUkdCQVwiLDY0MDk6XCJMVU1JTkFOQ0VcIiw2NDEwOlwiTFVNSU5BTkNFX0FMUEhBXCIsNzY4MDpcIktFRVBcIiw3NjgxOlwiUkVQTEFDRVwiLDc2ODI6XCJJTkNSXCIsNzY4MzpcIkRFQ1JcIiw3OTM2OlwiVkVORE9SXCIsNzkzNzpcIlJFTkRFUkVSXCIsNzkzODpcIlZFUlNJT05cIiw5NzI4OlwiTkVBUkVTVFwiLDk3Mjk6XCJMSU5FQVJcIiw5OTg0OlwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVFwiLDk5ODU6XCJMSU5FQVJfTUlQTUFQX05FQVJFU1RcIiw5OTg2OlwiTkVBUkVTVF9NSVBNQVBfTElORUFSXCIsOTk4NzpcIkxJTkVBUl9NSVBNQVBfTElORUFSXCIsMTAyNDA6XCJURVhUVVJFX01BR19GSUxURVJcIiwxMDI0MTpcIlRFWFRVUkVfTUlOX0ZJTFRFUlwiLDEwMjQyOlwiVEVYVFVSRV9XUkFQX1NcIiwxMDI0MzpcIlRFWFRVUkVfV1JBUF9UXCIsMTA0OTc6XCJSRVBFQVRcIiwxMDc1MjpcIlBPTFlHT05fT0ZGU0VUX1VOSVRTXCIsMTYzODQ6XCJDT0xPUl9CVUZGRVJfQklUXCIsMzI3Njk6XCJDT05TVEFOVF9DT0xPUlwiLDMyNzcwOlwiT05FX01JTlVTX0NPTlNUQU5UX0NPTE9SXCIsMzI3NzE6XCJDT05TVEFOVF9BTFBIQVwiLDMyNzcyOlwiT05FX01JTlVTX0NPTlNUQU5UX0FMUEhBXCIsMzI3NzM6XCJCTEVORF9DT0xPUlwiLDMyNzc0OlwiRlVOQ19BRERcIiwzMjc3NzpcIkJMRU5EX0VRVUFUSU9OX1JHQlwiLDMyNzc4OlwiRlVOQ19TVUJUUkFDVFwiLDMyNzc5OlwiRlVOQ19SRVZFUlNFX1NVQlRSQUNUXCIsMzI4MTk6XCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCIsMzI4MjA6XCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCIsMzI4MjM6XCJQT0xZR09OX09GRlNFVF9GSUxMXCIsMzI4MjQ6XCJQT0xZR09OX09GRlNFVF9GQUNUT1JcIiwzMjg1NDpcIlJHQkE0XCIsMzI4NTU6XCJSR0I1X0ExXCIsMzI4NzM6XCJURVhUVVJFX0JJTkRJTkdfMkRcIiwzMjkyNjpcIlNBTVBMRV9BTFBIQV9UT19DT1ZFUkFHRVwiLDMyOTI4OlwiU0FNUExFX0NPVkVSQUdFXCIsMzI5MzY6XCJTQU1QTEVfQlVGRkVSU1wiLDMyOTM3OlwiU0FNUExFU1wiLDMyOTM4OlwiU0FNUExFX0NPVkVSQUdFX1ZBTFVFXCIsMzI5Mzk6XCJTQU1QTEVfQ09WRVJBR0VfSU5WRVJUXCIsMzI5Njg6XCJCTEVORF9EU1RfUkdCXCIsMzI5Njk6XCJCTEVORF9TUkNfUkdCXCIsMzI5NzA6XCJCTEVORF9EU1RfQUxQSEFcIiwzMjk3MTpcIkJMRU5EX1NSQ19BTFBIQVwiLDMzMDcxOlwiQ0xBTVBfVE9fRURHRVwiLDMzMTcwOlwiR0VORVJBVEVfTUlQTUFQX0hJTlRcIiwzMzE4OTpcIkRFUFRIX0NPTVBPTkVOVDE2XCIsMzMzMDY6XCJERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlRcIiwzMzMyMTpcIlI4XCIsMzM2MzU6XCJVTlNJR05FRF9TSE9SVF81XzZfNVwiLDMzNjQ4OlwiTUlSUk9SRURfUkVQRUFUXCIsMzM5MDE6XCJBTElBU0VEX1BPSU5UX1NJWkVfUkFOR0VcIiwzMzkwMjpcIkFMSUFTRURfTElORV9XSURUSF9SQU5HRVwiLDMzOTg0OlwiVEVYVFVSRTBcIiwzMzk4NTpcIlRFWFRVUkUxXCIsMzM5ODY6XCJURVhUVVJFMlwiLDMzOTg3OlwiVEVYVFVSRTNcIiwzMzk4ODpcIlRFWFRVUkU0XCIsMzM5ODk6XCJURVhUVVJFNVwiLDMzOTkwOlwiVEVYVFVSRTZcIiwzMzk5MTpcIlRFWFRVUkU3XCIsMzM5OTI6XCJURVhUVVJFOFwiLDMzOTkzOlwiVEVYVFVSRTlcIiwzMzk5NDpcIlRFWFRVUkUxMFwiLDMzOTk1OlwiVEVYVFVSRTExXCIsMzM5OTY6XCJURVhUVVJFMTJcIiwzMzk5NzpcIlRFWFRVUkUxM1wiLDMzOTk4OlwiVEVYVFVSRTE0XCIsMzM5OTk6XCJURVhUVVJFMTVcIiwzNGUzOlwiVEVYVFVSRTE2XCIsMzQwMDE6XCJURVhUVVJFMTdcIiwzNDAwMjpcIlRFWFRVUkUxOFwiLDM0MDAzOlwiVEVYVFVSRTE5XCIsMzQwMDQ6XCJURVhUVVJFMjBcIiwzNDAwNTpcIlRFWFRVUkUyMVwiLDM0MDA2OlwiVEVYVFVSRTIyXCIsMzQwMDc6XCJURVhUVVJFMjNcIiwzNDAwODpcIlRFWFRVUkUyNFwiLDM0MDA5OlwiVEVYVFVSRTI1XCIsMzQwMTA6XCJURVhUVVJFMjZcIiwzNDAxMTpcIlRFWFRVUkUyN1wiLDM0MDEyOlwiVEVYVFVSRTI4XCIsMzQwMTM6XCJURVhUVVJFMjlcIiwzNDAxNDpcIlRFWFRVUkUzMFwiLDM0MDE1OlwiVEVYVFVSRTMxXCIsMzQwMTY6XCJBQ1RJVkVfVEVYVFVSRVwiLDM0MDI0OlwiTUFYX1JFTkRFUkJVRkZFUl9TSVpFXCIsMzQwNDE6XCJERVBUSF9TVEVOQ0lMXCIsMzQwNTU6XCJJTkNSX1dSQVBcIiwzNDA1NjpcIkRFQ1JfV1JBUFwiLDM0MDY3OlwiVEVYVFVSRV9DVUJFX01BUFwiLDM0MDY4OlwiVEVYVFVSRV9CSU5ESU5HX0NVQkVfTUFQXCIsMzQwNjk6XCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIiwzNDA3MDpcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiLDM0MDcxOlwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCIsMzQwNzI6XCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIiwzNDA3MzpcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiLDM0MDc0OlwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCIsMzQwNzY6XCJNQVhfQ1VCRV9NQVBfVEVYVFVSRV9TSVpFXCIsMzQzMzg6XCJWRVJURVhfQVRUUklCX0FSUkFZX0VOQUJMRURcIiwzNDMzOTpcIlZFUlRFWF9BVFRSSUJfQVJSQVlfU0laRVwiLDM0MzQwOlwiVkVSVEVYX0FUVFJJQl9BUlJBWV9TVFJJREVcIiwzNDM0MTpcIlZFUlRFWF9BVFRSSUJfQVJSQVlfVFlQRVwiLDM0MzQyOlwiQ1VSUkVOVF9WRVJURVhfQVRUUklCXCIsMzQzNzM6XCJWRVJURVhfQVRUUklCX0FSUkFZX1BPSU5URVJcIiwzNDQ2NjpcIk5VTV9DT01QUkVTU0VEX1RFWFRVUkVfRk9STUFUU1wiLDM0NDY3OlwiQ09NUFJFU1NFRF9URVhUVVJFX0ZPUk1BVFNcIiwzNDY2MDpcIkJVRkZFUl9TSVpFXCIsMzQ2NjE6XCJCVUZGRVJfVVNBR0VcIiwzNDgxNjpcIlNURU5DSUxfQkFDS19GVU5DXCIsMzQ4MTc6XCJTVEVOQ0lMX0JBQ0tfRkFJTFwiLDM0ODE4OlwiU1RFTkNJTF9CQUNLX1BBU1NfREVQVEhfRkFJTFwiLDM0ODE5OlwiU1RFTkNJTF9CQUNLX1BBU1NfREVQVEhfUEFTU1wiLDM0ODc3OlwiQkxFTkRfRVFVQVRJT05fQUxQSEFcIiwzNDkyMTpcIk1BWF9WRVJURVhfQVRUUklCU1wiLDM0OTIyOlwiVkVSVEVYX0FUVFJJQl9BUlJBWV9OT1JNQUxJWkVEXCIsMzQ5MzA6XCJNQVhfVEVYVFVSRV9JTUFHRV9VTklUU1wiLDM0OTYyOlwiQVJSQVlfQlVGRkVSXCIsMzQ5NjM6XCJFTEVNRU5UX0FSUkFZX0JVRkZFUlwiLDM0OTY0OlwiQVJSQVlfQlVGRkVSX0JJTkRJTkdcIiwzNDk2NTpcIkVMRU1FTlRfQVJSQVlfQlVGRkVSX0JJTkRJTkdcIiwzNDk3NTpcIlZFUlRFWF9BVFRSSUJfQVJSQVlfQlVGRkVSX0JJTkRJTkdcIiwzNTA0MDpcIlNUUkVBTV9EUkFXXCIsMzUwNDQ6XCJTVEFUSUNfRFJBV1wiLDM1MDQ4OlwiRFlOQU1JQ19EUkFXXCIsMzU2MzI6XCJGUkFHTUVOVF9TSEFERVJcIiwzNTYzMzpcIlZFUlRFWF9TSEFERVJcIiwzNTY2MDpcIk1BWF9WRVJURVhfVEVYVFVSRV9JTUFHRV9VTklUU1wiLDM1NjYxOlwiTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFNcIiwzNTY2MzpcIlNIQURFUl9UWVBFXCIsMzU2NjQ6XCJGTE9BVF9WRUMyXCIsMzU2NjU6XCJGTE9BVF9WRUMzXCIsMzU2NjY6XCJGTE9BVF9WRUM0XCIsMzU2Njc6XCJJTlRfVkVDMlwiLDM1NjY4OlwiSU5UX1ZFQzNcIiwzNTY2OTpcIklOVF9WRUM0XCIsMzU2NzA6XCJCT09MXCIsMzU2NzE6XCJCT09MX1ZFQzJcIiwzNTY3MjpcIkJPT0xfVkVDM1wiLDM1NjczOlwiQk9PTF9WRUM0XCIsMzU2NzQ6XCJGTE9BVF9NQVQyXCIsMzU2NzU6XCJGTE9BVF9NQVQzXCIsMzU2NzY6XCJGTE9BVF9NQVQ0XCIsMzU2Nzg6XCJTQU1QTEVSXzJEXCIsMzU2ODA6XCJTQU1QTEVSX0NVQkVcIiwzNTcxMjpcIkRFTEVURV9TVEFUVVNcIiwzNTcxMzpcIkNPTVBJTEVfU1RBVFVTXCIsMzU3MTQ6XCJMSU5LX1NUQVRVU1wiLDM1NzE1OlwiVkFMSURBVEVfU1RBVFVTXCIsMzU3MTY6XCJJTkZPX0xPR19MRU5HVEhcIiwzNTcxNzpcIkFUVEFDSEVEX1NIQURFUlNcIiwzNTcxODpcIkFDVElWRV9VTklGT1JNU1wiLDM1NzE5OlwiQUNUSVZFX1VOSUZPUk1fTUFYX0xFTkdUSFwiLDM1NzIwOlwiU0hBREVSX1NPVVJDRV9MRU5HVEhcIiwzNTcyMTpcIkFDVElWRV9BVFRSSUJVVEVTXCIsMzU3MjI6XCJBQ1RJVkVfQVRUUklCVVRFX01BWF9MRU5HVEhcIiwzNTcyNDpcIlNIQURJTkdfTEFOR1VBR0VfVkVSU0lPTlwiLDM1NzI1OlwiQ1VSUkVOVF9QUk9HUkFNXCIsMzYwMDM6XCJTVEVOQ0lMX0JBQ0tfUkVGXCIsMzYwMDQ6XCJTVEVOQ0lMX0JBQ0tfVkFMVUVfTUFTS1wiLDM2MDA1OlwiU1RFTkNJTF9CQUNLX1dSSVRFTUFTS1wiLDM2MDA2OlwiRlJBTUVCVUZGRVJfQklORElOR1wiLDM2MDA3OlwiUkVOREVSQlVGRkVSX0JJTkRJTkdcIiwzNjA0ODpcIkZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfT0JKRUNUX1RZUEVcIiwzNjA0OTpcIkZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfT0JKRUNUX05BTUVcIiwzNjA1MDpcIkZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfVEVYVFVSRV9MRVZFTFwiLDM2MDUxOlwiRlJBTUVCVUZGRVJfQVRUQUNITUVOVF9URVhUVVJFX0NVQkVfTUFQX0ZBQ0VcIiwzNjA1MzpcIkZSQU1FQlVGRkVSX0NPTVBMRVRFXCIsMzYwNTQ6XCJGUkFNRUJVRkZFUl9JTkNPTVBMRVRFX0FUVEFDSE1FTlRcIiwzNjA1NTpcIkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfTUlTU0lOR19BVFRBQ0hNRU5UXCIsMzYwNTc6XCJGUkFNRUJVRkZFUl9JTkNPTVBMRVRFX0RJTUVOU0lPTlNcIiwzNjA2MTpcIkZSQU1FQlVGRkVSX1VOU1VQUE9SVEVEXCIsMzYwNjQ6XCJDT0xPUl9BVFRBQ0hNRU5UMFwiLDM2MDk2OlwiREVQVEhfQVRUQUNITUVOVFwiLDM2MTI4OlwiU1RFTkNJTF9BVFRBQ0hNRU5UXCIsMzYxNjA6XCJGUkFNRUJVRkZFUlwiLDM2MTYxOlwiUkVOREVSQlVGRkVSXCIsMzYxNjI6XCJSRU5ERVJCVUZGRVJfV0lEVEhcIiwzNjE2MzpcIlJFTkRFUkJVRkZFUl9IRUlHSFRcIiwzNjE2NDpcIlJFTkRFUkJVRkZFUl9JTlRFUk5BTF9GT1JNQVRcIiwzNjE2ODpcIlNURU5DSUxfSU5ERVg4XCIsMzYxNzY6XCJSRU5ERVJCVUZGRVJfUkVEX1NJWkVcIiwzNjE3NzpcIlJFTkRFUkJVRkZFUl9HUkVFTl9TSVpFXCIsMzYxNzg6XCJSRU5ERVJCVUZGRVJfQkxVRV9TSVpFXCIsMzYxNzk6XCJSRU5ERVJCVUZGRVJfQUxQSEFfU0laRVwiLDM2MTgwOlwiUkVOREVSQlVGRkVSX0RFUFRIX1NJWkVcIiwzNjE4MTpcIlJFTkRFUkJVRkZFUl9TVEVOQ0lMX1NJWkVcIiwzNjE5NDpcIlJHQjU2NVwiLDM2MzM2OlwiTE9XX0ZMT0FUXCIsMzYzMzc6XCJNRURJVU1fRkxPQVRcIiwzNjMzODpcIkhJR0hfRkxPQVRcIiwzNjMzOTpcIkxPV19JTlRcIiwzNjM0MDpcIk1FRElVTV9JTlRcIiwzNjM0MTpcIkhJR0hfSU5UXCIsMzYzNDY6XCJTSEFERVJfQ09NUElMRVJcIiwzNjM0NzpcIk1BWF9WRVJURVhfVU5JRk9STV9WRUNUT1JTXCIsMzYzNDg6XCJNQVhfVkFSWUlOR19WRUNUT1JTXCIsMzYzNDk6XCJNQVhfRlJBR01FTlRfVU5JRk9STV9WRUNUT1JTXCIsMzc0NDA6XCJVTlBBQ0tfRkxJUF9ZX1dFQkdMXCIsMzc0NDE6XCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0xcIiwzNzQ0MjpcIkNPTlRFWFRfTE9TVF9XRUJHTFwiLDM3NDQzOlwiVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTFwiLDM3NDQ0OlwiQlJPV1NFUl9ERUZBVUxUX1dFQkdMXCJ9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBiYXNpYy52ZXJ0XFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBCQVNJQ19WRVJURVhcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5hdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjMyBhTm9ybWFsO1xcblxcbnVuaWZvcm0gbWF0NCB1TW9kZWxNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uTWF0cml4ICogdVZpZXdNYXRyaXggKiB1TW9kZWxNYXRyaXggKiB2ZWM0KGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZOb3JtYWwgPSBhTm9ybWFsO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX3NjaGVkdWxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfc2NoZWR1bGluZzI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX3NjaGVkdWxpbmcpLEVhc2VOdW1iZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFYXNlTnVtYmVyKG1WYWx1ZSl7dmFyIF90aGlzPXRoaXMsbUVhc2luZz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06LjE7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRWFzZU51bWJlciksdGhpcy5lYXNpbmc9bUVhc2luZyx0aGlzLl92YWx1ZT1tVmFsdWUsdGhpcy5fdGFyZ2V0VmFsdWU9bVZhbHVlLHRoaXMuX2VmSW5kZXg9X3NjaGVkdWxpbmcyLmRlZmF1bHQuYWRkRUYoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX3VwZGF0ZSgpfSl9cmV0dXJuIF9jcmVhdGVDbGFzcyhFYXNlTnVtYmVyLFt7a2V5OlwiX3VwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2hlY2tMaW1pdCgpLHRoaXMuX3ZhbHVlKz0odGhpcy5fdGFyZ2V0VmFsdWUtdGhpcy5fdmFsdWUpKnRoaXMuZWFzaW5nLE1hdGguYWJzKHRoaXMuX3RhcmdldFZhbHVlLXRoaXMuX3ZhbHVlKTwxZS00JiYodGhpcy5fdmFsdWU9dGhpcy5fdGFyZ2V0VmFsdWUpfX0se2tleTpcInNldFRvXCIsdmFsdWU6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl90YXJnZXRWYWx1ZT10aGlzLl92YWx1ZT1tVmFsdWV9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24obUFkZCl7dGhpcy5fdGFyZ2V0VmFsdWUrPW1BZGR9fSx7a2V5OlwibGltaXRcIix2YWx1ZTpmdW5jdGlvbihtTWluLG1NYXgpe2lmKG1NaW4+bU1heClyZXR1cm4gdm9pZCB0aGlzLmxpbWl0KG1NYXgsbU1pbik7dGhpcy5fbWluPW1NaW4sdGhpcy5fbWF4PW1NYXgsdGhpcy5fY2hlY2tMaW1pdCgpfX0se2tleTpcIl9jaGVja0xpbWl0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLl9taW4mJnRoaXMuX3RhcmdldFZhbHVlPHRoaXMuX21pbiYmKHRoaXMuX3RhcmdldFZhbHVlPXRoaXMuX21pbiksdm9pZCAwIT09dGhpcy5fbWF4JiZ0aGlzLl90YXJnZXRWYWx1ZT50aGlzLl9tYXgmJih0aGlzLl90YXJnZXRWYWx1ZT10aGlzLl9tYXgpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe19zY2hlZHVsaW5nMi5kZWZhdWx0LnJlbW92ZUVGKHRoaXMuX2VmSW5kZXgpfX0se2tleTpcInZhbHVlXCIsc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fdGFyZ2V0VmFsdWU9bVZhbHVlfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWV9fSx7a2V5OlwidGFyZ2V0VmFsdWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0VmFsdWV9fV0pLEVhc2VOdW1iZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PUVhc2VOdW1iZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLGE9X2dsTWF0cml4LnZlYzMuY3JlYXRlKCksYj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxjPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpLHRhcmdldD1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxlZGdlMT1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxlZGdlMj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxub3JtYWw9X2dsTWF0cml4LnZlYzMuY3JlYXRlKCksZGlmZj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxSYXk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSYXkobU9yaWdpbixtRGlyZWN0aW9uKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxSYXkpLHRoaXMub3JpZ2luPV9nbE1hdHJpeC52ZWMzLmNsb25lKG1PcmlnaW4pLHRoaXMuZGlyZWN0aW9uPV9nbE1hdHJpeC52ZWMzLmNsb25lKG1EaXJlY3Rpb24pfXJldHVybiBfY3JlYXRlQ2xhc3MoUmF5LFt7a2V5OlwiYXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gX2dsTWF0cml4LnZlYzMuY29weSh0YXJnZXQsdGhpcy5kaXJlY3Rpb24pLF9nbE1hdHJpeC52ZWMzLnNjYWxlKHRhcmdldCx0YXJnZXQsdCksX2dsTWF0cml4LnZlYzMuYWRkKHRhcmdldCx0YXJnZXQsdGhpcy5vcmlnaW4pLHRhcmdldH19LHtrZXk6XCJsb29rQXRcIix2YWx1ZTpmdW5jdGlvbihtVGFyZ2V0KXtfZ2xNYXRyaXgudmVjMy5zdWIodGhpcy5kaXJlY3Rpb24sbVRhcmdldCx0aGlzLm9yaWdpbiksX2dsTWF0cml4LnZlYzMubm9ybWFsaXplKHRoaXMub3JpZ2luLHRoaXMub3JpZ2luKX19LHtrZXk6XCJjbG9zZXN0UG9pbnRUb1BvaW50XCIsdmFsdWU6ZnVuY3Rpb24obVBvaW50KXt2YXIgcmVzdWx0PV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpO19nbE1hdHJpeC52ZWMzLnN1YihtUG9pbnQsdGhpcy5vcmlnaW4pO3ZhciBkaXJlY3Rpb25EaXN0YW5jZT1fZ2xNYXRyaXgudmVjMy5kb3QocmVzdWx0LHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gZGlyZWN0aW9uRGlzdGFuY2U8MD9fZ2xNYXRyaXgudmVjMy5jbG9uZSh0aGlzLm9yaWdpbik6KF9nbE1hdHJpeC52ZWMzLmNvcHkocmVzdWx0LHRoaXMuZGlyZWN0aW9uKSxfZ2xNYXRyaXgudmVjMy5zY2FsZShyZXN1bHQscmVzdWx0LGRpcmVjdGlvbkRpc3RhbmNlKSxfZ2xNYXRyaXgudmVjMy5hZGQocmVzdWx0LHJlc3VsdCx0aGlzLm9yaWdpbikscmVzdWx0KX19LHtrZXk6XCJkaXN0YW5jZVRvUG9pbnRcIix2YWx1ZTpmdW5jdGlvbihtUG9pbnQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxVG9Qb2ludChtUG9pbnQpKX19LHtrZXk6XCJkaXN0YW5jZVNxVG9Qb2ludFwiLHZhbHVlOmZ1bmN0aW9uKG1Qb2ludCl7dmFyIHYxPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpO19nbE1hdHJpeC52ZWMzLnN1Yih2MSxtUG9pbnQsdGhpcy5vcmlnaW4pO3ZhciBkaXJlY3Rpb25EaXN0YW5jZT1fZ2xNYXRyaXgudmVjMy5kb3QodjEsdGhpcy5kaXJlY3Rpb24pO3JldHVybiBkaXJlY3Rpb25EaXN0YW5jZTwwP19nbE1hdHJpeC52ZWMzLnNxdWFyZWREaXN0YW5jZSh0aGlzLm9yaWdpbixtUG9pbnQpOihfZ2xNYXRyaXgudmVjMy5jb3B5KHYxLHRoaXMuZGlyZWN0aW9uKSxfZ2xNYXRyaXgudmVjMy5zY2FsZSh2MSx2MSxkaXJlY3Rpb25EaXN0YW5jZSksX2dsTWF0cml4LnZlYzMuYWRkKHYxLHYxLHRoaXMub3JpZ2luKSxfZ2xNYXRyaXgudmVjMy5zcXVhcmVkRGlzdGFuY2UodjEsbVBvaW50KSl9fSx7a2V5OlwiaW50ZXJzZWN0c1NwaGVyZVwiLHZhbHVlOmZ1bmN0aW9uKG1DZW50ZXIsbVJhZGl1cyl7cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KG1DZW50ZXIpPD1tUmFkaXVzfX0se2tleTpcImludGVyc2VjdFNwaGVyZVwiLHZhbHVlOmZ1bmN0aW9uKG1DZW50ZXIsbVJhZGl1cyl7dmFyIHYxPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpO19nbE1hdHJpeC52ZWMzLnN1Yih2MSxtQ2VudGVyLHRoaXMub3JpZ2luKTt2YXIgdGNhPV9nbE1hdHJpeC52ZWMzLmRvdCh2MSx0aGlzLmRpcmVjdGlvbiksZDI9X2dsTWF0cml4LnZlYzMuZG90KHYxLHYxKS10Y2EqdGNhLHJhZGl1czI9bVJhZGl1cyptUmFkaXVzO2lmKGQyPnJhZGl1czIpcmV0dXJuIG51bGw7dmFyIHRoYz1NYXRoLnNxcnQocmFkaXVzMi1kMiksdDA9dGNhLXRoYyx0MT10Y2ErdGhjO3JldHVybiB0MDwwJiZ0MTwwP251bGw6dDA8MD90aGlzLmF0KHQxKTp0aGlzLmF0KHQwKX19LHtrZXk6XCJkaXN0YW5jZVRvUGxhbmVcIix2YWx1ZTpmdW5jdGlvbihtUGxhbmVDZW50ZXIsbU5vcm1hbCl7X2dsTWF0cml4LnZlYzMuZG90KG1Ob3JtYWwsdGhpcy5kaXJlY3Rpb24pfX0se2tleTpcImludGVyc2VjdFRyaWFuZ2xlXCIsdmFsdWU6ZnVuY3Rpb24obVBBLG1QQixtUEMpe3ZhciBiYWNrZmFjZUN1bGxpbmc9IShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSl8fGFyZ3VtZW50c1szXTtfZ2xNYXRyaXgudmVjMy5jb3B5KGEsbVBBKSxfZ2xNYXRyaXgudmVjMy5jb3B5KGIsbVBCKSxfZ2xNYXRyaXgudmVjMy5jb3B5KGMsbVBDKSxfZ2xNYXRyaXgudmVjMy5zdWIoZWRnZTEsYixhKSxfZ2xNYXRyaXgudmVjMy5zdWIoZWRnZTIsYyxhKSxfZ2xNYXRyaXgudmVjMy5jcm9zcyhub3JtYWwsZWRnZTEsZWRnZTIpO3ZhciBEZE49X2dsTWF0cml4LnZlYzMuZG90KHRoaXMuZGlyZWN0aW9uLG5vcm1hbCksc2lnbj12b2lkIDA7aWYoRGROPjApe2lmKGJhY2tmYWNlQ3VsbGluZylyZXR1cm4gbnVsbDtzaWduPTF9ZWxzZXtpZighKERkTjwwKSlyZXR1cm4gbnVsbDtzaWduPS0xLERkTj0tRGROfV9nbE1hdHJpeC52ZWMzLnN1YihkaWZmLHRoaXMub3JpZ2luLGEpLF9nbE1hdHJpeC52ZWMzLmNyb3NzKGVkZ2UyLGRpZmYsZWRnZTIpO3ZhciBEZFF4RTI9c2lnbipfZ2xNYXRyaXgudmVjMy5kb3QodGhpcy5kaXJlY3Rpb24sZWRnZTIpO2lmKERkUXhFMjwwKXJldHVybiBudWxsO19nbE1hdHJpeC52ZWMzLmNyb3NzKGVkZ2UxLGVkZ2UxLGRpZmYpO3ZhciBEZEUxeFE9c2lnbipfZ2xNYXRyaXgudmVjMy5kb3QodGhpcy5kaXJlY3Rpb24sZWRnZTEpO2lmKERkRTF4UTwwKXJldHVybiBudWxsO2lmKERkUXhFMitEZEUxeFE+RGROKXJldHVybiBudWxsO3ZhciBRZG49LXNpZ24qX2dsTWF0cml4LnZlYzMuZG90KGRpZmYsbm9ybWFsKTtyZXR1cm4gUWRuPDA/bnVsbDp0aGlzLmF0KFFkbi9EZE4pfX1dKSxSYXl9KCk7ZXhwb3J0cy5kZWZhdWx0PVJheX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dsTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMiksQ2FtZXJhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ2FtZXJhKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ2FtZXJhKSx0aGlzLl9tYXRyaXg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fcXVhdD1fZ2xNYXRyaXgucXVhdC5jcmVhdGUoKSx0aGlzLl9vcmllbnRhdGlvbj1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSx0aGlzLl9wcm9qZWN0aW9uPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMucG9zaXRpb249dmVjMy5jcmVhdGUoKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKENhbWVyYSxbe2tleTpcImxvb2tBdFwiLHZhbHVlOmZ1bmN0aW9uKGFFeWUsYUNlbnRlcil7dmFyIGFVcD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06WzAsMSwwXTt0aGlzLl9leWU9dmVjMy5jbG9uZShhRXllKSx0aGlzLl9jZW50ZXI9dmVjMy5jbG9uZShhQ2VudGVyKSx2ZWMzLmNvcHkodGhpcy5wb3NpdGlvbixhRXllKSxfZ2xNYXRyaXgubWF0NC5pZGVudGl0eSh0aGlzLl9tYXRyaXgpLF9nbE1hdHJpeC5tYXQ0Lmxvb2tBdCh0aGlzLl9tYXRyaXgsYUV5ZSxhQ2VudGVyLGFVcCl9fSx7a2V5Olwic2V0RnJvbU9yaWVudGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oeCx5LHosdyl7X2dsTWF0cml4LnF1YXQuc2V0KHRoaXMuX3F1YXQseCx5LHosdyksX2dsTWF0cml4Lm1hdDQuZnJvbVF1YXQodGhpcy5fb3JpZW50YXRpb24sdGhpcy5fcXVhdCksX2dsTWF0cml4Lm1hdDQudHJhbnNsYXRlKHRoaXMuX21hdHJpeCx0aGlzLl9vcmllbnRhdGlvbix0aGlzLnBvc2l0aW9uT2Zmc2V0KX19LHtrZXk6XCJzZXRQcm9qZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24obVByb2ope3RoaXMuX3Byb2plY3Rpb249X2dsTWF0cml4Lm1hdDQuY2xvbmUobVByb2opfX0se2tleTpcInNldFZpZXdcIix2YWx1ZTpmdW5jdGlvbihtVmlldyl7dGhpcy5fbWF0cml4PV9nbE1hdHJpeC5tYXQ0LmNsb25lKG1WaWV3KX19LHtrZXk6XCJzZXRGcm9tVmlld1Byb2pcIix2YWx1ZTpmdW5jdGlvbihtVmlldyxtUHJvail7dGhpcy5zZXRWaWV3KG1WaWV3KSx0aGlzLnNldFByb2plY3Rpb24obVByb2opfX0se2tleTpcIm1hdHJpeFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXRyaXh9fSx7a2V5Olwidmlld01hdHJpeFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXRyaXh9fSx7a2V5OlwicHJvamVjdGlvblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0aW9ufX0se2tleTpcInByb2plY3Rpb25NYXRyaXhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdGlvbn19LHtrZXk6XCJleWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXllfX0se2tleTpcImNlbnRlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jZW50ZXJ9fV0pLENhbWVyYX0oKTtleHBvcnRzLmRlZmF1bHQ9Q2FtZXJhfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9DYW1lcmEyPV9fd2VicGFja19yZXF1aXJlX18oMTIpLF9DYW1lcmEzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbWVyYTIpLF9SYXk9X193ZWJwYWNrX3JlcXVpcmVfXygxMSksX1JheTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmF5KSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxtSW52ZXJzZVZpZXdQcm9qPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLGNhbWVyYURpcj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxDYW1lcmFQZXJzcGVjdGl2ZT1mdW5jdGlvbihfQ2FtZXJhKXtmdW5jdGlvbiBDYW1lcmFQZXJzcGVjdGl2ZShtRm92LG1Bc3BlY3RSYXRpbyxtTmVhcixtRmFyKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDYW1lcmFQZXJzcGVjdGl2ZSk7dmFyIF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKENhbWVyYVBlcnNwZWN0aXZlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKENhbWVyYVBlcnNwZWN0aXZlKSkuY2FsbCh0aGlzKSk7cmV0dXJuIG1Gb3YmJl90aGlzLnNldFBlcnNwZWN0aXZlKG1Gb3YsbUFzcGVjdFJhdGlvLG1OZWFyLG1GYXIpLF90aGlzfXJldHVybiBfaW5oZXJpdHMoQ2FtZXJhUGVyc3BlY3RpdmUsX0NhbWVyYSksX2NyZWF0ZUNsYXNzKENhbWVyYVBlcnNwZWN0aXZlLFt7a2V5Olwic2V0UGVyc3BlY3RpdmVcIix2YWx1ZTpmdW5jdGlvbihtRm92LG1Bc3BlY3RSYXRpbyxtTmVhcixtRmFyKXt0aGlzLl9mb3Y9bUZvdix0aGlzLl9uZWFyPW1OZWFyLHRoaXMuX2Zhcj1tRmFyLHRoaXMuX2FzcGVjdFJhdGlvPW1Bc3BlY3RSYXRpbyxfZ2xNYXRyaXgubWF0NC5wZXJzcGVjdGl2ZSh0aGlzLl9wcm9qZWN0aW9uLG1Gb3YsbUFzcGVjdFJhdGlvLG1OZWFyLG1GYXIpfX0se2tleTpcInNldEFzcGVjdFJhdGlvXCIsdmFsdWU6ZnVuY3Rpb24obUFzcGVjdFJhdGlvKXt0aGlzLl9hc3BlY3RSYXRpbz1tQXNwZWN0UmF0aW8sX2dsTWF0cml4Lm1hdDQucGVyc3BlY3RpdmUodGhpcy5wcm9qZWN0aW9uLHRoaXMuX2ZvdixtQXNwZWN0UmF0aW8sdGhpcy5fbmVhcix0aGlzLl9mYXIpfX0se2tleTpcImdlbmVyYXRlUmF5XCIsdmFsdWU6ZnVuY3Rpb24obVNjcmVlblBvc2l0aW9uLG1SYXkpe3ZhciBwcm9qPXRoaXMucHJvamVjdGlvbk1hdHJpeCx2aWV3PXRoaXMudmlld01hdHJpeDtyZXR1cm4gX2dsTWF0cml4Lm1hdDQubXVsdGlwbHkobUludmVyc2VWaWV3UHJvaixwcm9qLHZpZXcpLF9nbE1hdHJpeC5tYXQ0LmludmVydChtSW52ZXJzZVZpZXdQcm9qLG1JbnZlcnNlVmlld1Byb2opLF9nbE1hdHJpeC52ZWMzLnRyYW5zZm9ybU1hdDQoY2FtZXJhRGlyLG1TY3JlZW5Qb3NpdGlvbixtSW52ZXJzZVZpZXdQcm9qKSxfZ2xNYXRyaXgudmVjMy5zdWIoY2FtZXJhRGlyLGNhbWVyYURpcix0aGlzLnBvc2l0aW9uKSxfZ2xNYXRyaXgudmVjMy5ub3JtYWxpemUoY2FtZXJhRGlyLGNhbWVyYURpciksbVJheT8obVJheS5vcmlnaW49dGhpcy5wb3NpdGlvbixtUmF5LmRpcmVjdGlvbj1jYW1lcmFEaXIpOm1SYXk9bmV3IF9SYXkyLmRlZmF1bHQodGhpcy5wb3NpdGlvbixjYW1lcmFEaXIpLG1SYXl9fV0pLENhbWVyYVBlcnNwZWN0aXZlfShfQ2FtZXJhMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9Q2FtZXJhUGVyc3BlY3RpdmV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLEJpbmFyeUxvYWRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIEJpbmFyeUxvYWRlcigpe3ZhciBfdGhpcz10aGlzLGlzQXJyYXlCdWZmZXI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCaW5hcnlMb2FkZXIpLHRoaXMuX3JlcT1uZXcgWE1MSHR0cFJlcXVlc3QsdGhpcy5fcmVxLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbkxvYWRlZChlKX0pLHRoaXMuX3JlcS5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixmdW5jdGlvbihlKXtyZXR1cm4gX3RoaXMuX29uUHJvZ3Jlc3MoZSl9KSxpc0FycmF5QnVmZmVyJiYodGhpcy5fcmVxLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIpfXJldHVybiBfY3JlYXRlQ2xhc3MoQmluYXJ5TG9hZGVyLFt7a2V5OlwibG9hZFwiLHZhbHVlOmZ1bmN0aW9uKHVybCxjYWxsYmFjayl7Y29uc29sZS5sb2coXCJMb2FkaW5nIDogXCIsdXJsKSx0aGlzLl9jYWxsYmFjaz1jYWxsYmFjayx0aGlzLl9yZXEub3BlbihcIkdFVFwiLHVybCksdGhpcy5fcmVxLnNlbmQoKX19LHtrZXk6XCJfb25Mb2FkZWRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2NhbGxiYWNrKHRoaXMuX3JlcS5yZXNwb25zZSl9fSx7a2V5OlwiX29uUHJvZ3Jlc3NcIix2YWx1ZTpmdW5jdGlvbigpe319XSksQmluYXJ5TG9hZGVyfSgpO2V4cG9ydHMuZGVmYXVsdD1CaW5hcnlMb2FkZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGJpZ1RyaWFuZ2xlLnZlcnRcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIEJJR19UUklBTkdMRV9WRVJURVhcXG5cXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbmF0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYVBvc2l0aW9uLCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhUG9zaXRpb24gKiAuNSArIC41O1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gY29weS5mcmFnXFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBDT1BZX0ZSQUdNRU5UXFxuXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4dHVyZUNvb3JkKTtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIHNpbXBsZUNvbG9yLmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIFNJTVBMRV9DT0xPUlxcblxcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuXFxudW5pZm9ybSB2ZWMzIGNvbG9yO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCBvcGFjaXR5KTtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNyZWF0ZSgpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7cmV0dXJuIGdsTWF0cml4LkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs1XT0wLG91dFs2XT0wLG91dFs3XT0wKSxvdXRbMF09MSxvdXRbNF09MSxvdXRbOF09MSxvdXR9ZnVuY3Rpb24gZnJvbU1hdDQob3V0LGEpe3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVs0XSxvdXRbNF09YVs1XSxvdXRbNV09YVs2XSxvdXRbNl09YVs4XSxvdXRbN109YVs5XSxvdXRbOF09YVsxMF0sb3V0fWZ1bmN0aW9uIGNsb25lKGEpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzNdLG91dFs0XT1hWzRdLG91dFs1XT1hWzVdLG91dFs2XT1hWzZdLG91dFs3XT1hWzddLG91dFs4XT1hWzhdLG91dH1mdW5jdGlvbiBjb3B5KG91dCxhKXtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0WzNdPWFbM10sb3V0WzRdPWFbNF0sb3V0WzVdPWFbNV0sb3V0WzZdPWFbNl0sb3V0WzddPWFbN10sb3V0WzhdPWFbOF0sb3V0fWZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLG0wMSxtMDIsbTEwLG0xMSxtMTIsbTIwLG0yMSxtMjIpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7cmV0dXJuIG91dFswXT1tMDAsb3V0WzFdPW0wMSxvdXRbMl09bTAyLG91dFszXT1tMTAsb3V0WzRdPW0xMSxvdXRbNV09bTEyLG91dFs2XT1tMjAsb3V0WzddPW0yMSxvdXRbOF09bTIyLG91dH1mdW5jdGlvbiBzZXQob3V0LG0wMCxtMDEsbTAyLG0xMCxtMTEsbTEyLG0yMCxtMjEsbTIyKXtyZXR1cm4gb3V0WzBdPW0wMCxvdXRbMV09bTAxLG91dFsyXT1tMDIsb3V0WzNdPW0xMCxvdXRbNF09bTExLG91dFs1XT1tMTIsb3V0WzZdPW0yMCxvdXRbN109bTIxLG91dFs4XT1tMjIsb3V0fWZ1bmN0aW9uIGlkZW50aXR5KG91dCl7cmV0dXJuIG91dFswXT0xLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0xLG91dFs1XT0wLG91dFs2XT0wLG91dFs3XT0wLG91dFs4XT0xLG91dH1mdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LGEpe2lmKG91dD09PWEpe3ZhciBhMDE9YVsxXSxhMDI9YVsyXSxhMTI9YVs1XTtvdXRbMV09YVszXSxvdXRbMl09YVs2XSxvdXRbM109YTAxLG91dFs1XT1hWzddLG91dFs2XT1hMDIsb3V0WzddPWExMn1lbHNlIG91dFswXT1hWzBdLG91dFsxXT1hWzNdLG91dFsyXT1hWzZdLG91dFszXT1hWzFdLG91dFs0XT1hWzRdLG91dFs1XT1hWzddLG91dFs2XT1hWzJdLG91dFs3XT1hWzVdLG91dFs4XT1hWzhdO3JldHVybiBvdXR9ZnVuY3Rpb24gaW52ZXJ0KG91dCxhKXt2YXIgYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTEwPWFbM10sYTExPWFbNF0sYTEyPWFbNV0sYTIwPWFbNl0sYTIxPWFbN10sYTIyPWFbOF0sYjAxPWEyMiphMTEtYTEyKmEyMSxiMTE9LWEyMiphMTArYTEyKmEyMCxiMjE9YTIxKmExMC1hMTEqYTIwLGRldD1hMDAqYjAxK2EwMSpiMTErYTAyKmIyMTtyZXR1cm4gZGV0PyhkZXQ9MS9kZXQsb3V0WzBdPWIwMSpkZXQsb3V0WzFdPSgtYTIyKmEwMSthMDIqYTIxKSpkZXQsb3V0WzJdPShhMTIqYTAxLWEwMiphMTEpKmRldCxvdXRbM109YjExKmRldCxvdXRbNF09KGEyMiphMDAtYTAyKmEyMCkqZGV0LG91dFs1XT0oLWExMiphMDArYTAyKmExMCkqZGV0LG91dFs2XT1iMjEqZGV0LG91dFs3XT0oLWEyMSphMDArYTAxKmEyMCkqZGV0LG91dFs4XT0oYTExKmEwMC1hMDEqYTEwKSpkZXQsb3V0KTpudWxsfWZ1bmN0aW9uIGFkam9pbnQob3V0LGEpe3ZhciBhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMTA9YVszXSxhMTE9YVs0XSxhMTI9YVs1XSxhMjA9YVs2XSxhMjE9YVs3XSxhMjI9YVs4XTtyZXR1cm4gb3V0WzBdPWExMSphMjItYTEyKmEyMSxvdXRbMV09YTAyKmEyMS1hMDEqYTIyLG91dFsyXT1hMDEqYTEyLWEwMiphMTEsb3V0WzNdPWExMiphMjAtYTEwKmEyMixvdXRbNF09YTAwKmEyMi1hMDIqYTIwLG91dFs1XT1hMDIqYTEwLWEwMCphMTIsb3V0WzZdPWExMCphMjEtYTExKmEyMCxvdXRbN109YTAxKmEyMC1hMDAqYTIxLG91dFs4XT1hMDAqYTExLWEwMSphMTAsb3V0fWZ1bmN0aW9uIGRldGVybWluYW50KGEpe3ZhciBhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMTA9YVszXSxhMTE9YVs0XSxhMTI9YVs1XSxhMjA9YVs2XSxhMjE9YVs3XSxhMjI9YVs4XTtyZXR1cm4gYTAwKihhMjIqYTExLWExMiphMjEpK2EwMSooLWEyMiphMTArYTEyKmEyMCkrYTAyKihhMjEqYTEwLWExMSphMjApfWZ1bmN0aW9uIG11bHRpcGx5KG91dCxhLGIpe3ZhciBhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMTA9YVszXSxhMTE9YVs0XSxhMTI9YVs1XSxhMjA9YVs2XSxhMjE9YVs3XSxhMjI9YVs4XSxiMDA9YlswXSxiMDE9YlsxXSxiMDI9YlsyXSxiMTA9YlszXSxiMTE9Yls0XSxiMTI9Yls1XSxiMjA9Yls2XSxiMjE9Yls3XSxiMjI9Yls4XTtyZXR1cm4gb3V0WzBdPWIwMCphMDArYjAxKmExMCtiMDIqYTIwLG91dFsxXT1iMDAqYTAxK2IwMSphMTErYjAyKmEyMSxvdXRbMl09YjAwKmEwMitiMDEqYTEyK2IwMiphMjIsb3V0WzNdPWIxMCphMDArYjExKmExMCtiMTIqYTIwLG91dFs0XT1iMTAqYTAxK2IxMSphMTErYjEyKmEyMSxvdXRbNV09YjEwKmEwMitiMTEqYTEyK2IxMiphMjIsb3V0WzZdPWIyMCphMDArYjIxKmExMCtiMjIqYTIwLG91dFs3XT1iMjAqYTAxK2IyMSphMTErYjIyKmEyMSxvdXRbOF09YjIwKmEwMitiMjEqYTEyK2IyMiphMjIsb3V0fWZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsYSx2KXt2YXIgYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTEwPWFbM10sYTExPWFbNF0sYTEyPWFbNV0sYTIwPWFbNl0sYTIxPWFbN10sYTIyPWFbOF0seD12WzBdLHk9dlsxXTtyZXR1cm4gb3V0WzBdPWEwMCxvdXRbMV09YTAxLG91dFsyXT1hMDIsb3V0WzNdPWExMCxvdXRbNF09YTExLG91dFs1XT1hMTIsb3V0WzZdPXgqYTAwK3kqYTEwK2EyMCxvdXRbN109eCphMDEreSphMTErYTIxLG91dFs4XT14KmEwMit5KmExMithMjIsb3V0fWZ1bmN0aW9uIHJvdGF0ZShvdXQsYSxyYWQpe3ZhciBhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMTA9YVszXSxhMTE9YVs0XSxhMTI9YVs1XSxhMjA9YVs2XSxhMjE9YVs3XSxhMjI9YVs4XSxzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YyphMDArcyphMTAsb3V0WzFdPWMqYTAxK3MqYTExLG91dFsyXT1jKmEwMitzKmExMixvdXRbM109YyphMTAtcyphMDAsb3V0WzRdPWMqYTExLXMqYTAxLG91dFs1XT1jKmExMi1zKmEwMixvdXRbNl09YTIwLG91dFs3XT1hMjEsb3V0WzhdPWEyMixvdXR9ZnVuY3Rpb24gc2NhbGUob3V0LGEsdil7dmFyIHg9dlswXSx5PXZbMV07cmV0dXJuIG91dFswXT14KmFbMF0sb3V0WzFdPXgqYVsxXSxvdXRbMl09eCphWzJdLG91dFszXT15KmFbM10sb3V0WzRdPXkqYVs0XSxvdXRbNV09eSphWzVdLG91dFs2XT1hWzZdLG91dFs3XT1hWzddLG91dFs4XT1hWzhdLG91dH1mdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LHYpe3JldHVybiBvdXRbMF09MSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09MSxvdXRbNV09MCxvdXRbNl09dlswXSxvdXRbN109dlsxXSxvdXRbOF09MSxvdXR9ZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCxyYWQpe3ZhciBzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YyxvdXRbMV09cyxvdXRbMl09MCxvdXRbM109LXMsb3V0WzRdPWMsb3V0WzVdPTAsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTEsb3V0fWZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCx2KXtyZXR1cm4gb3V0WzBdPXZbMF0sb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPXZbMV0sb3V0WzVdPTAsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTEsb3V0fWZ1bmN0aW9uIGZyb21NYXQyZChvdXQsYSl7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT0wLG91dFszXT1hWzJdLG91dFs0XT1hWzNdLG91dFs1XT0wLG91dFs2XT1hWzRdLG91dFs3XT1hWzVdLG91dFs4XT0xLG91dH1mdW5jdGlvbiBmcm9tUXVhdChvdXQscSl7dmFyIHg9cVswXSx5PXFbMV0sej1xWzJdLHc9cVszXSx4Mj14K3gseTI9eSt5LHoyPXoreix4eD14KngyLHl4PXkqeDIseXk9eSp5Mix6eD16KngyLHp5PXoqeTIseno9eip6Mix3eD13KngyLHd5PXcqeTIsd3o9dyp6MjtyZXR1cm4gb3V0WzBdPTEteXktenosb3V0WzNdPXl4LXd6LG91dFs2XT16eCt3eSxvdXRbMV09eXgrd3osb3V0WzRdPTEteHgtenosb3V0WzddPXp5LXd4LG91dFsyXT16eC13eSxvdXRbNV09enkrd3gsb3V0WzhdPTEteHgteXksb3V0fWZ1bmN0aW9uIG5vcm1hbEZyb21NYXQ0KG91dCxhKXt2YXIgYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTAzPWFbM10sYTEwPWFbNF0sYTExPWFbNV0sYTEyPWFbNl0sYTEzPWFbN10sYTIwPWFbOF0sYTIxPWFbOV0sYTIyPWFbMTBdLGEyMz1hWzExXSxhMzA9YVsxMl0sYTMxPWFbMTNdLGEzMj1hWzE0XSxhMzM9YVsxNV0sYjAwPWEwMCphMTEtYTAxKmExMCxiMDE9YTAwKmExMi1hMDIqYTEwLGIwMj1hMDAqYTEzLWEwMyphMTAsYjAzPWEwMSphMTItYTAyKmExMSxiMDQ9YTAxKmExMy1hMDMqYTExLGIwNT1hMDIqYTEzLWEwMyphMTIsYjA2PWEyMCphMzEtYTIxKmEzMCxiMDc9YTIwKmEzMi1hMjIqYTMwLGIwOD1hMjAqYTMzLWEyMyphMzAsYjA5PWEyMSphMzItYTIyKmEzMSxiMTA9YTIxKmEzMy1hMjMqYTMxLGIxMT1hMjIqYTMzLWEyMyphMzIsZGV0PWIwMCpiMTEtYjAxKmIxMCtiMDIqYjA5K2IwMypiMDgtYjA0KmIwNytiMDUqYjA2O3JldHVybiBkZXQ/KGRldD0xL2RldCxvdXRbMF09KGExMSpiMTEtYTEyKmIxMCthMTMqYjA5KSpkZXQsb3V0WzFdPShhMTIqYjA4LWExMCpiMTEtYTEzKmIwNykqZGV0LG91dFsyXT0oYTEwKmIxMC1hMTEqYjA4K2ExMypiMDYpKmRldCxvdXRbM109KGEwMipiMTAtYTAxKmIxMS1hMDMqYjA5KSpkZXQsb3V0WzRdPShhMDAqYjExLWEwMipiMDgrYTAzKmIwNykqZGV0LG91dFs1XT0oYTAxKmIwOC1hMDAqYjEwLWEwMypiMDYpKmRldCxvdXRbNl09KGEzMSpiMDUtYTMyKmIwNCthMzMqYjAzKSpkZXQsb3V0WzddPShhMzIqYjAyLWEzMCpiMDUtYTMzKmIwMSkqZGV0LG91dFs4XT0oYTMwKmIwNC1hMzEqYjAyK2EzMypiMDApKmRldCxvdXQpOm51bGx9ZnVuY3Rpb24gcHJvamVjdGlvbihvdXQsd2lkdGgsaGVpZ2h0KXtyZXR1cm4gb3V0WzBdPTIvd2lkdGgsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPS0yL2hlaWdodCxvdXRbNV09MCxvdXRbNl09LTEsb3V0WzddPTEsb3V0WzhdPTEsb3V0fWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cIm1hdDMoXCIrYVswXStcIiwgXCIrYVsxXStcIiwgXCIrYVsyXStcIiwgXCIrYVszXStcIiwgXCIrYVs0XStcIiwgXCIrYVs1XStcIiwgXCIrYVs2XStcIiwgXCIrYVs3XStcIiwgXCIrYVs4XStcIilcIn1mdW5jdGlvbiBmcm9iKGEpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYVswXSwyKStNYXRoLnBvdyhhWzFdLDIpK01hdGgucG93KGFbMl0sMikrTWF0aC5wb3coYVszXSwyKStNYXRoLnBvdyhhWzRdLDIpK01hdGgucG93KGFbNV0sMikrTWF0aC5wb3coYVs2XSwyKStNYXRoLnBvdyhhWzddLDIpK01hdGgucG93KGFbOF0sMikpfWZ1bmN0aW9uIGFkZChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0rYlswXSxvdXRbMV09YVsxXStiWzFdLG91dFsyXT1hWzJdK2JbMl0sb3V0WzNdPWFbM10rYlszXSxvdXRbNF09YVs0XStiWzRdLG91dFs1XT1hWzVdK2JbNV0sb3V0WzZdPWFbNl0rYls2XSxvdXRbN109YVs3XStiWzddLG91dFs4XT1hWzhdK2JbOF0sb3V0fWZ1bmN0aW9uIHN1YnRyYWN0KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS1iWzBdLG91dFsxXT1hWzFdLWJbMV0sb3V0WzJdPWFbMl0tYlsyXSxvdXRbM109YVszXS1iWzNdLG91dFs0XT1hWzRdLWJbNF0sb3V0WzVdPWFbNV0tYls1XSxvdXRbNl09YVs2XS1iWzZdLG91dFs3XT1hWzddLWJbN10sb3V0WzhdPWFbOF0tYls4XSxvdXR9ZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdKmIsb3V0WzFdPWFbMV0qYixvdXRbMl09YVsyXSpiLG91dFszXT1hWzNdKmIsb3V0WzRdPWFbNF0qYixvdXRbNV09YVs1XSpiLG91dFs2XT1hWzZdKmIsb3V0WzddPWFbN10qYixvdXRbOF09YVs4XSpiLG91dH1mdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsYSxiLHNjYWxlKXtyZXR1cm4gb3V0WzBdPWFbMF0rYlswXSpzY2FsZSxvdXRbMV09YVsxXStiWzFdKnNjYWxlLG91dFsyXT1hWzJdK2JbMl0qc2NhbGUsb3V0WzNdPWFbM10rYlszXSpzY2FsZSxvdXRbNF09YVs0XStiWzRdKnNjYWxlLG91dFs1XT1hWzVdK2JbNV0qc2NhbGUsb3V0WzZdPWFbNl0rYls2XSpzY2FsZSxvdXRbN109YVs3XStiWzddKnNjYWxlLG91dFs4XT1hWzhdK2JbOF0qc2NhbGUsb3V0fWZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsYil7cmV0dXJuIGFbMF09PT1iWzBdJiZhWzFdPT09YlsxXSYmYVsyXT09PWJbMl0mJmFbM109PT1iWzNdJiZhWzRdPT09Yls0XSYmYVs1XT09PWJbNV0mJmFbNl09PT1iWzZdJiZhWzddPT09Yls3XSYmYVs4XT09PWJbOF19ZnVuY3Rpb24gZXF1YWxzKGEsYil7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10sYTQ9YVs0XSxhNT1hWzVdLGE2PWFbNl0sYTc9YVs3XSxhOD1hWzhdLGIwPWJbMF0sYjE9YlsxXSxiMj1iWzJdLGIzPWJbM10sYjQ9Yls0XSxiNT1iWzVdLGI2PWJbNl0sYjc9Yls3XSxiOD1iWzhdO3JldHVybiBNYXRoLmFicyhhMC1iMCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMCksTWF0aC5hYnMoYjApKSYmTWF0aC5hYnMoYTEtYjEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTEpLE1hdGguYWJzKGIxKSkmJk1hdGguYWJzKGEyLWIyKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEyKSxNYXRoLmFicyhiMikpJiZNYXRoLmFicyhhMy1iMyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMyksTWF0aC5hYnMoYjMpKSYmTWF0aC5hYnMoYTQtYjQpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTQpLE1hdGguYWJzKGI0KSkmJk1hdGguYWJzKGE1LWI1KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE1KSxNYXRoLmFicyhiNSkpJiZNYXRoLmFicyhhNi1iNik8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNiksTWF0aC5hYnMoYjYpKSYmTWF0aC5hYnMoYTctYjcpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTcpLE1hdGguYWJzKGI3KSkmJk1hdGguYWJzKGE4LWI4KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE4KSxNYXRoLmFicyhiOCkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc3ViPWV4cG9ydHMubXVsPXZvaWQgMCxleHBvcnRzLmNyZWF0ZT1jcmVhdGUsZXhwb3J0cy5mcm9tTWF0ND1mcm9tTWF0NCxleHBvcnRzLmNsb25lPWNsb25lLGV4cG9ydHMuY29weT1jb3B5LGV4cG9ydHMuZnJvbVZhbHVlcz1mcm9tVmFsdWVzLGV4cG9ydHMuc2V0PXNldCxleHBvcnRzLmlkZW50aXR5PWlkZW50aXR5LGV4cG9ydHMudHJhbnNwb3NlPXRyYW5zcG9zZSxleHBvcnRzLmludmVydD1pbnZlcnQsZXhwb3J0cy5hZGpvaW50PWFkam9pbnQsZXhwb3J0cy5kZXRlcm1pbmFudD1kZXRlcm1pbmFudCxleHBvcnRzLm11bHRpcGx5PW11bHRpcGx5LGV4cG9ydHMudHJhbnNsYXRlPXRyYW5zbGF0ZSxleHBvcnRzLnJvdGF0ZT1yb3RhdGUsZXhwb3J0cy5zY2FsZT1zY2FsZSxleHBvcnRzLmZyb21UcmFuc2xhdGlvbj1mcm9tVHJhbnNsYXRpb24sZXhwb3J0cy5mcm9tUm90YXRpb249ZnJvbVJvdGF0aW9uLGV4cG9ydHMuZnJvbVNjYWxpbmc9ZnJvbVNjYWxpbmcsZXhwb3J0cy5mcm9tTWF0MmQ9ZnJvbU1hdDJkLGV4cG9ydHMuZnJvbVF1YXQ9ZnJvbVF1YXQsZXhwb3J0cy5ub3JtYWxGcm9tTWF0ND1ub3JtYWxGcm9tTWF0NCxleHBvcnRzLnByb2plY3Rpb249cHJvamVjdGlvbixleHBvcnRzLnN0cj1zdHIsZXhwb3J0cy5mcm9iPWZyb2IsZXhwb3J0cy5hZGQ9YWRkLGV4cG9ydHMuc3VidHJhY3Q9c3VidHJhY3QsZXhwb3J0cy5tdWx0aXBseVNjYWxhcj1tdWx0aXBseVNjYWxhcixleHBvcnRzLm11bHRpcGx5U2NhbGFyQW5kQWRkPW11bHRpcGx5U2NhbGFyQW5kQWRkLGV4cG9ydHMuZXhhY3RFcXVhbHM9ZXhhY3RFcXVhbHMsZXhwb3J0cy5lcXVhbHM9ZXF1YWxzO3ZhciBfY29tbW9uPV9fd2VicGFja19yZXF1aXJlX18oMyksZ2xNYXRyaXg9ZnVuY3Rpb24ob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian0oX2NvbW1vbik7ZXhwb3J0cy5tdWw9bXVsdGlwbHksZXhwb3J0cy5zdWI9c3VidHJhY3R9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNyZWF0ZSgpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO3JldHVybiBnbE1hdHJpeC5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09MCxvdXRbNl09MCxvdXRbN109MCxvdXRbOF09MCxvdXRbOV09MCxvdXRbMTFdPTAsb3V0WzEyXT0wLG91dFsxM109MCxvdXRbMTRdPTApLG91dFswXT0xLG91dFs1XT0xLG91dFsxMF09MSxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGNsb25lKGEpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXRbNF09YVs0XSxvdXRbNV09YVs1XSxvdXRbNl09YVs2XSxvdXRbN109YVs3XSxvdXRbOF09YVs4XSxvdXRbOV09YVs5XSxvdXRbMTBdPWFbMTBdLG91dFsxMV09YVsxMV0sb3V0WzEyXT1hWzEyXSxvdXRbMTNdPWFbMTNdLG91dFsxNF09YVsxNF0sb3V0WzE1XT1hWzE1XSxvdXR9ZnVuY3Rpb24gY29weShvdXQsYSl7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzNdLG91dFs0XT1hWzRdLG91dFs1XT1hWzVdLG91dFs2XT1hWzZdLG91dFs3XT1hWzddLG91dFs4XT1hWzhdLG91dFs5XT1hWzldLG91dFsxMF09YVsxMF0sb3V0WzExXT1hWzExXSxvdXRbMTJdPWFbMTJdLG91dFsxM109YVsxM10sb3V0WzE0XT1hWzE0XSxvdXRbMTVdPWFbMTVdLG91dH1mdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCxtMDEsbTAyLG0wMyxtMTAsbTExLG0xMixtMTMsbTIwLG0yMSxtMjIsbTIzLG0zMCxtMzEsbTMyLG0zMyl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7cmV0dXJuIG91dFswXT1tMDAsb3V0WzFdPW0wMSxvdXRbMl09bTAyLG91dFszXT1tMDMsb3V0WzRdPW0xMCxvdXRbNV09bTExLG91dFs2XT1tMTIsb3V0WzddPW0xMyxvdXRbOF09bTIwLG91dFs5XT1tMjEsb3V0WzEwXT1tMjIsb3V0WzExXT1tMjMsb3V0WzEyXT1tMzAsb3V0WzEzXT1tMzEsb3V0WzE0XT1tMzIsb3V0WzE1XT1tMzMsb3V0fWZ1bmN0aW9uIHNldChvdXQsbTAwLG0wMSxtMDIsbTAzLG0xMCxtMTEsbTEyLG0xMyxtMjAsbTIxLG0yMixtMjMsbTMwLG0zMSxtMzIsbTMzKXtyZXR1cm4gb3V0WzBdPW0wMCxvdXRbMV09bTAxLG91dFsyXT1tMDIsb3V0WzNdPW0wMyxvdXRbNF09bTEwLG91dFs1XT1tMTEsb3V0WzZdPW0xMixvdXRbN109bTEzLG91dFs4XT1tMjAsb3V0WzldPW0yMSxvdXRbMTBdPW0yMixvdXRbMTFdPW0yMyxvdXRbMTJdPW0zMCxvdXRbMTNdPW0zMSxvdXRbMTRdPW0zMixvdXRbMTVdPW0zMyxvdXR9ZnVuY3Rpb24gaWRlbnRpdHkob3V0KXtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPTEsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPTAsb3V0WzEwXT0xLG91dFsxMV09MCxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09MCxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsYSl7aWYob3V0PT09YSl7dmFyIGEwMT1hWzFdLGEwMj1hWzJdLGEwMz1hWzNdLGExMj1hWzZdLGExMz1hWzddLGEyMz1hWzExXTtvdXRbMV09YVs0XSxvdXRbMl09YVs4XSxvdXRbM109YVsxMl0sb3V0WzRdPWEwMSxvdXRbNl09YVs5XSxvdXRbN109YVsxM10sb3V0WzhdPWEwMixvdXRbOV09YTEyLG91dFsxMV09YVsxNF0sb3V0WzEyXT1hMDMsb3V0WzEzXT1hMTMsb3V0WzE0XT1hMjN9ZWxzZSBvdXRbMF09YVswXSxvdXRbMV09YVs0XSxvdXRbMl09YVs4XSxvdXRbM109YVsxMl0sb3V0WzRdPWFbMV0sb3V0WzVdPWFbNV0sb3V0WzZdPWFbOV0sb3V0WzddPWFbMTNdLG91dFs4XT1hWzJdLG91dFs5XT1hWzZdLG91dFsxMF09YVsxMF0sb3V0WzExXT1hWzE0XSxvdXRbMTJdPWFbM10sb3V0WzEzXT1hWzddLG91dFsxNF09YVsxMV0sb3V0WzE1XT1hWzE1XTtyZXR1cm4gb3V0fWZ1bmN0aW9uIGludmVydChvdXQsYSl7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGEwMz1hWzNdLGExMD1hWzRdLGExMT1hWzVdLGExMj1hWzZdLGExMz1hWzddLGEyMD1hWzhdLGEyMT1hWzldLGEyMj1hWzEwXSxhMjM9YVsxMV0sYTMwPWFbMTJdLGEzMT1hWzEzXSxhMzI9YVsxNF0sYTMzPWFbMTVdLGIwMD1hMDAqYTExLWEwMSphMTAsYjAxPWEwMCphMTItYTAyKmExMCxiMDI9YTAwKmExMy1hMDMqYTEwLGIwMz1hMDEqYTEyLWEwMiphMTEsYjA0PWEwMSphMTMtYTAzKmExMSxiMDU9YTAyKmExMy1hMDMqYTEyLGIwNj1hMjAqYTMxLWEyMSphMzAsYjA3PWEyMCphMzItYTIyKmEzMCxiMDg9YTIwKmEzMy1hMjMqYTMwLGIwOT1hMjEqYTMyLWEyMiphMzEsYjEwPWEyMSphMzMtYTIzKmEzMSxiMTE9YTIyKmEzMy1hMjMqYTMyLGRldD1iMDAqYjExLWIwMSpiMTArYjAyKmIwOStiMDMqYjA4LWIwNCpiMDcrYjA1KmIwNjtyZXR1cm4gZGV0PyhkZXQ9MS9kZXQsb3V0WzBdPShhMTEqYjExLWExMipiMTArYTEzKmIwOSkqZGV0LG91dFsxXT0oYTAyKmIxMC1hMDEqYjExLWEwMypiMDkpKmRldCxvdXRbMl09KGEzMSpiMDUtYTMyKmIwNCthMzMqYjAzKSpkZXQsb3V0WzNdPShhMjIqYjA0LWEyMSpiMDUtYTIzKmIwMykqZGV0LG91dFs0XT0oYTEyKmIwOC1hMTAqYjExLWExMypiMDcpKmRldCxvdXRbNV09KGEwMCpiMTEtYTAyKmIwOCthMDMqYjA3KSpkZXQsb3V0WzZdPShhMzIqYjAyLWEzMCpiMDUtYTMzKmIwMSkqZGV0LG91dFs3XT0oYTIwKmIwNS1hMjIqYjAyK2EyMypiMDEpKmRldCxvdXRbOF09KGExMCpiMTAtYTExKmIwOCthMTMqYjA2KSpkZXQsb3V0WzldPShhMDEqYjA4LWEwMCpiMTAtYTAzKmIwNikqZGV0LG91dFsxMF09KGEzMCpiMDQtYTMxKmIwMithMzMqYjAwKSpkZXQsb3V0WzExXT0oYTIxKmIwMi1hMjAqYjA0LWEyMypiMDApKmRldCxvdXRbMTJdPShhMTEqYjA3LWExMCpiMDktYTEyKmIwNikqZGV0LG91dFsxM109KGEwMCpiMDktYTAxKmIwNythMDIqYjA2KSpkZXQsb3V0WzE0XT0oYTMxKmIwMS1hMzAqYjAzLWEzMipiMDApKmRldCxvdXRbMTVdPShhMjAqYjAzLWEyMSpiMDErYTIyKmIwMCkqZGV0LG91dCk6bnVsbH1mdW5jdGlvbiBhZGpvaW50KG91dCxhKXt2YXIgYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTAzPWFbM10sYTEwPWFbNF0sYTExPWFbNV0sYTEyPWFbNl0sYTEzPWFbN10sYTIwPWFbOF0sYTIxPWFbOV0sYTIyPWFbMTBdLGEyMz1hWzExXSxhMzA9YVsxMl0sYTMxPWFbMTNdLGEzMj1hWzE0XSxhMzM9YVsxNV07cmV0dXJuIG91dFswXT1hMTEqKGEyMiphMzMtYTIzKmEzMiktYTIxKihhMTIqYTMzLWExMyphMzIpK2EzMSooYTEyKmEyMy1hMTMqYTIyKSxvdXRbMV09LShhMDEqKGEyMiphMzMtYTIzKmEzMiktYTIxKihhMDIqYTMzLWEwMyphMzIpK2EzMSooYTAyKmEyMy1hMDMqYTIyKSksb3V0WzJdPWEwMSooYTEyKmEzMy1hMTMqYTMyKS1hMTEqKGEwMiphMzMtYTAzKmEzMikrYTMxKihhMDIqYTEzLWEwMyphMTIpLG91dFszXT0tKGEwMSooYTEyKmEyMy1hMTMqYTIyKS1hMTEqKGEwMiphMjMtYTAzKmEyMikrYTIxKihhMDIqYTEzLWEwMyphMTIpKSxvdXRbNF09LShhMTAqKGEyMiphMzMtYTIzKmEzMiktYTIwKihhMTIqYTMzLWExMyphMzIpK2EzMCooYTEyKmEyMy1hMTMqYTIyKSksb3V0WzVdPWEwMCooYTIyKmEzMy1hMjMqYTMyKS1hMjAqKGEwMiphMzMtYTAzKmEzMikrYTMwKihhMDIqYTIzLWEwMyphMjIpLG91dFs2XT0tKGEwMCooYTEyKmEzMy1hMTMqYTMyKS1hMTAqKGEwMiphMzMtYTAzKmEzMikrYTMwKihhMDIqYTEzLWEwMyphMTIpKSxvdXRbN109YTAwKihhMTIqYTIzLWExMyphMjIpLWExMCooYTAyKmEyMy1hMDMqYTIyKSthMjAqKGEwMiphMTMtYTAzKmExMiksb3V0WzhdPWExMCooYTIxKmEzMy1hMjMqYTMxKS1hMjAqKGExMSphMzMtYTEzKmEzMSkrYTMwKihhMTEqYTIzLWExMyphMjEpLG91dFs5XT0tKGEwMCooYTIxKmEzMy1hMjMqYTMxKS1hMjAqKGEwMSphMzMtYTAzKmEzMSkrYTMwKihhMDEqYTIzLWEwMyphMjEpKSxvdXRbMTBdPWEwMCooYTExKmEzMy1hMTMqYTMxKS1hMTAqKGEwMSphMzMtYTAzKmEzMSkrYTMwKihhMDEqYTEzLWEwMyphMTEpLG91dFsxMV09LShhMDAqKGExMSphMjMtYTEzKmEyMSktYTEwKihhMDEqYTIzLWEwMyphMjEpK2EyMCooYTAxKmExMy1hMDMqYTExKSksb3V0WzEyXT0tKGExMCooYTIxKmEzMi1hMjIqYTMxKS1hMjAqKGExMSphMzItYTEyKmEzMSkrYTMwKihhMTEqYTIyLWExMiphMjEpKSxvdXRbMTNdPWEwMCooYTIxKmEzMi1hMjIqYTMxKS1hMjAqKGEwMSphMzItYTAyKmEzMSkrYTMwKihhMDEqYTIyLWEwMiphMjEpLG91dFsxNF09LShhMDAqKGExMSphMzItYTEyKmEzMSktYTEwKihhMDEqYTMyLWEwMiphMzEpK2EzMCooYTAxKmExMi1hMDIqYTExKSksb3V0WzE1XT1hMDAqKGExMSphMjItYTEyKmEyMSktYTEwKihhMDEqYTIyLWEwMiphMjEpK2EyMCooYTAxKmExMi1hMDIqYTExKSxvdXR9ZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSl7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGEwMz1hWzNdLGExMD1hWzRdLGExMT1hWzVdLGExMj1hWzZdLGExMz1hWzddLGEyMD1hWzhdLGEyMT1hWzldLGEyMj1hWzEwXSxhMjM9YVsxMV0sYTMwPWFbMTJdLGEzMT1hWzEzXSxhMzI9YVsxNF0sYTMzPWFbMTVdO3JldHVybihhMDAqYTExLWEwMSphMTApKihhMjIqYTMzLWEyMyphMzIpLShhMDAqYTEyLWEwMiphMTApKihhMjEqYTMzLWEyMyphMzEpKyhhMDAqYTEzLWEwMyphMTApKihhMjEqYTMyLWEyMiphMzEpKyhhMDEqYTEyLWEwMiphMTEpKihhMjAqYTMzLWEyMyphMzApLShhMDEqYTEzLWEwMyphMTEpKihhMjAqYTMyLWEyMiphMzApKyhhMDIqYTEzLWEwMyphMTIpKihhMjAqYTMxLWEyMSphMzApfWZ1bmN0aW9uIG11bHRpcGx5KG91dCxhLGIpe3ZhciBhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMDM9YVszXSxhMTA9YVs0XSxhMTE9YVs1XSxhMTI9YVs2XSxhMTM9YVs3XSxhMjA9YVs4XSxhMjE9YVs5XSxhMjI9YVsxMF0sYTIzPWFbMTFdLGEzMD1hWzEyXSxhMzE9YVsxM10sYTMyPWFbMTRdLGEzMz1hWzE1XSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXSxiMz1iWzNdO3JldHVybiBvdXRbMF09YjAqYTAwK2IxKmExMCtiMiphMjArYjMqYTMwLG91dFsxXT1iMCphMDErYjEqYTExK2IyKmEyMStiMyphMzEsb3V0WzJdPWIwKmEwMitiMSphMTIrYjIqYTIyK2IzKmEzMixvdXRbM109YjAqYTAzK2IxKmExMytiMiphMjMrYjMqYTMzLGIwPWJbNF0sYjE9Yls1XSxiMj1iWzZdLGIzPWJbN10sb3V0WzRdPWIwKmEwMCtiMSphMTArYjIqYTIwK2IzKmEzMCxvdXRbNV09YjAqYTAxK2IxKmExMStiMiphMjErYjMqYTMxLG91dFs2XT1iMCphMDIrYjEqYTEyK2IyKmEyMitiMyphMzIsb3V0WzddPWIwKmEwMytiMSphMTMrYjIqYTIzK2IzKmEzMyxiMD1iWzhdLGIxPWJbOV0sYjI9YlsxMF0sYjM9YlsxMV0sb3V0WzhdPWIwKmEwMCtiMSphMTArYjIqYTIwK2IzKmEzMCxvdXRbOV09YjAqYTAxK2IxKmExMStiMiphMjErYjMqYTMxLG91dFsxMF09YjAqYTAyK2IxKmExMitiMiphMjIrYjMqYTMyLG91dFsxMV09YjAqYTAzK2IxKmExMytiMiphMjMrYjMqYTMzLGIwPWJbMTJdLGIxPWJbMTNdLGIyPWJbMTRdLGIzPWJbMTVdLG91dFsxMl09YjAqYTAwK2IxKmExMCtiMiphMjArYjMqYTMwLG91dFsxM109YjAqYTAxK2IxKmExMStiMiphMjErYjMqYTMxLG91dFsxNF09YjAqYTAyK2IxKmExMitiMiphMjIrYjMqYTMyLG91dFsxNV09YjAqYTAzK2IxKmExMytiMiphMjMrYjMqYTMzLG91dH1mdW5jdGlvbiB0cmFuc2xhdGUob3V0LGEsdil7dmFyIHg9dlswXSx5PXZbMV0sej12WzJdLGEwMD12b2lkIDAsYTAxPXZvaWQgMCxhMDI9dm9pZCAwLGEwMz12b2lkIDAsYTEwPXZvaWQgMCxhMTE9dm9pZCAwLGExMj12b2lkIDAsYTEzPXZvaWQgMCxhMjA9dm9pZCAwLGEyMT12b2lkIDAsYTIyPXZvaWQgMCxhMjM9dm9pZCAwO3JldHVybiBhPT09b3V0PyhvdXRbMTJdPWFbMF0qeCthWzRdKnkrYVs4XSp6K2FbMTJdLG91dFsxM109YVsxXSp4K2FbNV0qeSthWzldKnorYVsxM10sb3V0WzE0XT1hWzJdKngrYVs2XSp5K2FbMTBdKnorYVsxNF0sb3V0WzE1XT1hWzNdKngrYVs3XSp5K2FbMTFdKnorYVsxNV0pOihhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMDM9YVszXSxhMTA9YVs0XSxhMTE9YVs1XSxhMTI9YVs2XSxhMTM9YVs3XSxhMjA9YVs4XSxhMjE9YVs5XSxhMjI9YVsxMF0sYTIzPWFbMTFdLG91dFswXT1hMDAsb3V0WzFdPWEwMSxvdXRbMl09YTAyLG91dFszXT1hMDMsb3V0WzRdPWExMCxvdXRbNV09YTExLG91dFs2XT1hMTIsb3V0WzddPWExMyxvdXRbOF09YTIwLG91dFs5XT1hMjEsb3V0WzEwXT1hMjIsb3V0WzExXT1hMjMsb3V0WzEyXT1hMDAqeCthMTAqeSthMjAqeithWzEyXSxvdXRbMTNdPWEwMSp4K2ExMSp5K2EyMSp6K2FbMTNdLG91dFsxNF09YTAyKngrYTEyKnkrYTIyKnorYVsxNF0sb3V0WzE1XT1hMDMqeCthMTMqeSthMjMqeithWzE1XSksb3V0fWZ1bmN0aW9uIHNjYWxlKG91dCxhLHYpe3ZhciB4PXZbMF0seT12WzFdLHo9dlsyXTtyZXR1cm4gb3V0WzBdPWFbMF0qeCxvdXRbMV09YVsxXSp4LG91dFsyXT1hWzJdKngsb3V0WzNdPWFbM10qeCxvdXRbNF09YVs0XSp5LG91dFs1XT1hWzVdKnksb3V0WzZdPWFbNl0qeSxvdXRbN109YVs3XSp5LG91dFs4XT1hWzhdKnosb3V0WzldPWFbOV0qeixvdXRbMTBdPWFbMTBdKnosb3V0WzExXT1hWzExXSp6LG91dFsxMl09YVsxMl0sb3V0WzEzXT1hWzEzXSxvdXRbMTRdPWFbMTRdLG91dFsxNV09YVsxNV0sb3V0fWZ1bmN0aW9uIHJvdGF0ZShvdXQsYSxyYWQsYXhpcyl7dmFyIHg9YXhpc1swXSx5PWF4aXNbMV0sej1heGlzWzJdLGxlbj1NYXRoLnNxcnQoeCp4K3kqeSt6KnopLHM9dm9pZCAwLGM9dm9pZCAwLHQ9dm9pZCAwLGEwMD12b2lkIDAsYTAxPXZvaWQgMCxhMDI9dm9pZCAwLGEwMz12b2lkIDAsYTEwPXZvaWQgMCxhMTE9dm9pZCAwLGExMj12b2lkIDAsYTEzPXZvaWQgMCxhMjA9dm9pZCAwLGEyMT12b2lkIDAsYTIyPXZvaWQgMCxhMjM9dm9pZCAwLGIwMD12b2lkIDAsYjAxPXZvaWQgMCxiMDI9dm9pZCAwLGIxMD12b2lkIDAsYjExPXZvaWQgMCxiMTI9dm9pZCAwLGIyMD12b2lkIDAsYjIxPXZvaWQgMCxiMjI9dm9pZCAwO3JldHVybiBsZW48Z2xNYXRyaXguRVBTSUxPTj9udWxsOihsZW49MS9sZW4seCo9bGVuLHkqPWxlbix6Kj1sZW4scz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKSx0PTEtYyxhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMDM9YVszXSxhMTA9YVs0XSxhMTE9YVs1XSxhMTI9YVs2XSxhMTM9YVs3XSxhMjA9YVs4XSxhMjE9YVs5XSxhMjI9YVsxMF0sYTIzPWFbMTFdLGIwMD14KngqdCtjLGIwMT15KngqdCt6KnMsYjAyPXoqeCp0LXkqcyxiMTA9eCp5KnQteipzLGIxMT15KnkqdCtjLGIxMj16KnkqdCt4KnMsYjIwPXgqeip0K3kqcyxiMjE9eSp6KnQteCpzLGIyMj16KnoqdCtjLG91dFswXT1hMDAqYjAwK2ExMCpiMDErYTIwKmIwMixvdXRbMV09YTAxKmIwMCthMTEqYjAxK2EyMSpiMDIsb3V0WzJdPWEwMipiMDArYTEyKmIwMSthMjIqYjAyLG91dFszXT1hMDMqYjAwK2ExMypiMDErYTIzKmIwMixvdXRbNF09YTAwKmIxMCthMTAqYjExK2EyMCpiMTIsb3V0WzVdPWEwMSpiMTArYTExKmIxMSthMjEqYjEyLG91dFs2XT1hMDIqYjEwK2ExMipiMTErYTIyKmIxMixvdXRbN109YTAzKmIxMCthMTMqYjExK2EyMypiMTIsb3V0WzhdPWEwMCpiMjArYTEwKmIyMSthMjAqYjIyLG91dFs5XT1hMDEqYjIwK2ExMSpiMjErYTIxKmIyMixvdXRbMTBdPWEwMipiMjArYTEyKmIyMSthMjIqYjIyLG91dFsxMV09YTAzKmIyMCthMTMqYjIxK2EyMypiMjIsYSE9PW91dCYmKG91dFsxMl09YVsxMl0sb3V0WzEzXT1hWzEzXSxvdXRbMTRdPWFbMTRdLG91dFsxNV09YVsxNV0pLG91dCl9ZnVuY3Rpb24gcm90YXRlWChvdXQsYSxyYWQpe3ZhciBzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpLGExMD1hWzRdLGExMT1hWzVdLGExMj1hWzZdLGExMz1hWzddLGEyMD1hWzhdLGEyMT1hWzldLGEyMj1hWzEwXSxhMjM9YVsxMV07cmV0dXJuIGEhPT1vdXQmJihvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXRbMTJdPWFbMTJdLG91dFsxM109YVsxM10sb3V0WzE0XT1hWzE0XSxvdXRbMTVdPWFbMTVdKSxvdXRbNF09YTEwKmMrYTIwKnMsb3V0WzVdPWExMSpjK2EyMSpzLG91dFs2XT1hMTIqYythMjIqcyxvdXRbN109YTEzKmMrYTIzKnMsb3V0WzhdPWEyMCpjLWExMCpzLG91dFs5XT1hMjEqYy1hMTEqcyxvdXRbMTBdPWEyMipjLWExMipzLG91dFsxMV09YTIzKmMtYTEzKnMsb3V0fWZ1bmN0aW9uIHJvdGF0ZVkob3V0LGEscmFkKXt2YXIgcz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKSxhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMDM9YVszXSxhMjA9YVs4XSxhMjE9YVs5XSxhMjI9YVsxMF0sYTIzPWFbMTFdO3JldHVybiBhIT09b3V0JiYob3V0WzRdPWFbNF0sb3V0WzVdPWFbNV0sb3V0WzZdPWFbNl0sb3V0WzddPWFbN10sb3V0WzEyXT1hWzEyXSxvdXRbMTNdPWFbMTNdLG91dFsxNF09YVsxNF0sb3V0WzE1XT1hWzE1XSksb3V0WzBdPWEwMCpjLWEyMCpzLG91dFsxXT1hMDEqYy1hMjEqcyxvdXRbMl09YTAyKmMtYTIyKnMsb3V0WzNdPWEwMypjLWEyMypzLG91dFs4XT1hMDAqcythMjAqYyxvdXRbOV09YTAxKnMrYTIxKmMsb3V0WzEwXT1hMDIqcythMjIqYyxvdXRbMTFdPWEwMypzK2EyMypjLG91dH1mdW5jdGlvbiByb3RhdGVaKG91dCxhLHJhZCl7dmFyIHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCksYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTAzPWFbM10sYTEwPWFbNF0sYTExPWFbNV0sYTEyPWFbNl0sYTEzPWFbN107cmV0dXJuIGEhPT1vdXQmJihvdXRbOF09YVs4XSxvdXRbOV09YVs5XSxvdXRbMTBdPWFbMTBdLG91dFsxMV09YVsxMV0sb3V0WzEyXT1hWzEyXSxvdXRbMTNdPWFbMTNdLG91dFsxNF09YVsxNF0sb3V0WzE1XT1hWzE1XSksb3V0WzBdPWEwMCpjK2ExMCpzLG91dFsxXT1hMDEqYythMTEqcyxvdXRbMl09YTAyKmMrYTEyKnMsb3V0WzNdPWEwMypjK2ExMypzLG91dFs0XT1hMTAqYy1hMDAqcyxvdXRbNV09YTExKmMtYTAxKnMsb3V0WzZdPWExMipjLWEwMipzLG91dFs3XT1hMTMqYy1hMDMqcyxvdXR9ZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCx2KXtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPTEsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPTAsb3V0WzEwXT0xLG91dFsxMV09MCxvdXRbMTJdPXZbMF0sb3V0WzEzXT12WzFdLG91dFsxNF09dlsyXSxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCx2KXtyZXR1cm4gb3V0WzBdPXZbMF0sb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPXZbMV0sb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPTAsb3V0WzEwXT12WzJdLG91dFsxMV09MCxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09MCxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQscmFkLGF4aXMpe3ZhciB4PWF4aXNbMF0seT1heGlzWzFdLHo9YXhpc1syXSxsZW49TWF0aC5zcXJ0KHgqeCt5Knkreip6KSxzPXZvaWQgMCxjPXZvaWQgMCx0PXZvaWQgMDtyZXR1cm4gbGVuPGdsTWF0cml4LkVQU0lMT04/bnVsbDoobGVuPTEvbGVuLHgqPWxlbix5Kj1sZW4seio9bGVuLHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCksdD0xLWMsb3V0WzBdPXgqeCp0K2Msb3V0WzFdPXkqeCp0K3oqcyxvdXRbMl09eip4KnQteSpzLG91dFszXT0wLG91dFs0XT14KnkqdC16KnMsb3V0WzVdPXkqeSp0K2Msb3V0WzZdPXoqeSp0K3gqcyxvdXRbN109MCxvdXRbOF09eCp6KnQreSpzLG91dFs5XT15KnoqdC14KnMsb3V0WzEwXT16KnoqdCtjLG91dFsxMV09MCxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09MCxvdXRbMTVdPTEsb3V0KX1mdW5jdGlvbiBmcm9tWFJvdGF0aW9uKG91dCxyYWQpe3ZhciBzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09MSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09MCxvdXRbNV09YyxvdXRbNl09cyxvdXRbN109MCxvdXRbOF09MCxvdXRbOV09LXMsb3V0WzEwXT1jLG91dFsxMV09MCxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09MCxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGZyb21ZUm90YXRpb24ob3V0LHJhZCl7dmFyIHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCk7cmV0dXJuIG91dFswXT1jLG91dFsxXT0wLG91dFsyXT0tcyxvdXRbM109MCxvdXRbNF09MCxvdXRbNV09MSxvdXRbNl09MCxvdXRbN109MCxvdXRbOF09cyxvdXRbOV09MCxvdXRbMTBdPWMsb3V0WzExXT0wLG91dFsxMl09MCxvdXRbMTNdPTAsb3V0WzE0XT0wLG91dFsxNV09MSxvdXR9ZnVuY3Rpb24gZnJvbVpSb3RhdGlvbihvdXQscmFkKXt2YXIgcz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPWMsb3V0WzFdPXMsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPS1zLG91dFs1XT1jLG91dFs2XT0wLG91dFs3XT0wLG91dFs4XT0wLG91dFs5XT0wLG91dFsxMF09MSxvdXRbMTFdPTAsb3V0WzEyXT0wLG91dFsxM109MCxvdXRbMTRdPTAsb3V0WzE1XT0xLG91dH1mdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQscSx2KXt2YXIgeD1xWzBdLHk9cVsxXSx6PXFbMl0sdz1xWzNdLHgyPXgreCx5Mj15K3ksejI9eit6LHh4PXgqeDIseHk9eCp5Mix4ej14KnoyLHl5PXkqeTIseXo9eSp6Mix6ej16KnoyLHd4PXcqeDIsd3k9dyp5Mix3ej13KnoyO3JldHVybiBvdXRbMF09MS0oeXkrenopLG91dFsxXT14eSt3eixvdXRbMl09eHotd3ksb3V0WzNdPTAsb3V0WzRdPXh5LXd6LG91dFs1XT0xLSh4eCt6eiksb3V0WzZdPXl6K3d4LG91dFs3XT0wLG91dFs4XT14eit3eSxvdXRbOV09eXotd3gsb3V0WzEwXT0xLSh4eCt5eSksb3V0WzExXT0wLG91dFsxMl09dlswXSxvdXRbMTNdPXZbMV0sb3V0WzE0XT12WzJdLG91dFsxNV09MSxvdXR9ZnVuY3Rpb24gZnJvbVF1YXQyKG91dCxhKXt2YXIgdHJhbnNsYXRpb249bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyksYng9LWFbMF0sYnk9LWFbMV0sYno9LWFbMl0sYnc9YVszXSxheD1hWzRdLGF5PWFbNV0sYXo9YVs2XSxhdz1hWzddLG1hZ25pdHVkZT1ieCpieCtieSpieStieipieitidypidztyZXR1cm4gbWFnbml0dWRlPjA/KHRyYW5zbGF0aW9uWzBdPTIqKGF4KmJ3K2F3KmJ4K2F5KmJ6LWF6KmJ5KS9tYWduaXR1ZGUsdHJhbnNsYXRpb25bMV09MiooYXkqYncrYXcqYnkrYXoqYngtYXgqYnopL21hZ25pdHVkZSx0cmFuc2xhdGlvblsyXT0yKihheipidythdypieitheCpieS1heSpieCkvbWFnbml0dWRlKToodHJhbnNsYXRpb25bMF09MiooYXgqYncrYXcqYngrYXkqYnotYXoqYnkpLHRyYW5zbGF0aW9uWzFdPTIqKGF5KmJ3K2F3KmJ5K2F6KmJ4LWF4KmJ6KSx0cmFuc2xhdGlvblsyXT0yKihheipidythdypieitheCpieS1heSpieCkpLGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCxhLHRyYW5zbGF0aW9uKSxvdXR9ZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24ob3V0LG1hdCl7cmV0dXJuIG91dFswXT1tYXRbMTJdLG91dFsxXT1tYXRbMTNdLG91dFsyXT1tYXRbMTRdLG91dH1mdW5jdGlvbiBnZXRTY2FsaW5nKG91dCxtYXQpe3ZhciBtMTE9bWF0WzBdLG0xMj1tYXRbMV0sbTEzPW1hdFsyXSxtMjE9bWF0WzRdLG0yMj1tYXRbNV0sbTIzPW1hdFs2XSxtMzE9bWF0WzhdLG0zMj1tYXRbOV0sbTMzPW1hdFsxMF07cmV0dXJuIG91dFswXT1NYXRoLnNxcnQobTExKm0xMSttMTIqbTEyK20xMyptMTMpLG91dFsxXT1NYXRoLnNxcnQobTIxKm0yMSttMjIqbTIyK20yMyptMjMpLG91dFsyXT1NYXRoLnNxcnQobTMxKm0zMSttMzIqbTMyK20zMyptMzMpLG91dH1mdW5jdGlvbiBnZXRSb3RhdGlvbihvdXQsbWF0KXt2YXIgdHJhY2U9bWF0WzBdK21hdFs1XSttYXRbMTBdLFM9MDtyZXR1cm4gdHJhY2U+MD8oUz0yKk1hdGguc3FydCh0cmFjZSsxKSxvdXRbM109LjI1KlMsb3V0WzBdPShtYXRbNl0tbWF0WzldKS9TLG91dFsxXT0obWF0WzhdLW1hdFsyXSkvUyxvdXRbMl09KG1hdFsxXS1tYXRbNF0pL1MpOm1hdFswXT5tYXRbNV0mJm1hdFswXT5tYXRbMTBdPyhTPTIqTWF0aC5zcXJ0KDErbWF0WzBdLW1hdFs1XS1tYXRbMTBdKSxvdXRbM109KG1hdFs2XS1tYXRbOV0pL1Msb3V0WzBdPS4yNSpTLG91dFsxXT0obWF0WzFdK21hdFs0XSkvUyxvdXRbMl09KG1hdFs4XSttYXRbMl0pL1MpOm1hdFs1XT5tYXRbMTBdPyhTPTIqTWF0aC5zcXJ0KDErbWF0WzVdLW1hdFswXS1tYXRbMTBdKSxvdXRbM109KG1hdFs4XS1tYXRbMl0pL1Msb3V0WzBdPShtYXRbMV0rbWF0WzRdKS9TLG91dFsxXT0uMjUqUyxvdXRbMl09KG1hdFs2XSttYXRbOV0pL1MpOihTPTIqTWF0aC5zcXJ0KDErbWF0WzEwXS1tYXRbMF0tbWF0WzVdKSxvdXRbM109KG1hdFsxXS1tYXRbNF0pL1Msb3V0WzBdPShtYXRbOF0rbWF0WzJdKS9TLG91dFsxXT0obWF0WzZdK21hdFs5XSkvUyxvdXRbMl09LjI1KlMpLG91dH1mdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKG91dCxxLHYscyl7dmFyIHg9cVswXSx5PXFbMV0sej1xWzJdLHc9cVszXSx4Mj14K3gseTI9eSt5LHoyPXoreix4eD14KngyLHh5PXgqeTIseHo9eCp6Mix5eT15KnkyLHl6PXkqejIseno9eip6Mix3eD13KngyLHd5PXcqeTIsd3o9dyp6MixzeD1zWzBdLHN5PXNbMV0sc3o9c1syXTtyZXR1cm4gb3V0WzBdPSgxLSh5eSt6eikpKnN4LG91dFsxXT0oeHkrd3opKnN4LG91dFsyXT0oeHotd3kpKnN4LG91dFszXT0wLG91dFs0XT0oeHktd3opKnN5LG91dFs1XT0oMS0oeHgrenopKSpzeSxvdXRbNl09KHl6K3d4KSpzeSxvdXRbN109MCxvdXRbOF09KHh6K3d5KSpzeixvdXRbOV09KHl6LXd4KSpzeixvdXRbMTBdPSgxLSh4eCt5eSkpKnN6LG91dFsxMV09MCxvdXRbMTJdPXZbMF0sb3V0WzEzXT12WzFdLG91dFsxNF09dlsyXSxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVPcmlnaW4ob3V0LHEsdixzLG8pe3ZhciB4PXFbMF0seT1xWzFdLHo9cVsyXSx3PXFbM10seDI9eCt4LHkyPXkreSx6Mj16K3oseHg9eCp4Mix4eT14KnkyLHh6PXgqejIseXk9eSp5Mix5ej15KnoyLHp6PXoqejIsd3g9dyp4Mix3eT13KnkyLHd6PXcqejIsc3g9c1swXSxzeT1zWzFdLHN6PXNbMl0sb3g9b1swXSxveT1vWzFdLG96PW9bMl0sb3V0MD0oMS0oeXkrenopKSpzeCxvdXQxPSh4eSt3eikqc3gsb3V0Mj0oeHotd3kpKnN4LG91dDQ9KHh5LXd6KSpzeSxvdXQ1PSgxLSh4eCt6eikpKnN5LG91dDY9KHl6K3d4KSpzeSxvdXQ4PSh4eit3eSkqc3osb3V0OT0oeXotd3gpKnN6LG91dDEwPSgxLSh4eCt5eSkpKnN6O3JldHVybiBvdXRbMF09b3V0MCxvdXRbMV09b3V0MSxvdXRbMl09b3V0MixvdXRbM109MCxvdXRbNF09b3V0NCxvdXRbNV09b3V0NSxvdXRbNl09b3V0NixvdXRbN109MCxvdXRbOF09b3V0OCxvdXRbOV09b3V0OSxvdXRbMTBdPW91dDEwLG91dFsxMV09MCxvdXRbMTJdPXZbMF0rb3gtKG91dDAqb3grb3V0NCpveStvdXQ4Km96KSxvdXRbMTNdPXZbMV0rb3ktKG91dDEqb3grb3V0NSpveStvdXQ5Km96KSxvdXRbMTRdPXZbMl0rb3otKG91dDIqb3grb3V0NipveStvdXQxMCpveiksb3V0WzE1XT0xLG91dH1mdW5jdGlvbiBmcm9tUXVhdChvdXQscSl7dmFyIHg9cVswXSx5PXFbMV0sej1xWzJdLHc9cVszXSx4Mj14K3gseTI9eSt5LHoyPXoreix4eD14KngyLHl4PXkqeDIseXk9eSp5Mix6eD16KngyLHp5PXoqeTIseno9eip6Mix3eD13KngyLHd5PXcqeTIsd3o9dyp6MjtyZXR1cm4gb3V0WzBdPTEteXktenosb3V0WzFdPXl4K3d6LG91dFsyXT16eC13eSxvdXRbM109MCxvdXRbNF09eXgtd3osb3V0WzVdPTEteHgtenosb3V0WzZdPXp5K3d4LG91dFs3XT0wLG91dFs4XT16eCt3eSxvdXRbOV09enktd3gsb3V0WzEwXT0xLXh4LXl5LG91dFsxMV09MCxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09MCxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGZydXN0dW0ob3V0LGxlZnQscmlnaHQsYm90dG9tLHRvcCxuZWFyLGZhcil7dmFyIHJsPTEvKHJpZ2h0LWxlZnQpLHRiPTEvKHRvcC1ib3R0b20pLG5mPTEvKG5lYXItZmFyKTtyZXR1cm4gb3V0WzBdPTIqbmVhcipybCxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09MCxvdXRbNV09MipuZWFyKnRiLG91dFs2XT0wLG91dFs3XT0wLG91dFs4XT0ocmlnaHQrbGVmdCkqcmwsb3V0WzldPSh0b3ArYm90dG9tKSp0YixvdXRbMTBdPShmYXIrbmVhcikqbmYsb3V0WzExXT0tMSxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09ZmFyKm5lYXIqMipuZixvdXRbMTVdPTAsb3V0fWZ1bmN0aW9uIHBlcnNwZWN0aXZlKG91dCxmb3Z5LGFzcGVjdCxuZWFyLGZhcil7dmFyIGY9MS9NYXRoLnRhbihmb3Z5LzIpLG5mPXZvaWQgMDtyZXR1cm4gb3V0WzBdPWYvYXNwZWN0LG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0wLG91dFs1XT1mLG91dFs2XT0wLG91dFs3XT0wLG91dFs4XT0wLG91dFs5XT0wLG91dFsxMV09LTEsb3V0WzEyXT0wLG91dFsxM109MCxvdXRbMTVdPTAsbnVsbCE9ZmFyJiZmYXIhPT0xLzA/KG5mPTEvKG5lYXItZmFyKSxvdXRbMTBdPShmYXIrbmVhcikqbmYsb3V0WzE0XT0yKmZhcipuZWFyKm5mKToob3V0WzEwXT0tMSxvdXRbMTRdPS0yKm5lYXIpLG91dH1mdW5jdGlvbiBwZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldyhvdXQsZm92LG5lYXIsZmFyKXt2YXIgdXBUYW49TWF0aC50YW4oZm92LnVwRGVncmVlcypNYXRoLlBJLzE4MCksZG93blRhbj1NYXRoLnRhbihmb3YuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLGxlZnRUYW49TWF0aC50YW4oZm92LmxlZnREZWdyZWVzKk1hdGguUEkvMTgwKSxyaWdodFRhbj1NYXRoLnRhbihmb3YucmlnaHREZWdyZWVzKk1hdGguUEkvMTgwKSx4U2NhbGU9Mi8obGVmdFRhbityaWdodFRhbikseVNjYWxlPTIvKHVwVGFuK2Rvd25UYW4pO3JldHVybiBvdXRbMF09eFNjYWxlLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0wLG91dFs1XT15U2NhbGUsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPS0obGVmdFRhbi1yaWdodFRhbikqeFNjYWxlKi41LG91dFs5XT0odXBUYW4tZG93blRhbikqeVNjYWxlKi41LG91dFsxMF09ZmFyLyhuZWFyLWZhciksb3V0WzExXT0tMSxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09ZmFyKm5lYXIvKG5lYXItZmFyKSxvdXRbMTVdPTAsb3V0fWZ1bmN0aW9uIG9ydGhvKG91dCxsZWZ0LHJpZ2h0LGJvdHRvbSx0b3AsbmVhcixmYXIpe3ZhciBscj0xLyhsZWZ0LXJpZ2h0KSxidD0xLyhib3R0b20tdG9wKSxuZj0xLyhuZWFyLWZhcik7cmV0dXJuIG91dFswXT0tMipscixvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09MCxvdXRbNV09LTIqYnQsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPTAsb3V0WzEwXT0yKm5mLG91dFsxMV09MCxvdXRbMTJdPShsZWZ0K3JpZ2h0KSpscixvdXRbMTNdPSh0b3ArYm90dG9tKSpidCxvdXRbMTRdPShmYXIrbmVhcikqbmYsb3V0WzE1XT0xLG91dH1mdW5jdGlvbiBsb29rQXQob3V0LGV5ZSxjZW50ZXIsdXApe3ZhciB4MD12b2lkIDAseDE9dm9pZCAwLHgyPXZvaWQgMCx5MD12b2lkIDAseTE9dm9pZCAwLHkyPXZvaWQgMCx6MD12b2lkIDAsejE9dm9pZCAwLHoyPXZvaWQgMCxsZW49dm9pZCAwLGV5ZXg9ZXllWzBdLGV5ZXk9ZXllWzFdLGV5ZXo9ZXllWzJdLHVweD11cFswXSx1cHk9dXBbMV0sdXB6PXVwWzJdLGNlbnRlcng9Y2VudGVyWzBdLGNlbnRlcnk9Y2VudGVyWzFdLGNlbnRlcno9Y2VudGVyWzJdO3JldHVybiBNYXRoLmFicyhleWV4LWNlbnRlcngpPGdsTWF0cml4LkVQU0lMT04mJk1hdGguYWJzKGV5ZXktY2VudGVyeSk8Z2xNYXRyaXguRVBTSUxPTiYmTWF0aC5hYnMoZXllei1jZW50ZXJ6KTxnbE1hdHJpeC5FUFNJTE9OP2lkZW50aXR5KG91dCk6KHowPWV5ZXgtY2VudGVyeCx6MT1leWV5LWNlbnRlcnksejI9ZXllei1jZW50ZXJ6LGxlbj0xL01hdGguc3FydCh6MCp6MCt6MSp6MSt6Mip6MiksejAqPWxlbix6MSo9bGVuLHoyKj1sZW4seDA9dXB5KnoyLXVweip6MSx4MT11cHoqejAtdXB4KnoyLHgyPXVweCp6MS11cHkqejAsbGVuPU1hdGguc3FydCh4MCp4MCt4MSp4MSt4Mip4MiksbGVuPyhsZW49MS9sZW4seDAqPWxlbix4MSo9bGVuLHgyKj1sZW4pOih4MD0wLHgxPTAseDI9MCkseTA9ejEqeDItejIqeDEseTE9ejIqeDAtejAqeDIseTI9ejAqeDEtejEqeDAsbGVuPU1hdGguc3FydCh5MCp5MCt5MSp5MSt5Mip5MiksbGVuPyhsZW49MS9sZW4seTAqPWxlbix5MSo9bGVuLHkyKj1sZW4pOih5MD0wLHkxPTAseTI9MCksb3V0WzBdPXgwLG91dFsxXT15MCxvdXRbMl09ejAsb3V0WzNdPTAsb3V0WzRdPXgxLG91dFs1XT15MSxvdXRbNl09ejEsb3V0WzddPTAsb3V0WzhdPXgyLG91dFs5XT15MixvdXRbMTBdPXoyLG91dFsxMV09MCxvdXRbMTJdPS0oeDAqZXlleCt4MSpleWV5K3gyKmV5ZXopLG91dFsxM109LSh5MCpleWV4K3kxKmV5ZXkreTIqZXlleiksb3V0WzE0XT0tKHowKmV5ZXgrejEqZXlleSt6MipleWV6KSxvdXRbMTVdPTEsb3V0KX1mdW5jdGlvbiB0YXJnZXRUbyhvdXQsZXllLHRhcmdldCx1cCl7dmFyIGV5ZXg9ZXllWzBdLGV5ZXk9ZXllWzFdLGV5ZXo9ZXllWzJdLHVweD11cFswXSx1cHk9dXBbMV0sdXB6PXVwWzJdLHowPWV5ZXgtdGFyZ2V0WzBdLHoxPWV5ZXktdGFyZ2V0WzFdLHoyPWV5ZXotdGFyZ2V0WzJdLGxlbj16MCp6MCt6MSp6MSt6Mip6MjtsZW4+MCYmKGxlbj0xL01hdGguc3FydChsZW4pLHowKj1sZW4sejEqPWxlbix6Mio9bGVuKTt2YXIgeDA9dXB5KnoyLXVweip6MSx4MT11cHoqejAtdXB4KnoyLHgyPXVweCp6MS11cHkqejA7cmV0dXJuIGxlbj14MCp4MCt4MSp4MSt4Mip4MixsZW4+MCYmKGxlbj0xL01hdGguc3FydChsZW4pLHgwKj1sZW4seDEqPWxlbix4Mio9bGVuKSxvdXRbMF09eDAsb3V0WzFdPXgxLG91dFsyXT14MixvdXRbM109MCxvdXRbNF09ejEqeDItejIqeDEsb3V0WzVdPXoyKngwLXowKngyLG91dFs2XT16MCp4MS16MSp4MCxvdXRbN109MCxvdXRbOF09ejAsb3V0WzldPXoxLG91dFsxMF09ejIsb3V0WzExXT0wLG91dFsxMl09ZXlleCxvdXRbMTNdPWV5ZXksb3V0WzE0XT1leWV6LG91dFsxNV09MSxvdXR9ZnVuY3Rpb24gc3RyKGEpe3JldHVyblwibWF0NChcIithWzBdK1wiLCBcIithWzFdK1wiLCBcIithWzJdK1wiLCBcIithWzNdK1wiLCBcIithWzRdK1wiLCBcIithWzVdK1wiLCBcIithWzZdK1wiLCBcIithWzddK1wiLCBcIithWzhdK1wiLCBcIithWzldK1wiLCBcIithWzEwXStcIiwgXCIrYVsxMV0rXCIsIFwiK2FbMTJdK1wiLCBcIithWzEzXStcIiwgXCIrYVsxNF0rXCIsIFwiK2FbMTVdK1wiKVwifWZ1bmN0aW9uIGZyb2IoYSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhWzBdLDIpK01hdGgucG93KGFbMV0sMikrTWF0aC5wb3coYVsyXSwyKStNYXRoLnBvdyhhWzNdLDIpK01hdGgucG93KGFbNF0sMikrTWF0aC5wb3coYVs1XSwyKStNYXRoLnBvdyhhWzZdLDIpK01hdGgucG93KGFbN10sMikrTWF0aC5wb3coYVs4XSwyKStNYXRoLnBvdyhhWzldLDIpK01hdGgucG93KGFbMTBdLDIpK01hdGgucG93KGFbMTFdLDIpK01hdGgucG93KGFbMTJdLDIpK01hdGgucG93KGFbMTNdLDIpK01hdGgucG93KGFbMTRdLDIpK01hdGgucG93KGFbMTVdLDIpKX1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXRbMl09YVsyXStiWzJdLG91dFszXT1hWzNdK2JbM10sb3V0WzRdPWFbNF0rYls0XSxvdXRbNV09YVs1XStiWzVdLG91dFs2XT1hWzZdK2JbNl0sb3V0WzddPWFbN10rYls3XSxvdXRbOF09YVs4XStiWzhdLG91dFs5XT1hWzldK2JbOV0sb3V0WzEwXT1hWzEwXStiWzEwXSxvdXRbMTFdPWFbMTFdK2JbMTFdLG91dFsxMl09YVsxMl0rYlsxMl0sb3V0WzEzXT1hWzEzXStiWzEzXSxvdXRbMTRdPWFbMTRdK2JbMTRdLG91dFsxNV09YVsxNV0rYlsxNV0sb3V0fWZ1bmN0aW9uIHN1YnRyYWN0KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS1iWzBdLG91dFsxXT1hWzFdLWJbMV0sb3V0WzJdPWFbMl0tYlsyXSxvdXRbM109YVszXS1iWzNdLG91dFs0XT1hWzRdLWJbNF0sb3V0WzVdPWFbNV0tYls1XSxvdXRbNl09YVs2XS1iWzZdLG91dFs3XT1hWzddLWJbN10sb3V0WzhdPWFbOF0tYls4XSxvdXRbOV09YVs5XS1iWzldLG91dFsxMF09YVsxMF0tYlsxMF0sb3V0WzExXT1hWzExXS1iWzExXSxvdXRbMTJdPWFbMTJdLWJbMTJdLG91dFsxM109YVsxM10tYlsxM10sb3V0WzE0XT1hWzE0XS1iWzE0XSxvdXRbMTVdPWFbMTVdLWJbMTVdLG91dH1mdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYixvdXRbMV09YVsxXSpiLG91dFsyXT1hWzJdKmIsb3V0WzNdPWFbM10qYixvdXRbNF09YVs0XSpiLG91dFs1XT1hWzVdKmIsb3V0WzZdPWFbNl0qYixvdXRbN109YVs3XSpiLG91dFs4XT1hWzhdKmIsb3V0WzldPWFbOV0qYixvdXRbMTBdPWFbMTBdKmIsb3V0WzExXT1hWzExXSpiLG91dFsxMl09YVsxMl0qYixvdXRbMTNdPWFbMTNdKmIsb3V0WzE0XT1hWzE0XSpiLG91dFsxNV09YVsxNV0qYixvdXR9ZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LGEsYixzY2FsZSl7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0qc2NhbGUsb3V0WzFdPWFbMV0rYlsxXSpzY2FsZSxvdXRbMl09YVsyXStiWzJdKnNjYWxlLG91dFszXT1hWzNdK2JbM10qc2NhbGUsb3V0WzRdPWFbNF0rYls0XSpzY2FsZSxvdXRbNV09YVs1XStiWzVdKnNjYWxlLG91dFs2XT1hWzZdK2JbNl0qc2NhbGUsb3V0WzddPWFbN10rYls3XSpzY2FsZSxvdXRbOF09YVs4XStiWzhdKnNjYWxlLG91dFs5XT1hWzldK2JbOV0qc2NhbGUsb3V0WzEwXT1hWzEwXStiWzEwXSpzY2FsZSxvdXRbMTFdPWFbMTFdK2JbMTFdKnNjYWxlLG91dFsxMl09YVsxMl0rYlsxMl0qc2NhbGUsb3V0WzEzXT1hWzEzXStiWzEzXSpzY2FsZSxvdXRbMTRdPWFbMTRdK2JbMTRdKnNjYWxlLG91dFsxNV09YVsxNV0rYlsxNV0qc2NhbGUsb3V0fWZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsYil7cmV0dXJuIGFbMF09PT1iWzBdJiZhWzFdPT09YlsxXSYmYVsyXT09PWJbMl0mJmFbM109PT1iWzNdJiZhWzRdPT09Yls0XSYmYVs1XT09PWJbNV0mJmFbNl09PT1iWzZdJiZhWzddPT09Yls3XSYmYVs4XT09PWJbOF0mJmFbOV09PT1iWzldJiZhWzEwXT09PWJbMTBdJiZhWzExXT09PWJbMTFdJiZhWzEyXT09PWJbMTJdJiZhWzEzXT09PWJbMTNdJiZhWzE0XT09PWJbMTRdJiZhWzE1XT09PWJbMTVdfWZ1bmN0aW9uIGVxdWFscyhhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGE0PWFbNF0sYTU9YVs1XSxhNj1hWzZdLGE3PWFbN10sYTg9YVs4XSxhOT1hWzldLGExMD1hWzEwXSxhMTE9YVsxMV0sYTEyPWFbMTJdLGExMz1hWzEzXSxhMTQ9YVsxNF0sYTE1PWFbMTVdLGIwPWJbMF0sYjE9YlsxXSxiMj1iWzJdLGIzPWJbM10sYjQ9Yls0XSxiNT1iWzVdLGI2PWJbNl0sYjc9Yls3XSxiOD1iWzhdLGI5PWJbOV0sYjEwPWJbMTBdLGIxMT1iWzExXSxiMTI9YlsxMl0sYjEzPWJbMTNdLGIxND1iWzE0XSxiMTU9YlsxNV07cmV0dXJuIE1hdGguYWJzKGEwLWIwKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEwKSxNYXRoLmFicyhiMCkpJiZNYXRoLmFicyhhMS1iMSk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMSksTWF0aC5hYnMoYjEpKSYmTWF0aC5hYnMoYTItYjIpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTIpLE1hdGguYWJzKGIyKSkmJk1hdGguYWJzKGEzLWIzKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEzKSxNYXRoLmFicyhiMykpJiZNYXRoLmFicyhhNC1iNCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNCksTWF0aC5hYnMoYjQpKSYmTWF0aC5hYnMoYTUtYjUpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTUpLE1hdGguYWJzKGI1KSkmJk1hdGguYWJzKGE2LWI2KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE2KSxNYXRoLmFicyhiNikpJiZNYXRoLmFicyhhNy1iNyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNyksTWF0aC5hYnMoYjcpKSYmTWF0aC5hYnMoYTgtYjgpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTgpLE1hdGguYWJzKGI4KSkmJk1hdGguYWJzKGE5LWI5KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE5KSxNYXRoLmFicyhiOSkpJiZNYXRoLmFicyhhMTAtYjEwKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExMCksTWF0aC5hYnMoYjEwKSkmJk1hdGguYWJzKGExMS1iMTEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTExKSxNYXRoLmFicyhiMTEpKSYmTWF0aC5hYnMoYTEyLWIxMik8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMTIpLE1hdGguYWJzKGIxMikpJiZNYXRoLmFicyhhMTMtYjEzKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExMyksTWF0aC5hYnMoYjEzKSkmJk1hdGguYWJzKGExNC1iMTQpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTE0KSxNYXRoLmFicyhiMTQpKSYmTWF0aC5hYnMoYTE1LWIxNSk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMTUpLE1hdGguYWJzKGIxNSkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc3ViPWV4cG9ydHMubXVsPXZvaWQgMCxleHBvcnRzLmNyZWF0ZT1jcmVhdGUsZXhwb3J0cy5jbG9uZT1jbG9uZSxleHBvcnRzLmNvcHk9Y29weSxleHBvcnRzLmZyb21WYWx1ZXM9ZnJvbVZhbHVlcyxleHBvcnRzLnNldD1zZXQsZXhwb3J0cy5pZGVudGl0eT1pZGVudGl0eSxleHBvcnRzLnRyYW5zcG9zZT10cmFuc3Bvc2UsZXhwb3J0cy5pbnZlcnQ9aW52ZXJ0LGV4cG9ydHMuYWRqb2ludD1hZGpvaW50LGV4cG9ydHMuZGV0ZXJtaW5hbnQ9ZGV0ZXJtaW5hbnQsZXhwb3J0cy5tdWx0aXBseT1tdWx0aXBseSxleHBvcnRzLnRyYW5zbGF0ZT10cmFuc2xhdGUsZXhwb3J0cy5zY2FsZT1zY2FsZSxleHBvcnRzLnJvdGF0ZT1yb3RhdGUsZXhwb3J0cy5yb3RhdGVYPXJvdGF0ZVgsZXhwb3J0cy5yb3RhdGVZPXJvdGF0ZVksZXhwb3J0cy5yb3RhdGVaPXJvdGF0ZVosZXhwb3J0cy5mcm9tVHJhbnNsYXRpb249ZnJvbVRyYW5zbGF0aW9uLGV4cG9ydHMuZnJvbVNjYWxpbmc9ZnJvbVNjYWxpbmcsZXhwb3J0cy5mcm9tUm90YXRpb249ZnJvbVJvdGF0aW9uLGV4cG9ydHMuZnJvbVhSb3RhdGlvbj1mcm9tWFJvdGF0aW9uLGV4cG9ydHMuZnJvbVlSb3RhdGlvbj1mcm9tWVJvdGF0aW9uLGV4cG9ydHMuZnJvbVpSb3RhdGlvbj1mcm9tWlJvdGF0aW9uLGV4cG9ydHMuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb249ZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sZXhwb3J0cy5mcm9tUXVhdDI9ZnJvbVF1YXQyLGV4cG9ydHMuZ2V0VHJhbnNsYXRpb249Z2V0VHJhbnNsYXRpb24sZXhwb3J0cy5nZXRTY2FsaW5nPWdldFNjYWxpbmcsZXhwb3J0cy5nZXRSb3RhdGlvbj1nZXRSb3RhdGlvbixleHBvcnRzLmZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGU9ZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZSxleHBvcnRzLmZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVPcmlnaW49ZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbixleHBvcnRzLmZyb21RdWF0PWZyb21RdWF0LGV4cG9ydHMuZnJ1c3R1bT1mcnVzdHVtLGV4cG9ydHMucGVyc3BlY3RpdmU9cGVyc3BlY3RpdmUsZXhwb3J0cy5wZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldz1wZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldyxleHBvcnRzLm9ydGhvPW9ydGhvLGV4cG9ydHMubG9va0F0PWxvb2tBdCxleHBvcnRzLnRhcmdldFRvPXRhcmdldFRvLGV4cG9ydHMuc3RyPXN0cixleHBvcnRzLmZyb2I9ZnJvYixleHBvcnRzLmFkZD1hZGQsZXhwb3J0cy5zdWJ0cmFjdD1zdWJ0cmFjdCxleHBvcnRzLm11bHRpcGx5U2NhbGFyPW11bHRpcGx5U2NhbGFyLGV4cG9ydHMubXVsdGlwbHlTY2FsYXJBbmRBZGQ9bXVsdGlwbHlTY2FsYXJBbmRBZGQsZXhwb3J0cy5leGFjdEVxdWFscz1leGFjdEVxdWFscyxleHBvcnRzLmVxdWFscz1lcXVhbHM7dmFyIF9jb21tb249X193ZWJwYWNrX3JlcXVpcmVfXygzKSxnbE1hdHJpeD1mdW5jdGlvbihvYmope2lmKG9iaiYmb2JqLl9fZXNNb2R1bGUpcmV0dXJuIG9iajt2YXIgbmV3T2JqPXt9O2lmKG51bGwhPW9iailmb3IodmFyIGtleSBpbiBvYmopT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpJiYobmV3T2JqW2tleV09b2JqW2tleV0pO3JldHVybiBuZXdPYmouZGVmYXVsdD1vYmosbmV3T2JqfShfY29tbW9uKTtleHBvcnRzLm11bD1tdWx0aXBseSxleHBvcnRzLnN1Yj1zdWJ0cmFjdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian1mdW5jdGlvbiBjcmVhdGUoKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO3JldHVybiBnbE1hdHJpeC5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihvdXRbMF09MCxvdXRbMV09MCxvdXRbMl09MCksb3V0WzNdPTEsb3V0fWZ1bmN0aW9uIGlkZW50aXR5KG91dCl7cmV0dXJuIG91dFswXT0wLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0xLG91dH1mdW5jdGlvbiBzZXRBeGlzQW5nbGUob3V0LGF4aXMscmFkKXtyYWQqPS41O3ZhciBzPU1hdGguc2luKHJhZCk7cmV0dXJuIG91dFswXT1zKmF4aXNbMF0sb3V0WzFdPXMqYXhpc1sxXSxvdXRbMl09cypheGlzWzJdLG91dFszXT1NYXRoLmNvcyhyYWQpLG91dH1mdW5jdGlvbiBnZXRBeGlzQW5nbGUob3V0X2F4aXMscSl7dmFyIHJhZD0yKk1hdGguYWNvcyhxWzNdKSxzPU1hdGguc2luKHJhZC8yKTtyZXR1cm4gcz5nbE1hdHJpeC5FUFNJTE9OPyhvdXRfYXhpc1swXT1xWzBdL3Msb3V0X2F4aXNbMV09cVsxXS9zLG91dF9heGlzWzJdPXFbMl0vcyk6KG91dF9heGlzWzBdPTEsb3V0X2F4aXNbMV09MCxvdXRfYXhpc1syXT0wKSxyYWR9ZnVuY3Rpb24gbXVsdGlwbHkob3V0LGEsYil7dmFyIGF4PWFbMF0sYXk9YVsxXSxhej1hWzJdLGF3PWFbM10sYng9YlswXSxieT1iWzFdLGJ6PWJbMl0sYnc9YlszXTtyZXR1cm4gb3V0WzBdPWF4KmJ3K2F3KmJ4K2F5KmJ6LWF6KmJ5LG91dFsxXT1heSpidythdypieStheipieC1heCpieixvdXRbMl09YXoqYncrYXcqYnorYXgqYnktYXkqYngsb3V0WzNdPWF3KmJ3LWF4KmJ4LWF5KmJ5LWF6KmJ6LG91dH1mdW5jdGlvbiByb3RhdGVYKG91dCxhLHJhZCl7cmFkKj0uNTt2YXIgYXg9YVswXSxheT1hWzFdLGF6PWFbMl0sYXc9YVszXSxieD1NYXRoLnNpbihyYWQpLGJ3PU1hdGguY29zKHJhZCk7cmV0dXJuIG91dFswXT1heCpidythdypieCxvdXRbMV09YXkqYncrYXoqYngsb3V0WzJdPWF6KmJ3LWF5KmJ4LG91dFszXT1hdypidy1heCpieCxvdXR9ZnVuY3Rpb24gcm90YXRlWShvdXQsYSxyYWQpe3JhZCo9LjU7dmFyIGF4PWFbMF0sYXk9YVsxXSxhej1hWzJdLGF3PWFbM10sYnk9TWF0aC5zaW4ocmFkKSxidz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YXgqYnctYXoqYnksb3V0WzFdPWF5KmJ3K2F3KmJ5LG91dFsyXT1heipidytheCpieSxvdXRbM109YXcqYnctYXkqYnksb3V0fWZ1bmN0aW9uIHJvdGF0ZVoob3V0LGEscmFkKXtyYWQqPS41O3ZhciBheD1hWzBdLGF5PWFbMV0sYXo9YVsyXSxhdz1hWzNdLGJ6PU1hdGguc2luKHJhZCksYnc9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPWF4KmJ3K2F5KmJ6LG91dFsxXT1heSpidy1heCpieixvdXRbMl09YXoqYncrYXcqYnosb3V0WzNdPWF3KmJ3LWF6KmJ6LG91dH1mdW5jdGlvbiBjYWxjdWxhdGVXKG91dCxhKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl07cmV0dXJuIG91dFswXT14LG91dFsxXT15LG91dFsyXT16LG91dFszXT1NYXRoLnNxcnQoTWF0aC5hYnMoMS14KngteSp5LXoqeikpLG91dH1mdW5jdGlvbiBzbGVycChvdXQsYSxiLHQpe3ZhciBheD1hWzBdLGF5PWFbMV0sYXo9YVsyXSxhdz1hWzNdLGJ4PWJbMF0sYnk9YlsxXSxiej1iWzJdLGJ3PWJbM10sb21lZ2E9dm9pZCAwLGNvc29tPXZvaWQgMCxzaW5vbT12b2lkIDAsc2NhbGUwPXZvaWQgMCxzY2FsZTE9dm9pZCAwO3JldHVybiBjb3NvbT1heCpieCtheSpieStheipieithdypidyxjb3NvbTwwJiYoY29zb209LWNvc29tLGJ4PS1ieCxieT0tYnksYno9LWJ6LGJ3PS1idyksMS1jb3NvbT5nbE1hdHJpeC5FUFNJTE9OPyhvbWVnYT1NYXRoLmFjb3MoY29zb20pLHNpbm9tPU1hdGguc2luKG9tZWdhKSxzY2FsZTA9TWF0aC5zaW4oKDEtdCkqb21lZ2EpL3Npbm9tLHNjYWxlMT1NYXRoLnNpbih0Km9tZWdhKS9zaW5vbSk6KHNjYWxlMD0xLXQsc2NhbGUxPXQpLG91dFswXT1zY2FsZTAqYXgrc2NhbGUxKmJ4LG91dFsxXT1zY2FsZTAqYXkrc2NhbGUxKmJ5LG91dFsyXT1zY2FsZTAqYXorc2NhbGUxKmJ6LG91dFszXT1zY2FsZTAqYXcrc2NhbGUxKmJ3LG91dH1mdW5jdGlvbiByYW5kb20ob3V0KXt2YXIgdTE9Z2xNYXRyaXguUkFORE9NKCksdTI9Z2xNYXRyaXguUkFORE9NKCksdTM9Z2xNYXRyaXguUkFORE9NKCksc3FydDFNaW51c1UxPU1hdGguc3FydCgxLXUxKSxzcXJ0VTE9TWF0aC5zcXJ0KHUxKTtyZXR1cm4gb3V0WzBdPXNxcnQxTWludXNVMSpNYXRoLnNpbigyKk1hdGguUEkqdTIpLG91dFsxXT1zcXJ0MU1pbnVzVTEqTWF0aC5jb3MoMipNYXRoLlBJKnUyKSxvdXRbMl09c3FydFUxKk1hdGguc2luKDIqTWF0aC5QSSp1Myksb3V0WzNdPXNxcnRVMSpNYXRoLmNvcygyKk1hdGguUEkqdTMpLG91dH1mdW5jdGlvbiBpbnZlcnQob3V0LGEpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGRvdD1hMCphMCthMSphMSthMiphMithMyphMyxpbnZEb3Q9ZG90PzEvZG90OjA7cmV0dXJuIG91dFswXT0tYTAqaW52RG90LG91dFsxXT0tYTEqaW52RG90LG91dFsyXT0tYTIqaW52RG90LG91dFszXT1hMyppbnZEb3Qsb3V0fWZ1bmN0aW9uIGNvbmp1Z2F0ZShvdXQsYSl7cmV0dXJuIG91dFswXT0tYVswXSxvdXRbMV09LWFbMV0sb3V0WzJdPS1hWzJdLG91dFszXT1hWzNdLG91dH1mdW5jdGlvbiBmcm9tTWF0MyhvdXQsbSl7dmFyIGZUcmFjZT1tWzBdK21bNF0rbVs4XSxmUm9vdD12b2lkIDA7aWYoZlRyYWNlPjApZlJvb3Q9TWF0aC5zcXJ0KGZUcmFjZSsxKSxvdXRbM109LjUqZlJvb3QsZlJvb3Q9LjUvZlJvb3Qsb3V0WzBdPShtWzVdLW1bN10pKmZSb290LG91dFsxXT0obVs2XS1tWzJdKSpmUm9vdCxvdXRbMl09KG1bMV0tbVszXSkqZlJvb3Q7ZWxzZXt2YXIgaT0wO21bNF0+bVswXSYmKGk9MSksbVs4XT5tWzMqaStpXSYmKGk9Mik7dmFyIGo9KGkrMSklMyxrPShpKzIpJTM7ZlJvb3Q9TWF0aC5zcXJ0KG1bMyppK2ldLW1bMypqK2pdLW1bMyprK2tdKzEpLG91dFtpXT0uNSpmUm9vdCxmUm9vdD0uNS9mUm9vdCxvdXRbM109KG1bMypqK2tdLW1bMyprK2pdKSpmUm9vdCxvdXRbal09KG1bMypqK2ldK21bMyppK2pdKSpmUm9vdCxvdXRba109KG1bMyprK2ldK21bMyppK2tdKSpmUm9vdH1yZXR1cm4gb3V0fWZ1bmN0aW9uIGZyb21FdWxlcihvdXQseCx5LHope3ZhciBoYWxmVG9SYWQ9LjUqTWF0aC5QSS8xODA7eCo9aGFsZlRvUmFkLHkqPWhhbGZUb1JhZCx6Kj1oYWxmVG9SYWQ7dmFyIHN4PU1hdGguc2luKHgpLGN4PU1hdGguY29zKHgpLHN5PU1hdGguc2luKHkpLGN5PU1hdGguY29zKHkpLHN6PU1hdGguc2luKHopLGN6PU1hdGguY29zKHopO3JldHVybiBvdXRbMF09c3gqY3kqY3otY3gqc3kqc3osb3V0WzFdPWN4KnN5KmN6K3N4KmN5KnN6LG91dFsyXT1jeCpjeSpzei1zeCpzeSpjeixvdXRbM109Y3gqY3kqY3orc3gqc3kqc3osb3V0fWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cInF1YXQoXCIrYVswXStcIiwgXCIrYVsxXStcIiwgXCIrYVsyXStcIiwgXCIrYVszXStcIilcIn1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNldEF4ZXM9ZXhwb3J0cy5zcWxlcnA9ZXhwb3J0cy5yb3RhdGlvblRvPWV4cG9ydHMuZXF1YWxzPWV4cG9ydHMuZXhhY3RFcXVhbHM9ZXhwb3J0cy5ub3JtYWxpemU9ZXhwb3J0cy5zcXJMZW49ZXhwb3J0cy5zcXVhcmVkTGVuZ3RoPWV4cG9ydHMubGVuPWV4cG9ydHMubGVuZ3RoPWV4cG9ydHMubGVycD1leHBvcnRzLmRvdD1leHBvcnRzLnNjYWxlPWV4cG9ydHMubXVsPWV4cG9ydHMuYWRkPWV4cG9ydHMuc2V0PWV4cG9ydHMuY29weT1leHBvcnRzLmZyb21WYWx1ZXM9ZXhwb3J0cy5jbG9uZT12b2lkIDAsZXhwb3J0cy5jcmVhdGU9Y3JlYXRlLGV4cG9ydHMuaWRlbnRpdHk9aWRlbnRpdHksZXhwb3J0cy5zZXRBeGlzQW5nbGU9c2V0QXhpc0FuZ2xlLGV4cG9ydHMuZ2V0QXhpc0FuZ2xlPWdldEF4aXNBbmdsZSxleHBvcnRzLm11bHRpcGx5PW11bHRpcGx5LGV4cG9ydHMucm90YXRlWD1yb3RhdGVYLGV4cG9ydHMucm90YXRlWT1yb3RhdGVZLGV4cG9ydHMucm90YXRlWj1yb3RhdGVaLGV4cG9ydHMuY2FsY3VsYXRlVz1jYWxjdWxhdGVXLGV4cG9ydHMuc2xlcnA9c2xlcnAsZXhwb3J0cy5yYW5kb209cmFuZG9tLGV4cG9ydHMuaW52ZXJ0PWludmVydCxleHBvcnRzLmNvbmp1Z2F0ZT1jb25qdWdhdGUsZXhwb3J0cy5mcm9tTWF0Mz1mcm9tTWF0MyxleHBvcnRzLmZyb21FdWxlcj1mcm9tRXVsZXIsZXhwb3J0cy5zdHI9c3RyO3ZhciBfY29tbW9uPV9fd2VicGFja19yZXF1aXJlX18oMyksZ2xNYXRyaXg9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvbW1vbiksX21hdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxtYXQzPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9tYXQpLF92ZWM9X193ZWJwYWNrX3JlcXVpcmVfXygyMSksdmVjMz1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdmVjKSxfdmVjMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSx2ZWM0PV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF92ZWMyKSxsZW5ndGg9KGV4cG9ydHMuY2xvbmU9dmVjNC5jbG9uZSxleHBvcnRzLmZyb21WYWx1ZXM9dmVjNC5mcm9tVmFsdWVzLGV4cG9ydHMuY29weT12ZWM0LmNvcHksZXhwb3J0cy5zZXQ9dmVjNC5zZXQsZXhwb3J0cy5hZGQ9dmVjNC5hZGQsZXhwb3J0cy5tdWw9bXVsdGlwbHksZXhwb3J0cy5zY2FsZT12ZWM0LnNjYWxlLGV4cG9ydHMuZG90PXZlYzQuZG90LGV4cG9ydHMubGVycD12ZWM0LmxlcnAsZXhwb3J0cy5sZW5ndGg9dmVjNC5sZW5ndGgpLHNxdWFyZWRMZW5ndGg9KGV4cG9ydHMubGVuPWxlbmd0aCxleHBvcnRzLnNxdWFyZWRMZW5ndGg9dmVjNC5zcXVhcmVkTGVuZ3RoKSxub3JtYWxpemU9KGV4cG9ydHMuc3FyTGVuPXNxdWFyZWRMZW5ndGgsZXhwb3J0cy5ub3JtYWxpemU9dmVjNC5ub3JtYWxpemUpO2V4cG9ydHMuZXhhY3RFcXVhbHM9dmVjNC5leGFjdEVxdWFscyxleHBvcnRzLmVxdWFscz12ZWM0LmVxdWFscyxleHBvcnRzLnJvdGF0aW9uVG89ZnVuY3Rpb24oKXt2YXIgdG1wdmVjMz12ZWMzLmNyZWF0ZSgpLHhVbml0VmVjMz12ZWMzLmZyb21WYWx1ZXMoMSwwLDApLHlVbml0VmVjMz12ZWMzLmZyb21WYWx1ZXMoMCwxLDApO3JldHVybiBmdW5jdGlvbihvdXQsYSxiKXt2YXIgZG90PXZlYzMuZG90KGEsYik7cmV0dXJuIGRvdDwtLjk5OTk5OT8odmVjMy5jcm9zcyh0bXB2ZWMzLHhVbml0VmVjMyxhKSx2ZWMzLmxlbih0bXB2ZWMzKTwxZS02JiZ2ZWMzLmNyb3NzKHRtcHZlYzMseVVuaXRWZWMzLGEpLHZlYzMubm9ybWFsaXplKHRtcHZlYzMsdG1wdmVjMyksc2V0QXhpc0FuZ2xlKG91dCx0bXB2ZWMzLE1hdGguUEkpLG91dCk6ZG90Pi45OTk5OTk/KG91dFswXT0wLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0xLG91dCk6KHZlYzMuY3Jvc3ModG1wdmVjMyxhLGIpLG91dFswXT10bXB2ZWMzWzBdLG91dFsxXT10bXB2ZWMzWzFdLG91dFsyXT10bXB2ZWMzWzJdLG91dFszXT0xK2RvdCxub3JtYWxpemUob3V0LG91dCkpfX0oKSxleHBvcnRzLnNxbGVycD1mdW5jdGlvbigpe3ZhciB0ZW1wMT1jcmVhdGUoKSx0ZW1wMj1jcmVhdGUoKTtyZXR1cm4gZnVuY3Rpb24ob3V0LGEsYixjLGQsdCl7cmV0dXJuIHNsZXJwKHRlbXAxLGEsZCx0KSxzbGVycCh0ZW1wMixiLGMsdCksc2xlcnAob3V0LHRlbXAxLHRlbXAyLDIqdCooMS10KSksb3V0fX0oKSxleHBvcnRzLnNldEF4ZXM9ZnVuY3Rpb24oKXt2YXIgbWF0cj1tYXQzLmNyZWF0ZSgpO3JldHVybiBmdW5jdGlvbihvdXQsdmlldyxyaWdodCx1cCl7cmV0dXJuIG1hdHJbMF09cmlnaHRbMF0sbWF0clszXT1yaWdodFsxXSxtYXRyWzZdPXJpZ2h0WzJdLG1hdHJbMV09dXBbMF0sbWF0cls0XT11cFsxXSxtYXRyWzddPXVwWzJdLG1hdHJbMl09LXZpZXdbMF0sbWF0cls1XT0tdmlld1sxXSxtYXRyWzhdPS12aWV3WzJdLG5vcm1hbGl6ZShvdXQsZnJvbU1hdDMob3V0LG1hdHIpKX19KCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNyZWF0ZSgpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7cmV0dXJuIGdsTWF0cml4LkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKG91dFswXT0wLG91dFsxXT0wLG91dFsyXT0wKSxvdXR9ZnVuY3Rpb24gY2xvbmUoYSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0fWZ1bmN0aW9uIGxlbmd0aChhKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl07cmV0dXJuIE1hdGguc3FydCh4KngreSp5K3oqeil9ZnVuY3Rpb24gZnJvbVZhbHVlcyh4LHkseil7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtyZXR1cm4gb3V0WzBdPXgsb3V0WzFdPXksb3V0WzJdPXosb3V0fWZ1bmN0aW9uIGNvcHkob3V0LGEpe3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXR9ZnVuY3Rpb24gc2V0KG91dCx4LHkseil7cmV0dXJuIG91dFswXT14LG91dFsxXT15LG91dFsyXT16LG91dH1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXRbMl09YVsyXStiWzJdLG91dH1mdW5jdGlvbiBzdWJ0cmFjdChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0tYlswXSxvdXRbMV09YVsxXS1iWzFdLG91dFsyXT1hWzJdLWJbMl0sb3V0fWZ1bmN0aW9uIG11bHRpcGx5KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXSpiWzBdLG91dFsxXT1hWzFdKmJbMV0sb3V0WzJdPWFbMl0qYlsyXSxvdXR9ZnVuY3Rpb24gZGl2aWRlKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS9iWzBdLG91dFsxXT1hWzFdL2JbMV0sb3V0WzJdPWFbMl0vYlsyXSxvdXR9ZnVuY3Rpb24gY2VpbChvdXQsYSl7cmV0dXJuIG91dFswXT1NYXRoLmNlaWwoYVswXSksb3V0WzFdPU1hdGguY2VpbChhWzFdKSxvdXRbMl09TWF0aC5jZWlsKGFbMl0pLG91dH1mdW5jdGlvbiBmbG9vcihvdXQsYSl7cmV0dXJuIG91dFswXT1NYXRoLmZsb29yKGFbMF0pLG91dFsxXT1NYXRoLmZsb29yKGFbMV0pLG91dFsyXT1NYXRoLmZsb29yKGFbMl0pLG91dH1mdW5jdGlvbiBtaW4ob3V0LGEsYil7cmV0dXJuIG91dFswXT1NYXRoLm1pbihhWzBdLGJbMF0pLG91dFsxXT1NYXRoLm1pbihhWzFdLGJbMV0pLG91dFsyXT1NYXRoLm1pbihhWzJdLGJbMl0pLG91dH1mdW5jdGlvbiBtYXgob3V0LGEsYil7cmV0dXJuIG91dFswXT1NYXRoLm1heChhWzBdLGJbMF0pLG91dFsxXT1NYXRoLm1heChhWzFdLGJbMV0pLG91dFsyXT1NYXRoLm1heChhWzJdLGJbMl0pLG91dH1mdW5jdGlvbiByb3VuZChvdXQsYSl7cmV0dXJuIG91dFswXT1NYXRoLnJvdW5kKGFbMF0pLG91dFsxXT1NYXRoLnJvdW5kKGFbMV0pLG91dFsyXT1NYXRoLnJvdW5kKGFbMl0pLG91dH1mdW5jdGlvbiBzY2FsZShvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYixvdXRbMV09YVsxXSpiLG91dFsyXT1hWzJdKmIsb3V0fWZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCxhLGIsc2NhbGUpe3JldHVybiBvdXRbMF09YVswXStiWzBdKnNjYWxlLG91dFsxXT1hWzFdK2JbMV0qc2NhbGUsb3V0WzJdPWFbMl0rYlsyXSpzY2FsZSxvdXR9ZnVuY3Rpb24gZGlzdGFuY2UoYSxiKXt2YXIgeD1iWzBdLWFbMF0seT1iWzFdLWFbMV0sej1iWzJdLWFbMl07cmV0dXJuIE1hdGguc3FydCh4KngreSp5K3oqeil9ZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsYil7dmFyIHg9YlswXS1hWzBdLHk9YlsxXS1hWzFdLHo9YlsyXS1hWzJdO3JldHVybiB4KngreSp5K3oqen1mdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpe3ZhciB4PWFbMF0seT1hWzFdLHo9YVsyXTtyZXR1cm4geCp4K3kqeSt6Knp9ZnVuY3Rpb24gbmVnYXRlKG91dCxhKXtyZXR1cm4gb3V0WzBdPS1hWzBdLG91dFsxXT0tYVsxXSxvdXRbMl09LWFbMl0sb3V0fWZ1bmN0aW9uIGludmVyc2Uob3V0LGEpe3JldHVybiBvdXRbMF09MS9hWzBdLG91dFsxXT0xL2FbMV0sb3V0WzJdPTEvYVsyXSxvdXR9ZnVuY3Rpb24gbm9ybWFsaXplKG91dCxhKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl0sbGVuPXgqeCt5Knkreip6O3JldHVybiBsZW4+MCYmKGxlbj0xL01hdGguc3FydChsZW4pLG91dFswXT1hWzBdKmxlbixvdXRbMV09YVsxXSpsZW4sb3V0WzJdPWFbMl0qbGVuKSxvdXR9ZnVuY3Rpb24gZG90KGEsYil7cmV0dXJuIGFbMF0qYlswXSthWzFdKmJbMV0rYVsyXSpiWzJdfWZ1bmN0aW9uIGNyb3NzKG91dCxhLGIpe3ZhciBheD1hWzBdLGF5PWFbMV0sYXo9YVsyXSxieD1iWzBdLGJ5PWJbMV0sYno9YlsyXTtyZXR1cm4gb3V0WzBdPWF5KmJ6LWF6KmJ5LG91dFsxXT1heipieC1heCpieixvdXRbMl09YXgqYnktYXkqYngsb3V0fWZ1bmN0aW9uIGxlcnAob3V0LGEsYix0KXt2YXIgYXg9YVswXSxheT1hWzFdLGF6PWFbMl07cmV0dXJuIG91dFswXT1heCt0KihiWzBdLWF4KSxvdXRbMV09YXkrdCooYlsxXS1heSksb3V0WzJdPWF6K3QqKGJbMl0tYXopLG91dH1mdW5jdGlvbiBoZXJtaXRlKG91dCxhLGIsYyxkLHQpe3ZhciBmYWN0b3JUaW1lczI9dCp0LGZhY3RvcjE9ZmFjdG9yVGltZXMyKigyKnQtMykrMSxmYWN0b3IyPWZhY3RvclRpbWVzMioodC0yKSt0LGZhY3RvcjM9ZmFjdG9yVGltZXMyKih0LTEpLGZhY3RvcjQ9ZmFjdG9yVGltZXMyKigzLTIqdCk7cmV0dXJuIG91dFswXT1hWzBdKmZhY3RvcjErYlswXSpmYWN0b3IyK2NbMF0qZmFjdG9yMytkWzBdKmZhY3RvcjQsb3V0WzFdPWFbMV0qZmFjdG9yMStiWzFdKmZhY3RvcjIrY1sxXSpmYWN0b3IzK2RbMV0qZmFjdG9yNCxvdXRbMl09YVsyXSpmYWN0b3IxK2JbMl0qZmFjdG9yMitjWzJdKmZhY3RvcjMrZFsyXSpmYWN0b3I0LG91dH1mdW5jdGlvbiBiZXppZXIob3V0LGEsYixjLGQsdCl7dmFyIGludmVyc2VGYWN0b3I9MS10LGludmVyc2VGYWN0b3JUaW1lc1R3bz1pbnZlcnNlRmFjdG9yKmludmVyc2VGYWN0b3IsZmFjdG9yVGltZXMyPXQqdCxmYWN0b3IxPWludmVyc2VGYWN0b3JUaW1lc1R3byppbnZlcnNlRmFjdG9yLGZhY3RvcjI9Myp0KmludmVyc2VGYWN0b3JUaW1lc1R3byxmYWN0b3IzPTMqZmFjdG9yVGltZXMyKmludmVyc2VGYWN0b3IsZmFjdG9yND1mYWN0b3JUaW1lczIqdDtyZXR1cm4gb3V0WzBdPWFbMF0qZmFjdG9yMStiWzBdKmZhY3RvcjIrY1swXSpmYWN0b3IzK2RbMF0qZmFjdG9yNCxvdXRbMV09YVsxXSpmYWN0b3IxK2JbMV0qZmFjdG9yMitjWzFdKmZhY3RvcjMrZFsxXSpmYWN0b3I0LG91dFsyXT1hWzJdKmZhY3RvcjErYlsyXSpmYWN0b3IyK2NbMl0qZmFjdG9yMytkWzJdKmZhY3RvcjQsb3V0fWZ1bmN0aW9uIHJhbmRvbShvdXQsc2NhbGUpe3NjYWxlPXNjYWxlfHwxO3ZhciByPTIqZ2xNYXRyaXguUkFORE9NKCkqTWF0aC5QSSx6PTIqZ2xNYXRyaXguUkFORE9NKCktMSx6U2NhbGU9TWF0aC5zcXJ0KDEteip6KSpzY2FsZTtyZXR1cm4gb3V0WzBdPU1hdGguY29zKHIpKnpTY2FsZSxvdXRbMV09TWF0aC5zaW4ocikqelNjYWxlLG91dFsyXT16KnNjYWxlLG91dH1mdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCxhLG0pe3ZhciB4PWFbMF0seT1hWzFdLHo9YVsyXSx3PW1bM10qeCttWzddKnkrbVsxMV0qeittWzE1XTtyZXR1cm4gdz13fHwxLG91dFswXT0obVswXSp4K21bNF0qeSttWzhdKnorbVsxMl0pL3csb3V0WzFdPShtWzFdKngrbVs1XSp5K21bOV0qeittWzEzXSkvdyxvdXRbMl09KG1bMl0qeCttWzZdKnkrbVsxMF0qeittWzE0XSkvdyxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsYSxtKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl07cmV0dXJuIG91dFswXT14Km1bMF0reSptWzNdK3oqbVs2XSxvdXRbMV09eCptWzFdK3kqbVs0XSt6Km1bN10sb3V0WzJdPXgqbVsyXSt5Km1bNV0reiptWzhdLG91dH1mdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCxhLHEpe3ZhciBxeD1xWzBdLHF5PXFbMV0scXo9cVsyXSxxdz1xWzNdLHg9YVswXSx5PWFbMV0sej1hWzJdLHV2eD1xeSp6LXF6KnksdXZ5PXF6KngtcXgqeix1dno9cXgqeS1xeSp4LHV1dng9cXkqdXZ6LXF6KnV2eSx1dXZ5PXF6KnV2eC1xeCp1dnosdXV2ej1xeCp1dnktcXkqdXZ4LHcyPTIqcXc7cmV0dXJuIHV2eCo9dzIsdXZ5Kj13Mix1dnoqPXcyLHV1dngqPTIsdXV2eSo9Mix1dXZ6Kj0yLG91dFswXT14K3V2eCt1dXZ4LG91dFsxXT15K3V2eSt1dXZ5LG91dFsyXT16K3V2eit1dXZ6LG91dH1mdW5jdGlvbiByb3RhdGVYKG91dCxhLGIsYyl7dmFyIHA9W10scj1bXTtyZXR1cm4gcFswXT1hWzBdLWJbMF0scFsxXT1hWzFdLWJbMV0scFsyXT1hWzJdLWJbMl0sclswXT1wWzBdLHJbMV09cFsxXSpNYXRoLmNvcyhjKS1wWzJdKk1hdGguc2luKGMpLHJbMl09cFsxXSpNYXRoLnNpbihjKStwWzJdKk1hdGguY29zKGMpLG91dFswXT1yWzBdK2JbMF0sb3V0WzFdPXJbMV0rYlsxXSxvdXRbMl09clsyXStiWzJdLG91dH1mdW5jdGlvbiByb3RhdGVZKG91dCxhLGIsYyl7dmFyIHA9W10scj1bXTtyZXR1cm4gcFswXT1hWzBdLWJbMF0scFsxXT1hWzFdLWJbMV0scFsyXT1hWzJdLWJbMl0sclswXT1wWzJdKk1hdGguc2luKGMpK3BbMF0qTWF0aC5jb3MoYyksclsxXT1wWzFdLHJbMl09cFsyXSpNYXRoLmNvcyhjKS1wWzBdKk1hdGguc2luKGMpLG91dFswXT1yWzBdK2JbMF0sb3V0WzFdPXJbMV0rYlsxXSxvdXRbMl09clsyXStiWzJdLG91dH1mdW5jdGlvbiByb3RhdGVaKG91dCxhLGIsYyl7dmFyIHA9W10scj1bXTtyZXR1cm4gcFswXT1hWzBdLWJbMF0scFsxXT1hWzFdLWJbMV0scFsyXT1hWzJdLWJbMl0sclswXT1wWzBdKk1hdGguY29zKGMpLXBbMV0qTWF0aC5zaW4oYyksclsxXT1wWzBdKk1hdGguc2luKGMpK3BbMV0qTWF0aC5jb3MoYyksclsyXT1wWzJdLG91dFswXT1yWzBdK2JbMF0sb3V0WzFdPXJbMV0rYlsxXSxvdXRbMl09clsyXStiWzJdLG91dH1mdW5jdGlvbiBhbmdsZShhLGIpe3ZhciB0ZW1wQT1mcm9tVmFsdWVzKGFbMF0sYVsxXSxhWzJdKSx0ZW1wQj1mcm9tVmFsdWVzKGJbMF0sYlsxXSxiWzJdKTtub3JtYWxpemUodGVtcEEsdGVtcEEpLG5vcm1hbGl6ZSh0ZW1wQix0ZW1wQik7dmFyIGNvc2luZT1kb3QodGVtcEEsdGVtcEIpO3JldHVybiBjb3NpbmU+MT8wOmNvc2luZTwtMT9NYXRoLlBJOk1hdGguYWNvcyhjb3NpbmUpfWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cInZlYzMoXCIrYVswXStcIiwgXCIrYVsxXStcIiwgXCIrYVsyXStcIilcIn1mdW5jdGlvbiBleGFjdEVxdWFscyhhLGIpe3JldHVybiBhWzBdPT09YlswXSYmYVsxXT09PWJbMV0mJmFbMl09PT1iWzJdfWZ1bmN0aW9uIGVxdWFscyhhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXTtyZXR1cm4gTWF0aC5hYnMoYTAtYjApPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTApLE1hdGguYWJzKGIwKSkmJk1hdGguYWJzKGExLWIxKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExKSxNYXRoLmFicyhiMSkpJiZNYXRoLmFicyhhMi1iMik8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMiksTWF0aC5hYnMoYjIpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmZvckVhY2g9ZXhwb3J0cy5zcXJMZW49ZXhwb3J0cy5sZW49ZXhwb3J0cy5zcXJEaXN0PWV4cG9ydHMuZGlzdD1leHBvcnRzLmRpdj1leHBvcnRzLm11bD1leHBvcnRzLnN1Yj12b2lkIDAsZXhwb3J0cy5jcmVhdGU9Y3JlYXRlLGV4cG9ydHMuY2xvbmU9Y2xvbmUsZXhwb3J0cy5sZW5ndGg9bGVuZ3RoLGV4cG9ydHMuZnJvbVZhbHVlcz1mcm9tVmFsdWVzLGV4cG9ydHMuY29weT1jb3B5LGV4cG9ydHMuc2V0PXNldCxleHBvcnRzLmFkZD1hZGQsZXhwb3J0cy5zdWJ0cmFjdD1zdWJ0cmFjdCxleHBvcnRzLm11bHRpcGx5PW11bHRpcGx5LGV4cG9ydHMuZGl2aWRlPWRpdmlkZSxleHBvcnRzLmNlaWw9Y2VpbCxleHBvcnRzLmZsb29yPWZsb29yLGV4cG9ydHMubWluPW1pbixleHBvcnRzLm1heD1tYXgsZXhwb3J0cy5yb3VuZD1yb3VuZCxleHBvcnRzLnNjYWxlPXNjYWxlLGV4cG9ydHMuc2NhbGVBbmRBZGQ9c2NhbGVBbmRBZGQsZXhwb3J0cy5kaXN0YW5jZT1kaXN0YW5jZSxleHBvcnRzLnNxdWFyZWREaXN0YW5jZT1zcXVhcmVkRGlzdGFuY2UsZXhwb3J0cy5zcXVhcmVkTGVuZ3RoPXNxdWFyZWRMZW5ndGgsZXhwb3J0cy5uZWdhdGU9bmVnYXRlLGV4cG9ydHMuaW52ZXJzZT1pbnZlcnNlLGV4cG9ydHMubm9ybWFsaXplPW5vcm1hbGl6ZSxleHBvcnRzLmRvdD1kb3QsZXhwb3J0cy5jcm9zcz1jcm9zcyxleHBvcnRzLmxlcnA9bGVycCxleHBvcnRzLmhlcm1pdGU9aGVybWl0ZSxleHBvcnRzLmJlemllcj1iZXppZXIsZXhwb3J0cy5yYW5kb209cmFuZG9tLGV4cG9ydHMudHJhbnNmb3JtTWF0ND10cmFuc2Zvcm1NYXQ0LGV4cG9ydHMudHJhbnNmb3JtTWF0Mz10cmFuc2Zvcm1NYXQzLGV4cG9ydHMudHJhbnNmb3JtUXVhdD10cmFuc2Zvcm1RdWF0LGV4cG9ydHMucm90YXRlWD1yb3RhdGVYLGV4cG9ydHMucm90YXRlWT1yb3RhdGVZLGV4cG9ydHMucm90YXRlWj1yb3RhdGVaLGV4cG9ydHMuYW5nbGU9YW5nbGUsZXhwb3J0cy5zdHI9c3RyLGV4cG9ydHMuZXhhY3RFcXVhbHM9ZXhhY3RFcXVhbHMsZXhwb3J0cy5lcXVhbHM9ZXF1YWxzO3ZhciBfY29tbW9uPV9fd2VicGFja19yZXF1aXJlX18oMyksZ2xNYXRyaXg9ZnVuY3Rpb24ob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian0oX2NvbW1vbik7ZXhwb3J0cy5zdWI9c3VidHJhY3QsZXhwb3J0cy5tdWw9bXVsdGlwbHksZXhwb3J0cy5kaXY9ZGl2aWRlLGV4cG9ydHMuZGlzdD1kaXN0YW5jZSxleHBvcnRzLnNxckRpc3Q9c3F1YXJlZERpc3RhbmNlLGV4cG9ydHMubGVuPWxlbmd0aCxleHBvcnRzLnNxckxlbj1zcXVhcmVkTGVuZ3RoLGV4cG9ydHMuZm9yRWFjaD1mdW5jdGlvbigpe3ZhciB2ZWM9Y3JlYXRlKCk7cmV0dXJuIGZ1bmN0aW9uKGEsc3RyaWRlLG9mZnNldCxjb3VudCxmbixhcmcpe3ZhciBpPXZvaWQgMCxsPXZvaWQgMDtmb3Ioc3RyaWRlfHwoc3RyaWRlPTMpLG9mZnNldHx8KG9mZnNldD0wKSxsPWNvdW50P01hdGgubWluKGNvdW50KnN0cmlkZStvZmZzZXQsYS5sZW5ndGgpOmEubGVuZ3RoLGk9b2Zmc2V0O2k8bDtpKz1zdHJpZGUpdmVjWzBdPWFbaV0sdmVjWzFdPWFbaSsxXSx2ZWNbMl09YVtpKzJdLGZuKHZlYyx2ZWMsYXJnKSxhW2ldPXZlY1swXSxhW2krMV09dmVjWzFdLGFbaSsyXT12ZWNbMl07cmV0dXJuIGF9fSgpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjcmVhdGUoKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO3JldHVybiBnbE1hdHJpeC5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihvdXRbMF09MCxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCksb3V0fWZ1bmN0aW9uIGNsb25lKGEpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzNdLG91dH1mdW5jdGlvbiBmcm9tVmFsdWVzKHgseSx6LHcpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7cmV0dXJuIG91dFswXT14LG91dFsxXT15LG91dFsyXT16LG91dFszXT13LG91dH1mdW5jdGlvbiBjb3B5KG91dCxhKXtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0WzNdPWFbM10sb3V0fWZ1bmN0aW9uIHNldChvdXQseCx5LHosdyl7cmV0dXJuIG91dFswXT14LG91dFsxXT15LG91dFsyXT16LG91dFszXT13LG91dH1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXRbMl09YVsyXStiWzJdLG91dFszXT1hWzNdK2JbM10sb3V0fWZ1bmN0aW9uIHN1YnRyYWN0KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS1iWzBdLG91dFsxXT1hWzFdLWJbMV0sb3V0WzJdPWFbMl0tYlsyXSxvdXRbM109YVszXS1iWzNdLG91dH1mdW5jdGlvbiBtdWx0aXBseShvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYlswXSxvdXRbMV09YVsxXSpiWzFdLG91dFsyXT1hWzJdKmJbMl0sb3V0WzNdPWFbM10qYlszXSxvdXR9ZnVuY3Rpb24gZGl2aWRlKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS9iWzBdLG91dFsxXT1hWzFdL2JbMV0sb3V0WzJdPWFbMl0vYlsyXSxvdXRbM109YVszXS9iWzNdLG91dH1mdW5jdGlvbiBjZWlsKG91dCxhKXtyZXR1cm4gb3V0WzBdPU1hdGguY2VpbChhWzBdKSxvdXRbMV09TWF0aC5jZWlsKGFbMV0pLG91dFsyXT1NYXRoLmNlaWwoYVsyXSksb3V0WzNdPU1hdGguY2VpbChhWzNdKSxvdXR9ZnVuY3Rpb24gZmxvb3Iob3V0LGEpe3JldHVybiBvdXRbMF09TWF0aC5mbG9vcihhWzBdKSxvdXRbMV09TWF0aC5mbG9vcihhWzFdKSxvdXRbMl09TWF0aC5mbG9vcihhWzJdKSxvdXRbM109TWF0aC5mbG9vcihhWzNdKSxvdXR9ZnVuY3Rpb24gbWluKG91dCxhLGIpe3JldHVybiBvdXRbMF09TWF0aC5taW4oYVswXSxiWzBdKSxvdXRbMV09TWF0aC5taW4oYVsxXSxiWzFdKSxvdXRbMl09TWF0aC5taW4oYVsyXSxiWzJdKSxvdXRbM109TWF0aC5taW4oYVszXSxiWzNdKSxvdXR9ZnVuY3Rpb24gbWF4KG91dCxhLGIpe3JldHVybiBvdXRbMF09TWF0aC5tYXgoYVswXSxiWzBdKSxvdXRbMV09TWF0aC5tYXgoYVsxXSxiWzFdKSxvdXRbMl09TWF0aC5tYXgoYVsyXSxiWzJdKSxvdXRbM109TWF0aC5tYXgoYVszXSxiWzNdKSxvdXR9ZnVuY3Rpb24gcm91bmQob3V0LGEpe3JldHVybiBvdXRbMF09TWF0aC5yb3VuZChhWzBdKSxvdXRbMV09TWF0aC5yb3VuZChhWzFdKSxvdXRbMl09TWF0aC5yb3VuZChhWzJdKSxvdXRbM109TWF0aC5yb3VuZChhWzNdKSxvdXR9ZnVuY3Rpb24gc2NhbGUob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdKmIsb3V0WzFdPWFbMV0qYixvdXRbMl09YVsyXSpiLG91dFszXT1hWzNdKmIsb3V0fWZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCxhLGIsc2NhbGUpe3JldHVybiBvdXRbMF09YVswXStiWzBdKnNjYWxlLG91dFsxXT1hWzFdK2JbMV0qc2NhbGUsb3V0WzJdPWFbMl0rYlsyXSpzY2FsZSxvdXRbM109YVszXStiWzNdKnNjYWxlLG91dH1mdW5jdGlvbiBkaXN0YW5jZShhLGIpe3ZhciB4PWJbMF0tYVswXSx5PWJbMV0tYVsxXSx6PWJbMl0tYVsyXSx3PWJbM10tYVszXTtyZXR1cm4gTWF0aC5zcXJ0KHgqeCt5Knkreip6K3cqdyl9ZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsYil7dmFyIHg9YlswXS1hWzBdLHk9YlsxXS1hWzFdLHo9YlsyXS1hWzJdLHc9YlszXS1hWzNdO3JldHVybiB4KngreSp5K3oqeit3Knd9ZnVuY3Rpb24gbGVuZ3RoKGEpe3ZhciB4PWFbMF0seT1hWzFdLHo9YVsyXSx3PWFbM107cmV0dXJuIE1hdGguc3FydCh4KngreSp5K3oqeit3KncpfWZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSl7dmFyIHg9YVswXSx5PWFbMV0sej1hWzJdLHc9YVszXTtyZXR1cm4geCp4K3kqeSt6Knordyp3fWZ1bmN0aW9uIG5lZ2F0ZShvdXQsYSl7cmV0dXJuIG91dFswXT0tYVswXSxvdXRbMV09LWFbMV0sb3V0WzJdPS1hWzJdLG91dFszXT0tYVszXSxvdXR9ZnVuY3Rpb24gaW52ZXJzZShvdXQsYSl7cmV0dXJuIG91dFswXT0xL2FbMF0sb3V0WzFdPTEvYVsxXSxvdXRbMl09MS9hWzJdLG91dFszXT0xL2FbM10sb3V0fWZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsYSl7dmFyIHg9YVswXSx5PWFbMV0sej1hWzJdLHc9YVszXSxsZW49eCp4K3kqeSt6Knordyp3O3JldHVybiBsZW4+MCYmKGxlbj0xL01hdGguc3FydChsZW4pLG91dFswXT14KmxlbixvdXRbMV09eSpsZW4sb3V0WzJdPXoqbGVuLG91dFszXT13Kmxlbiksb3V0fWZ1bmN0aW9uIGRvdChhLGIpe3JldHVybiBhWzBdKmJbMF0rYVsxXSpiWzFdK2FbMl0qYlsyXSthWzNdKmJbM119ZnVuY3Rpb24gbGVycChvdXQsYSxiLHQpe3ZhciBheD1hWzBdLGF5PWFbMV0sYXo9YVsyXSxhdz1hWzNdO3JldHVybiBvdXRbMF09YXgrdCooYlswXS1heCksb3V0WzFdPWF5K3QqKGJbMV0tYXkpLG91dFsyXT1heit0KihiWzJdLWF6KSxvdXRbM109YXcrdCooYlszXS1hdyksb3V0fWZ1bmN0aW9uIHJhbmRvbShvdXQsc2NhbGUpe3NjYWxlPXNjYWxlfHwxO3ZhciB2MSx2Mix2Myx2NCxzMSxzMjtkb3t2MT0yKmdsTWF0cml4LlJBTkRPTSgpLTEsdjI9MipnbE1hdHJpeC5SQU5ET00oKS0xLHMxPXYxKnYxK3YyKnYyfXdoaWxlKHMxPj0xKTtkb3t2Mz0yKmdsTWF0cml4LlJBTkRPTSgpLTEsdjQ9MipnbE1hdHJpeC5SQU5ET00oKS0xLHMyPXYzKnYzK3Y0KnY0fXdoaWxlKHMyPj0xKTt2YXIgZD1NYXRoLnNxcnQoKDEtczEpL3MyKTtyZXR1cm4gb3V0WzBdPXNjYWxlKnYxLG91dFsxXT1zY2FsZSp2MixvdXRbMl09c2NhbGUqdjMqZCxvdXRbM109c2NhbGUqdjQqZCxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsYSxtKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl0sdz1hWzNdO3JldHVybiBvdXRbMF09bVswXSp4K21bNF0qeSttWzhdKnorbVsxMl0qdyxvdXRbMV09bVsxXSp4K21bNV0qeSttWzldKnorbVsxM10qdyxvdXRbMl09bVsyXSp4K21bNl0qeSttWzEwXSp6K21bMTRdKncsb3V0WzNdPW1bM10qeCttWzddKnkrbVsxMV0qeittWzE1XSp3LG91dH1mdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCxhLHEpe3ZhciB4PWFbMF0seT1hWzFdLHo9YVsyXSxxeD1xWzBdLHF5PXFbMV0scXo9cVsyXSxxdz1xWzNdLGl4PXF3KngrcXkqei1xeip5LGl5PXF3KnkrcXoqeC1xeCp6LGl6PXF3KnorcXgqeS1xeSp4LGl3PS1xeCp4LXF5KnktcXoqejtyZXR1cm4gb3V0WzBdPWl4KnF3K2l3Ki1xeCtpeSotcXotaXoqLXF5LG91dFsxXT1peSpxdytpdyotcXkraXoqLXF4LWl4Ki1xeixvdXRbMl09aXoqcXcraXcqLXF6K2l4Ki1xeS1peSotcXgsb3V0WzNdPWFbM10sb3V0fWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cInZlYzQoXCIrYVswXStcIiwgXCIrYVsxXStcIiwgXCIrYVsyXStcIiwgXCIrYVszXStcIilcIn1mdW5jdGlvbiBleGFjdEVxdWFscyhhLGIpe3JldHVybiBhWzBdPT09YlswXSYmYVsxXT09PWJbMV0mJmFbMl09PT1iWzJdJiZhWzNdPT09YlszXX1mdW5jdGlvbiBlcXVhbHMoYSxiKXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXSxiMz1iWzNdO3JldHVybiBNYXRoLmFicyhhMC1iMCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMCksTWF0aC5hYnMoYjApKSYmTWF0aC5hYnMoYTEtYjEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTEpLE1hdGguYWJzKGIxKSkmJk1hdGguYWJzKGEyLWIyKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEyKSxNYXRoLmFicyhiMikpJiZNYXRoLmFicyhhMy1iMyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMyksTWF0aC5hYnMoYjMpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmZvckVhY2g9ZXhwb3J0cy5zcXJMZW49ZXhwb3J0cy5sZW49ZXhwb3J0cy5zcXJEaXN0PWV4cG9ydHMuZGlzdD1leHBvcnRzLmRpdj1leHBvcnRzLm11bD1leHBvcnRzLnN1Yj12b2lkIDAsZXhwb3J0cy5jcmVhdGU9Y3JlYXRlLGV4cG9ydHMuY2xvbmU9Y2xvbmUsZXhwb3J0cy5mcm9tVmFsdWVzPWZyb21WYWx1ZXMsZXhwb3J0cy5jb3B5PWNvcHksZXhwb3J0cy5zZXQ9c2V0LGV4cG9ydHMuYWRkPWFkZCxleHBvcnRzLnN1YnRyYWN0PXN1YnRyYWN0LGV4cG9ydHMubXVsdGlwbHk9bXVsdGlwbHksZXhwb3J0cy5kaXZpZGU9ZGl2aWRlLGV4cG9ydHMuY2VpbD1jZWlsLGV4cG9ydHMuZmxvb3I9Zmxvb3IsZXhwb3J0cy5taW49bWluLGV4cG9ydHMubWF4PW1heCxleHBvcnRzLnJvdW5kPXJvdW5kLGV4cG9ydHMuc2NhbGU9c2NhbGUsZXhwb3J0cy5zY2FsZUFuZEFkZD1zY2FsZUFuZEFkZCxleHBvcnRzLmRpc3RhbmNlPWRpc3RhbmNlLGV4cG9ydHMuc3F1YXJlZERpc3RhbmNlPXNxdWFyZWREaXN0YW5jZSxleHBvcnRzLmxlbmd0aD1sZW5ndGgsZXhwb3J0cy5zcXVhcmVkTGVuZ3RoPXNxdWFyZWRMZW5ndGgsZXhwb3J0cy5uZWdhdGU9bmVnYXRlLGV4cG9ydHMuaW52ZXJzZT1pbnZlcnNlLGV4cG9ydHMubm9ybWFsaXplPW5vcm1hbGl6ZSxleHBvcnRzLmRvdD1kb3QsZXhwb3J0cy5sZXJwPWxlcnAsZXhwb3J0cy5yYW5kb209cmFuZG9tLGV4cG9ydHMudHJhbnNmb3JtTWF0ND10cmFuc2Zvcm1NYXQ0LGV4cG9ydHMudHJhbnNmb3JtUXVhdD10cmFuc2Zvcm1RdWF0LGV4cG9ydHMuc3RyPXN0cixleHBvcnRzLmV4YWN0RXF1YWxzPWV4YWN0RXF1YWxzLGV4cG9ydHMuZXF1YWxzPWVxdWFsczt2YXIgX2NvbW1vbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGdsTWF0cml4PWZ1bmN0aW9uKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9KF9jb21tb24pO2V4cG9ydHMuc3ViPXN1YnRyYWN0LGV4cG9ydHMubXVsPW11bHRpcGx5LGV4cG9ydHMuZGl2PWRpdmlkZSxleHBvcnRzLmRpc3Q9ZGlzdGFuY2UsZXhwb3J0cy5zcXJEaXN0PXNxdWFyZWREaXN0YW5jZSxleHBvcnRzLmxlbj1sZW5ndGgsZXhwb3J0cy5zcXJMZW49c3F1YXJlZExlbmd0aCxleHBvcnRzLmZvckVhY2g9ZnVuY3Rpb24oKXt2YXIgdmVjPWNyZWF0ZSgpO3JldHVybiBmdW5jdGlvbihhLHN0cmlkZSxvZmZzZXQsY291bnQsZm4sYXJnKXt2YXIgaT12b2lkIDAsbD12b2lkIDA7Zm9yKHN0cmlkZXx8KHN0cmlkZT00KSxvZmZzZXR8fChvZmZzZXQ9MCksbD1jb3VudD9NYXRoLm1pbihjb3VudCpzdHJpZGUrb2Zmc2V0LGEubGVuZ3RoKTphLmxlbmd0aCxpPW9mZnNldDtpPGw7aSs9c3RyaWRlKXZlY1swXT1hW2ldLHZlY1sxXT1hW2krMV0sdmVjWzJdPWFbaSsyXSx2ZWNbM109YVtpKzNdLGZuKHZlYyx2ZWMsYXJnKSxhW2ldPXZlY1swXSxhW2krMV09dmVjWzFdLGFbaSsyXT12ZWNbMl0sYVtpKzNdPXZlY1szXTtyZXR1cm4gYX19KCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPXtBQ1RJVkVfQVRUUklCVVRFUzozNTcyMSxBQ1RJVkVfQVRUUklCVVRFX01BWF9MRU5HVEg6MzU3MjIsQUNUSVZFX1RFWFRVUkU6MzQwMTYsQUNUSVZFX1VOSUZPUk1TOjM1NzE4LEFDVElWRV9VTklGT1JNX01BWF9MRU5HVEg6MzU3MTksQUxJQVNFRF9MSU5FX1dJRFRIX1JBTkdFOjMzOTAyLEFMSUFTRURfUE9JTlRfU0laRV9SQU5HRTozMzkwMSxBTFBIQTo2NDA2LEFMUEhBX0JJVFM6MzQxMyxBTFdBWVM6NTE5LEFSUkFZX0JVRkZFUjozNDk2MixBUlJBWV9CVUZGRVJfQklORElORzozNDk2NCxBVFRBQ0hFRF9TSEFERVJTOjM1NzE3LEJBQ0s6MTAyOSxCTEVORDozMDQyLEJMRU5EX0NPTE9SOjMyNzczLEJMRU5EX0RTVF9BTFBIQTozMjk3MCxCTEVORF9EU1RfUkdCOjMyOTY4LEJMRU5EX0VRVUFUSU9OOjMyNzc3LEJMRU5EX0VRVUFUSU9OX0FMUEhBOjM0ODc3LEJMRU5EX0VRVUFUSU9OX1JHQjozMjc3NyxCTEVORF9TUkNfQUxQSEE6MzI5NzEsQkxFTkRfU1JDX1JHQjozMjk2OSxCTFVFX0JJVFM6MzQxMixCT09MOjM1NjcwLEJPT0xfVkVDMjozNTY3MSxCT09MX1ZFQzM6MzU2NzIsQk9PTF9WRUM0OjM1NjczLEJST1dTRVJfREVGQVVMVF9XRUJHTDozNzQ0NCxCVUZGRVJfU0laRTozNDY2MCxCVUZGRVJfVVNBR0U6MzQ2NjEsQllURTo1MTIwLENDVzoyMzA1LENMQU1QX1RPX0VER0U6MzMwNzEsQ09MT1JfQVRUQUNITUVOVDA6MzYwNjQsQ09MT1JfQlVGRkVSX0JJVDoxNjM4NCxDT0xPUl9DTEVBUl9WQUxVRTozMTA2LENPTE9SX1dSSVRFTUFTSzozMTA3LENPTVBJTEVfU1RBVFVTOjM1NzEzLENPTVBSRVNTRURfVEVYVFVSRV9GT1JNQVRTOjM0NDY3LENPTlNUQU5UX0FMUEhBOjMyNzcxLENPTlNUQU5UX0NPTE9SOjMyNzY5LENPTlRFWFRfTE9TVF9XRUJHTDozNzQ0MixDVUxMX0ZBQ0U6Mjg4NCxDVUxMX0ZBQ0VfTU9ERToyODg1LENVUlJFTlRfUFJPR1JBTTozNTcyNSxDVVJSRU5UX1ZFUlRFWF9BVFRSSUI6MzQzNDIsQ1c6MjMwNCxERUNSOjc2ODMsREVDUl9XUkFQOjM0MDU2LERFTEVURV9TVEFUVVM6MzU3MTIsREVQVEhfQVRUQUNITUVOVDozNjA5NixERVBUSF9CSVRTOjM0MTQsREVQVEhfQlVGRkVSX0JJVDoyNTYsREVQVEhfQ0xFQVJfVkFMVUU6MjkzMSxERVBUSF9DT01QT05FTlQ6NjQwMixSRUQ6NjQwMyxERVBUSF9DT01QT05FTlQxNjozMzE4OSxERVBUSF9GVU5DOjI5MzIsREVQVEhfUkFOR0U6MjkyOCxERVBUSF9TVEVOQ0lMOjM0MDQxLERFUFRIX1NURU5DSUxfQVRUQUNITUVOVDozMzMwNixERVBUSF9URVNUOjI5MjksREVQVEhfV1JJVEVNQVNLOjI5MzAsRElUSEVSOjMwMjQsRE9OVF9DQVJFOjQzNTIsRFNUX0FMUEhBOjc3MixEU1RfQ09MT1I6Nzc0LERZTkFNSUNfRFJBVzozNTA0OCxFTEVNRU5UX0FSUkFZX0JVRkZFUjozNDk2MyxFTEVNRU5UX0FSUkFZX0JVRkZFUl9CSU5ESU5HOjM0OTY1LEVRVUFMOjUxNCxGQVNURVNUOjQzNTMsRkxPQVQ6NTEyNixGTE9BVF9NQVQyOjM1Njc0LEZMT0FUX01BVDM6MzU2NzUsRkxPQVRfTUFUNDozNTY3NixGTE9BVF9WRUMyOjM1NjY0LEZMT0FUX1ZFQzM6MzU2NjUsRkxPQVRfVkVDNDozNTY2NixGUkFHTUVOVF9TSEFERVI6MzU2MzIsRlJBTUVCVUZGRVI6MzYxNjAsRlJBTUVCVUZGRVJfQVRUQUNITUVOVF9PQkpFQ1RfTkFNRTozNjA0OSxGUkFNRUJVRkZFUl9BVFRBQ0hNRU5UX09CSkVDVF9UWVBFOjM2MDQ4LEZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfVEVYVFVSRV9DVUJFX01BUF9GQUNFOjM2MDUxLEZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfVEVYVFVSRV9MRVZFTDozNjA1MCxGUkFNRUJVRkZFUl9CSU5ESU5HOjM2MDA2LEZSQU1FQlVGRkVSX0NPTVBMRVRFOjM2MDUzLEZSQU1FQlVGRkVSX0lOQ09NUExFVEVfQVRUQUNITUVOVDozNjA1NCxGUkFNRUJVRkZFUl9JTkNPTVBMRVRFX0RJTUVOU0lPTlM6MzYwNTcsRlJBTUVCVUZGRVJfSU5DT01QTEVURV9NSVNTSU5HX0FUVEFDSE1FTlQ6MzYwNTUsRlJBTUVCVUZGRVJfVU5TVVBQT1JURUQ6MzYwNjEsRlJPTlQ6MTAyOCxGUk9OVF9BTkRfQkFDSzoxMDMyLEZST05UX0ZBQ0U6Mjg4NixGVU5DX0FERDozMjc3NCxGVU5DX1JFVkVSU0VfU1VCVFJBQ1Q6MzI3NzksRlVOQ19TVUJUUkFDVDozMjc3OCxHRU5FUkFURV9NSVBNQVBfSElOVDozMzE3MCxHRVFVQUw6NTE4LEdSRUFURVI6NTE2LEdSRUVOX0JJVFM6MzQxMSxISUdIX0ZMT0FUOjM2MzM4LEhJR0hfSU5UOjM2MzQxLElOQ1I6NzY4MixJTkNSX1dSQVA6MzQwNTUsSU5GT19MT0dfTEVOR1RIOjM1NzE2LElOVDo1MTI0LElOVF9WRUMyOjM1NjY3LElOVF9WRUMzOjM1NjY4LElOVF9WRUM0OjM1NjY5LElOVkFMSURfRU5VTToxMjgwLElOVkFMSURfRlJBTUVCVUZGRVJfT1BFUkFUSU9OOjEyODYsSU5WQUxJRF9PUEVSQVRJT046MTI4MixJTlZBTElEX1ZBTFVFOjEyODEsSU5WRVJUOjUzODYsS0VFUDo3NjgwLExFUVVBTDo1MTUsTEVTUzo1MTMsTElORUFSOjk3MjksTElORUFSX01JUE1BUF9MSU5FQVI6OTk4NyxMSU5FQVJfTUlQTUFQX05FQVJFU1Q6OTk4NSxMSU5FUzoxLExJTkVfTE9PUDoyLExJTkVfU1RSSVA6MyxMSU5FX1dJRFRIOjI4NDksTElOS19TVEFUVVM6MzU3MTQsTE9XX0ZMT0FUOjM2MzM2LExPV19JTlQ6MzYzMzksTFVNSU5BTkNFOjY0MDksTFVNSU5BTkNFX0FMUEhBOjY0MTAsTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFM6MzU2NjEsTUFYX0NVQkVfTUFQX1RFWFRVUkVfU0laRTozNDA3NixNQVhfRlJBR01FTlRfVU5JRk9STV9WRUNUT1JTOjM2MzQ5LE1BWF9SRU5ERVJCVUZGRVJfU0laRTozNDAyNCxNQVhfVEVYVFVSRV9JTUFHRV9VTklUUzozNDkzMCxNQVhfVEVYVFVSRV9TSVpFOjMzNzksTUFYX1ZBUllJTkdfVkVDVE9SUzozNjM0OCxNQVhfVkVSVEVYX0FUVFJJQlM6MzQ5MjEsTUFYX1ZFUlRFWF9URVhUVVJFX0lNQUdFX1VOSVRTOjM1NjYwLE1BWF9WRVJURVhfVU5JRk9STV9WRUNUT1JTOjM2MzQ3LE1BWF9WSUVXUE9SVF9ESU1TOjMzODYsTUVESVVNX0ZMT0FUOjM2MzM3LE1FRElVTV9JTlQ6MzYzNDAsTUlSUk9SRURfUkVQRUFUOjMzNjQ4LE5FQVJFU1Q6OTcyOCxORUFSRVNUX01JUE1BUF9MSU5FQVI6OTk4NixORUFSRVNUX01JUE1BUF9ORUFSRVNUOjk5ODQsTkVWRVI6NTEyLE5JQ0VTVDo0MzU0LE5PTkU6MCxOT1RFUVVBTDo1MTcsTk9fRVJST1I6MCxOVU1fQ09NUFJFU1NFRF9URVhUVVJFX0ZPUk1BVFM6MzQ0NjYsT05FOjEsT05FX01JTlVTX0NPTlNUQU5UX0FMUEhBOjMyNzcyLE9ORV9NSU5VU19DT05TVEFOVF9DT0xPUjozMjc3MCxPTkVfTUlOVVNfRFNUX0FMUEhBOjc3MyxPTkVfTUlOVVNfRFNUX0NPTE9SOjc3NSxPTkVfTUlOVVNfU1JDX0FMUEhBOjc3MSxPTkVfTUlOVVNfU1JDX0NPTE9SOjc2OSxPVVRfT0ZfTUVNT1JZOjEyODUsUEFDS19BTElHTk1FTlQ6MzMzMyxQT0lOVFM6MCxQT0xZR09OX09GRlNFVF9GQUNUT1I6MzI4MjQsUE9MWUdPTl9PRkZTRVRfRklMTDozMjgyMyxQT0xZR09OX09GRlNFVF9VTklUUzoxMDc1MixSRURfQklUUzozNDEwLFJFTkRFUkJVRkZFUjozNjE2MSxSRU5ERVJCVUZGRVJfQUxQSEFfU0laRTozNjE3OSxSRU5ERVJCVUZGRVJfQklORElORzozNjAwNyxSRU5ERVJCVUZGRVJfQkxVRV9TSVpFOjM2MTc4LFJFTkRFUkJVRkZFUl9ERVBUSF9TSVpFOjM2MTgwLFJFTkRFUkJVRkZFUl9HUkVFTl9TSVpFOjM2MTc3LFJFTkRFUkJVRkZFUl9IRUlHSFQ6MzYxNjMsUkVOREVSQlVGRkVSX0lOVEVSTkFMX0ZPUk1BVDozNjE2NCxSRU5ERVJCVUZGRVJfUkVEX1NJWkU6MzYxNzYsUkVOREVSQlVGRkVSX1NURU5DSUxfU0laRTozNjE4MSxSRU5ERVJCVUZGRVJfV0lEVEg6MzYxNjIsUkVOREVSRVI6NzkzNyxSRVBFQVQ6MTA0OTcsUkVQTEFDRTo3NjgxLFJHQjo2NDA3LFJHQjVfQTE6MzI4NTUsUkdCNTY1OjM2MTk0LFJHQkE6NjQwOCxSR0JBNDozMjg1NCxTQU1QTEVSXzJEOjM1Njc4LFNBTVBMRVJfQ1VCRTozNTY4MCxTQU1QTEVTOjMyOTM3LFNBTVBMRV9BTFBIQV9UT19DT1ZFUkFHRTozMjkyNixTQU1QTEVfQlVGRkVSUzozMjkzNixTQU1QTEVfQ09WRVJBR0U6MzI5MjgsU0FNUExFX0NPVkVSQUdFX0lOVkVSVDozMjkzOSxTQU1QTEVfQ09WRVJBR0VfVkFMVUU6MzI5MzgsU0NJU1NPUl9CT1g6MzA4OCxTQ0lTU09SX1RFU1Q6MzA4OSxTSEFERVJfQ09NUElMRVI6MzYzNDYsU0hBREVSX1NPVVJDRV9MRU5HVEg6MzU3MjAsU0hBREVSX1RZUEU6MzU2NjMsU0hBRElOR19MQU5HVUFHRV9WRVJTSU9OOjM1NzI0LFNIT1JUOjUxMjIsU1JDX0FMUEhBOjc3MCxTUkNfQUxQSEFfU0FUVVJBVEU6Nzc2LFNSQ19DT0xPUjo3NjgsU1RBVElDX0RSQVc6MzUwNDQsU1RFTkNJTF9BVFRBQ0hNRU5UOjM2MTI4LFNURU5DSUxfQkFDS19GQUlMOjM0ODE3LFNURU5DSUxfQkFDS19GVU5DOjM0ODE2LFNURU5DSUxfQkFDS19QQVNTX0RFUFRIX0ZBSUw6MzQ4MTgsU1RFTkNJTF9CQUNLX1BBU1NfREVQVEhfUEFTUzozNDgxOSxTVEVOQ0lMX0JBQ0tfUkVGOjM2MDAzLFNURU5DSUxfQkFDS19WQUxVRV9NQVNLOjM2MDA0LFNURU5DSUxfQkFDS19XUklURU1BU0s6MzYwMDUsU1RFTkNJTF9CSVRTOjM0MTUsU1RFTkNJTF9CVUZGRVJfQklUOjEwMjQsU1RFTkNJTF9DTEVBUl9WQUxVRToyOTYxLFNURU5DSUxfRkFJTDoyOTY0LFNURU5DSUxfRlVOQzoyOTYyLFNURU5DSUxfSU5ERVg6NjQwMSxTVEVOQ0lMX0lOREVYODozNjE2OCxTVEVOQ0lMX1BBU1NfREVQVEhfRkFJTDoyOTY1LFNURU5DSUxfUEFTU19ERVBUSF9QQVNTOjI5NjYsU1RFTkNJTF9SRUY6Mjk2NyxTVEVOQ0lMX1RFU1Q6Mjk2MCxTVEVOQ0lMX1ZBTFVFX01BU0s6Mjk2MyxTVEVOQ0lMX1dSSVRFTUFTSzoyOTY4LFNUUkVBTV9EUkFXOjM1MDQwLFNVQlBJWEVMX0JJVFM6MzQwOCxURVhUVVJFOjU4OTAsVEVYVFVSRTA6MzM5ODQsVEVYVFVSRTE6MzM5ODUsVEVYVFVSRTI6MzM5ODYsVEVYVFVSRTM6MzM5ODcsVEVYVFVSRTQ6MzM5ODgsVEVYVFVSRTU6MzM5ODksVEVYVFVSRTY6MzM5OTAsVEVYVFVSRTc6MzM5OTEsVEVYVFVSRTg6MzM5OTIsVEVYVFVSRTk6MzM5OTMsVEVYVFVSRTEwOjMzOTk0LFRFWFRVUkUxMTozMzk5NSxURVhUVVJFMTI6MzM5OTYsVEVYVFVSRTEzOjMzOTk3LFRFWFRVUkUxNDozMzk5OCxURVhUVVJFMTU6MzM5OTksVEVYVFVSRTE2OjM0ZTMsVEVYVFVSRTE3OjM0MDAxLFRFWFRVUkUxODozNDAwMixURVhUVVJFMTk6MzQwMDMsVEVYVFVSRTIwOjM0MDA0LFRFWFRVUkUyMTozNDAwNSxURVhUVVJFMjI6MzQwMDYsVEVYVFVSRTIzOjM0MDA3LFRFWFRVUkUyNDozNDAwOCxURVhUVVJFMjU6MzQwMDksVEVYVFVSRTI2OjM0MDEwLFRFWFRVUkUyNzozNDAxMSxURVhUVVJFMjg6MzQwMTIsVEVYVFVSRTI5OjM0MDEzLFRFWFRVUkUzMDozNDAxNCxURVhUVVJFMzE6MzQwMTUsVEVYVFVSRV8yRDozNTUzLFRFWFRVUkVfQklORElOR18yRDozMjg3MyxURVhUVVJFX0JJTkRJTkdfQ1VCRV9NQVA6MzQwNjgsVEVYVFVSRV9DVUJFX01BUDozNDA2NyxURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1g6MzQwNzAsVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZOjM0MDcyLFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWjozNDA3NCxURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1g6MzQwNjksVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZOjM0MDcxLFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWjozNDA3MyxURVhUVVJFX01BR19GSUxURVI6MTAyNDAsVEVYVFVSRV9NSU5fRklMVEVSOjEwMjQxLFRFWFRVUkVfV1JBUF9TOjEwMjQyLFRFWFRVUkVfV1JBUF9UOjEwMjQzLFRSSUFOR0xFUzo0LFRSSUFOR0xFX0ZBTjo2LFRSSUFOR0xFX1NUUklQOjUsVU5QQUNLX0FMSUdOTUVOVDozMzE3LFVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0w6Mzc0NDMsVU5QQUNLX0ZMSVBfWV9XRUJHTDozNzQ0MCxVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0w6Mzc0NDEsVU5TSUdORURfQllURTo1MTIxLFVOU0lHTkVEX0lOVDo1MTI1LFVOU0lHTkVEX1NIT1JUOjUxMjMsVU5TSUdORURfU0hPUlRfNF80XzRfNDozMjgxOSxVTlNJR05FRF9TSE9SVF81XzVfNV8xOjMyODIwLFVOU0lHTkVEX1NIT1JUXzVfNl81OjMzNjM1LFZBTElEQVRFX1NUQVRVUzozNTcxNSxWRU5ET1I6NzkzNixWRVJTSU9OOjc5MzgsVkVSVEVYX0FUVFJJQl9BUlJBWV9CVUZGRVJfQklORElORzozNDk3NSxWRVJURVhfQVRUUklCX0FSUkFZX0VOQUJMRUQ6MzQzMzgsVkVSVEVYX0FUVFJJQl9BUlJBWV9OT1JNQUxJWkVEOjM0OTIyLFZFUlRFWF9BVFRSSUJfQVJSQVlfUE9JTlRFUjozNDM3MyxWRVJURVhfQVRUUklCX0FSUkFZX1NJWkU6MzQzMzksVkVSVEVYX0FUVFJJQl9BUlJBWV9TVFJJREU6MzQzNDAsVkVSVEVYX0FUVFJJQl9BUlJBWV9UWVBFOjM0MzQxLFZFUlRFWF9TSEFERVI6MzU2MzMsVklFV1BPUlQ6Mjk3OCxaRVJPOjAsUjg6MzMzMjF9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9ZnVuY3Rpb24oZ2wsc2hhZGVyUHJvZ3JhbSxuYW1lKXtyZXR1cm4gdm9pZCAwPT09c2hhZGVyUHJvZ3JhbS5jYWNoZUF0dHJpYkxvYyYmKHNoYWRlclByb2dyYW0uY2FjaGVBdHRyaWJMb2M9e30pLHZvaWQgMD09PXNoYWRlclByb2dyYW0uY2FjaGVBdHRyaWJMb2NbbmFtZV0mJihzaGFkZXJQcm9ncmFtLmNhY2hlQXR0cmliTG9jW25hbWVdPWdsLmdldEF0dHJpYkxvY2F0aW9uKHNoYWRlclByb2dyYW0sbmFtZSkpLHNoYWRlclByb2dyYW0uY2FjaGVBdHRyaWJMb2NbbmFtZV19fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaXNQb3dlck9mVHdvKHgpe3JldHVybiAwIT09eCYmISh4JngtMSl9ZnVuY3Rpb24gaXNTb3VyY2VQb3dlck9mVHdvKG9iail7dmFyIHc9b2JqLndpZHRofHxvYmoudmlkZW9XaWR0aCxoPW9iai5oZWlnaHR8fG9iai52aWRlb0hlaWdodDtyZXR1cm4hKCF3fHwhaCkmJihpc1Bvd2VyT2ZUd28odykmJmlzUG93ZXJPZlR3byhoKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX1dlYmdsTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oOCksZ2w9KF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYmdsTnVtYmVyKSx2b2lkIDApLEdMVGV4dHVyZT1mdW5jdGlvbigpe2Z1bmN0aW9uIEdMVGV4dHVyZShtU291cmNlKXt2YXIgaXNUZXh0dXJlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0sbVBhcmFtZXRlcnM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2lmKF9jbGFzc0NhbGxDaGVjayh0aGlzLEdMVGV4dHVyZSksZ2w9X0dMVG9vbDIuZGVmYXVsdC5nbCxpc1RleHR1cmUpdGhpcy5fdGV4dHVyZT1tU291cmNlO2Vsc2V7dGhpcy5fbVNvdXJjZT1tU291cmNlLHRoaXMuX3RleHR1cmU9Z2wuY3JlYXRlVGV4dHVyZSgpLHRoaXMuX2lzVmlkZW89XCJWSURFT1wiPT09bVNvdXJjZS50YWdOYW1lLHRoaXMuX3ByZW11bHRpcGx5QWxwaGE9ITAsdGhpcy5fbWFnRmlsdGVyPW1QYXJhbWV0ZXJzLm1hZ0ZpbHRlcnx8Z2wuTElORUFSLHRoaXMuX21pbkZpbHRlcj1tUGFyYW1ldGVycy5taW5GaWx0ZXJ8fGdsLk5FQVJFU1RfTUlQTUFQX0xJTkVBUix0aGlzLl93cmFwUz1tUGFyYW1ldGVycy53cmFwU3x8Z2wuTUlSUk9SRURfUkVQRUFULHRoaXMuX3dyYXBUPW1QYXJhbWV0ZXJzLndyYXBUfHxnbC5NSVJST1JFRF9SRVBFQVQ7bVNvdXJjZS53aWR0aHx8bVNvdXJjZS52aWRlb1dpZHRoP2lzU291cmNlUG93ZXJPZlR3byhtU291cmNlKXx8KHRoaXMuX3dyYXBTPXRoaXMuX3dyYXBUPWdsLkNMQU1QX1RPX0VER0UsdGhpcy5fbWluRmlsdGVyPT09Z2wuTkVBUkVTVF9NSVBNQVBfTElORUFSJiYodGhpcy5fbWluRmlsdGVyPWdsLkxJTkVBUikpOih0aGlzLl93cmFwUz10aGlzLl93cmFwVD1nbC5DTEFNUF9UT19FREdFLHRoaXMuX21pbkZpbHRlcj09PWdsLk5FQVJFU1RfTUlQTUFQX0xJTkVBUiYmKHRoaXMuX21pbkZpbHRlcj1nbC5MSU5FQVIpKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsITApLG1Tb3VyY2UuZXhwb3N1cmU/Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELDAsZ2wuUkdCQSxtU291cmNlLnNoYXBlWzBdLG1Tb3VyY2Uuc2hhcGVbMV0sMCxnbC5SR0JBLGdsLkZMT0FULG1Tb3VyY2UuZGF0YSk6Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELDAsZ2wuUkdCQSxnbC5SR0JBLGdsLlVOU0lHTkVEX0JZVEUsbVNvdXJjZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLl9tYWdGaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fbWluRmlsdGVyKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fd3JhcFMpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX1dSQVBfVCx0aGlzLl93cmFwVCk7dmFyIGV4dD1fR0xUb29sMi5kZWZhdWx0LmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKTtpZihleHQpe3ZhciBtYXg9Z2wuZ2V0UGFyYW1ldGVyKGV4dC5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpO2dsLnRleFBhcmFtZXRlcmYoZ2wuVEVYVFVSRV8yRCxleHQuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsbWF4KX10aGlzLl9jYW5HZW5lcmF0ZU1pcG1hcCgpJiZnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfX1yZXR1cm4gX2NyZWF0ZUNsYXNzKEdMVGV4dHVyZSxbe2tleTpcImdlbmVyYXRlTWlwbWFwXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jYW5HZW5lcmF0ZU1pcG1hcCgpJiYoZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpKX19LHtrZXk6XCJ1cGRhdGVUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24obVNvdXJjZSl7bVNvdXJjZSYmKHRoaXMuX21Tb3VyY2U9bVNvdXJjZSksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCEwKSxnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsMCxnbC5SR0JBLGdsLlJHQkEsZ2wuVU5TSUdORURfQllURSx0aGlzLl9tU291cmNlKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuX21hZ0ZpbHRlciksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLl9taW5GaWx0ZXIpLHRoaXMuX2NhbkdlbmVyYXRlTWlwbWFwKCkmJmdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9fSx7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKGluZGV4KXt2b2lkIDA9PT1pbmRleCYmKGluZGV4PTApLF9HTFRvb2wyLmRlZmF1bHQuc2hhZGVyJiYoZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCtpbmRleCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSx0aGlzLl9iaW5kSW5kZXg9aW5kZXgpfX0se2tleTpcIl9jYW5HZW5lcmF0ZU1pcG1hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pbkZpbHRlcj09PWdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVHx8dGhpcy5fbWluRmlsdGVyPT09Z2wuTkVBUkVTVF9NSVBNQVBfTElORUFSfHx0aGlzLl9taW5GaWx0ZXI9PT1nbC5MSU5FQVJfTUlQTUFQX0xJTkVBUnx8dGhpcy5fbWluRmlsdGVyPT09Z2wuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVH19LHtrZXk6XCJtaW5GaWx0ZXJcIixzZXQ6ZnVuY3Rpb24obVZhbHVlKXtpZihtVmFsdWUhPT1nbC5MSU5FQVImJm1WYWx1ZSE9PWdsLk5FQVJFU1QmJm1WYWx1ZSE9PWdsLk5FQVJFU1RfTUlQTUFQX0xJTkVBUiYmbVZhbHVlIT09Z2wuTkVBUkVTVF9NSVBNQVBfTElORUFSJiZtVmFsdWUhPT1nbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiYmbVZhbHVlIT09Z2wuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVClyZXR1cm4gdGhpczt0aGlzLl9taW5GaWx0ZXI9bVZhbHVlLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLl9taW5GaWx0ZXIpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5GaWx0ZXJ9fSx7a2V5OlwibWFnRmlsdGVyXCIsc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7aWYobVZhbHVlIT09Z2wuTElORUFSJiZtVmFsdWUhPT1nbC5ORUFSRVNUKXJldHVybiB0aGlzO3RoaXMuX21hZ0ZpbHRlcj1tVmFsdWUsZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuX21hZ0ZpbHRlciksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hZ0ZpbHRlcn19LHtrZXk6XCJ3cmFwU1wiLHNldDpmdW5jdGlvbihtVmFsdWUpe2lmKG1WYWx1ZSE9PWdsLkNMQU1QX1RPX0VER0UmJm1WYWx1ZSE9PWdsLlJFUEVBVCYmbVZhbHVlIT09Z2wuTUlSUk9SRURfUkVQRUFUKXJldHVybiB0aGlzO3RoaXMuX3dyYXBTPW1WYWx1ZSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX1dSQVBfUyx0aGlzLl93cmFwUyksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBTfX0se2tleTpcIndyYXBUXCIsc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7aWYobVZhbHVlIT09Z2wuQ0xBTVBfVE9fRURHRSYmbVZhbHVlIT09Z2wuUkVQRUFUJiZtVmFsdWUhPT1nbC5NSVJST1JFRF9SRVBFQVQpcmV0dXJuIHRoaXM7dGhpcy5fd3JhcFQ9bVZhbHVlLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX3dyYXBUKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JhcFR9fSx7a2V5OlwicHJlbXVsdGlwbHlBbHBoYVwiLHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3ByZW11bHRpcGx5QWxwaGE9bVZhbHVlLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksY29uc29sZS5sb2coXCJwcmVtdWx0aXBseUFscGhhOlwiLG1WYWx1ZSksZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLHRoaXMuX3ByZW11bHRpcGx5QWxwaGEpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmVtdWx0aXBseUFscGhhfX0se2tleTpcInRleHR1cmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX19XSksR0xUZXh0dXJlfSgpLF93aGl0ZVRleHR1cmU9dm9pZCAwLF9ncmV5VGV4dHVyZT12b2lkIDAsX2JsYWNrVGV4dHVyZT12b2lkIDA7R0xUZXh0dXJlLndoaXRlVGV4dHVyZT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PV93aGl0ZVRleHR1cmUpe3ZhciBjYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtjYW52YXMud2lkdGg9Y2FudmFzLmhlaWdodD00O3ZhciBjdHg9Y2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtjdHguZmlsbFN0eWxlPVwiI2ZmZlwiLGN0eC5maWxsUmVjdCgwLDAsNCw0KSxfd2hpdGVUZXh0dXJlPW5ldyBHTFRleHR1cmUoY2FudmFzKX1yZXR1cm4gX3doaXRlVGV4dHVyZX0sR0xUZXh0dXJlLmdyZXlUZXh0dXJlPWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09X2dyZXlUZXh0dXJlKXt2YXIgY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7Y2FudmFzLndpZHRoPWNhbnZhcy5oZWlnaHQ9NDt2YXIgY3R4PWNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7Y3R4LmZpbGxTdHlsZT1cInJnYigxMjcsIDEyNywgMTI3KVwiLGN0eC5maWxsUmVjdCgwLDAsNCw0KSxfZ3JleVRleHR1cmU9bmV3IEdMVGV4dHVyZShjYW52YXMpfXJldHVybiBfZ3JleVRleHR1cmV9LEdMVGV4dHVyZS5ibGFja1RleHR1cmU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1fYmxhY2tUZXh0dXJlKXt2YXIgY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7Y2FudmFzLndpZHRoPWNhbnZhcy5oZWlnaHQ9NDt2YXIgY3R4PWNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7Y3R4LmZpbGxTdHlsZT1cInJnYigxMjcsIDEyNywgMTI3KVwiLGN0eC5maWxsUmVjdCgwLDAsNCw0KSxfYmxhY2tUZXh0dXJlPW5ldyBHTFRleHR1cmUoY2FudmFzKX1yZXR1cm4gX2JsYWNrVGV4dHVyZX0sZXhwb3J0cy5kZWZhdWx0PUdMVGV4dHVyZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGlzUG93ZXJPZlR3byh4KXtyZXR1cm4gMCE9PXgmJiEoeCZ4LTEpfWZ1bmN0aW9uIGdldFNvdXJjZVR5cGUobVNvdXJjZSl7dmFyIHR5cGU9X0dMVG9vbDIuZGVmYXVsdC5VTlNJR05FRF9CWVRFO3JldHVybiBtU291cmNlIGluc3RhbmNlb2YgQXJyYXk/dHlwZT1fR0xUb29sMi5kZWZhdWx0LlVOU0lHTkVEX0JZVEU6bVNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/dHlwZT1fR0xUb29sMi5kZWZhdWx0LlVOU0lHTkVEX0JZVEU6bVNvdXJjZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90eXBlPV9HTFRvb2wyLmRlZmF1bHQuRkxPQVQ6bVNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/dHlwZT1cImltYWdlXCI6bVNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50P3R5cGU9XCJjYW52YXNcIjptU291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCYmKHR5cGU9XCJ2aWRlb1wiKSx0eXBlfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXRUZXh0dXJlUGFyYW1ldGVycz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KSxfZ2V0VGV4dHVyZVBhcmFtZXRlcnMyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFRleHR1cmVQYXJhbWV0ZXJzKSxfV2ViZ2xOdW1iZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxfV2ViZ2xOdW1iZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYmdsTnVtYmVyKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfc2NoZWR1bGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9zY2hlZHVsaW5nMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zY2hlZHVsaW5nKSxnbD12b2lkIDAsR0xUZXh0dXJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gR0xUZXh0dXJlKG1Tb3VyY2Upe3ZhciBtUGFyYW09YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LF90aGlzPXRoaXMsbVdpZHRoPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG1IZWlnaHQ9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsR0xUZXh0dXJlKSxnbD1fR0xUb29sMi5kZWZhdWx0LmdsLHRoaXMuX3NvdXJjZT1tU291cmNlLHRoaXMuX2dldERpbWVuc2lvbihtU291cmNlLG1XaWR0aCxtSGVpZ2h0KSx0aGlzLl9zb3VyY2VUeXBlPW1QYXJhbS50eXBlfHxnZXRTb3VyY2VUeXBlKG1Tb3VyY2UpLHRoaXMuX2NoZWNrU291cmNlKCksdGhpcy5fdGV4ZWxUeXBlPXRoaXMuX2dldFRleGVsVHlwZSgpLHRoaXMuX2lzVGV4dHVyZVJlYWR5PSEwLHRoaXMuX3BhcmFtcz0oMCxfZ2V0VGV4dHVyZVBhcmFtZXRlcnMyLmRlZmF1bHQpKG1QYXJhbSxtU291cmNlLHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCksdGhpcy5fY2hlY2tNaXBtYXAoKSx0aGlzLl9jaGVja1dyYXBwaW5nKCksdGhpcy5fdGV4dHVyZT1nbC5jcmVhdGVUZXh0dXJlKCksXCJ2aWRlb1wiPT09dGhpcy5fc291cmNlVHlwZT8odGhpcy5faXNUZXh0dXJlUmVhZHk9ITEsX3NjaGVkdWxpbmcyLmRlZmF1bHQuYWRkRUYoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX2xvb3AoKX0pKTp0aGlzLl91cGxvYWRUZXh0dXJlKCl9cmV0dXJuIF9jcmVhdGVDbGFzcyhHTFRleHR1cmUsW3trZXk6XCJfbG9vcFwiLHZhbHVlOmZ1bmN0aW9uKCl7ND09dGhpcy5fc291cmNlLnJlYWR5U3RhdGUmJih0aGlzLl9pc1RleHR1cmVSZWFkeT0hMCx0aGlzLl91cGxvYWRUZXh0dXJlKCkpfX0se2tleTpcIl91cGxvYWRUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24oKXtnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsITApLHRoaXMuX2lzU291cmNlSHRtbEVsZW1lbnQoKT9nbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsMCx0aGlzLl9wYXJhbXMuaW50ZXJuYWxGb3JtYXQsdGhpcy5fcGFyYW1zLmZvcm1hdCx0aGlzLl90ZXhlbFR5cGUsdGhpcy5fc291cmNlKTpnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsMCx0aGlzLl9wYXJhbXMuaW50ZXJuYWxGb3JtYXQsdGhpcy5fd2lkdGgsdGhpcy5faGVpZ2h0LDAsdGhpcy5fcGFyYW1zLmZvcm1hdCx0aGlzLl90ZXhlbFR5cGUsdGhpcy5fc291cmNlKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuX3BhcmFtcy5tYWdGaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fcGFyYW1zLm1pbkZpbHRlciksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX3BhcmFtcy53cmFwUyksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX3BhcmFtcy53cmFwVCksZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLHRoaXMuX3ByZW11bHRpcGx5QWxwaGEpLHRoaXMuX2dlbmVyYXRlTWlwbWFwJiZnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfX0se2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbihpbmRleCl7dm9pZCAwPT09aW5kZXgmJihpbmRleD0wKSxfR0xUb29sMi5kZWZhdWx0LnNoYWRlciYmKGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAraW5kZXgpLHRoaXMuX2lzVGV4dHVyZVJlYWR5P2dsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSk6Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxHTFRleHR1cmUuYmxhY2tUZXh0dXJlKCkudGV4dHVyZSksdGhpcy5fYmluZEluZGV4PWluZGV4KX19LHtrZXk6XCJ1cGRhdGVUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24obVNvdXJjZSl7dGhpcy5fc291cmNlPW1Tb3VyY2UsdGhpcy5fY2hlY2tTb3VyY2UoKSx0aGlzLl91cGxvYWRUZXh0dXJlKCl9fSx7a2V5OlwiZ2VuZXJhdGVNaXBtYXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2dlbmVyYXRlTWlwbWFwJiYoZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpKX19LHtrZXk6XCJzaG93UGFyYW1ldGVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCJTb3VyY2UgdHlwZSA6IFwiLF9XZWJnbE51bWJlcjIuZGVmYXVsdFt0aGlzLl9zb3VyY2VUeXBlXXx8dGhpcy5fc291cmNlVHlwZSksY29uc29sZS5sb2coXCJUZXhlbCB0eXBlOlwiLF9XZWJnbE51bWJlcjIuZGVmYXVsdFt0aGlzLnRleGVsVHlwZV0pLGNvbnNvbGUubG9nKFwiRGltZW5zaW9uIDpcIix0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQpO2Zvcih2YXIgcyBpbiB0aGlzLl9wYXJhbXMpY29uc29sZS5sb2cocyxfV2ViZ2xOdW1iZXIyLmRlZmF1bHRbdGhpcy5fcGFyYW1zW3NdXXx8dGhpcy5fcGFyYW1zW3NdKTtjb25zb2xlLmxvZyhcIk1pcG1hcHBpbmcgOlwiLHRoaXMuX2dlbmVyYXRlTWlwbWFwKX19LHtrZXk6XCJfZ2V0RGltZW5zaW9uXCIsdmFsdWU6ZnVuY3Rpb24obVNvdXJjZSxtV2lkdGgsbUhlaWdodCl7bVNvdXJjZT8odGhpcy5fd2lkdGg9bVNvdXJjZS53aWR0aHx8bVNvdXJjZS52aWRlb1dpZHRoLHRoaXMuX2hlaWdodD1tU291cmNlLmhlaWdodHx8bVNvdXJjZS52aWRlb1dpZHRoLHRoaXMuX3dpZHRoPXRoaXMuX3dpZHRofHxtV2lkdGgsdGhpcy5faGVpZ2h0PXRoaXMuX2hlaWdodHx8bUhlaWdodCx0aGlzLl93aWR0aCYmdGhpcy5faGVpZ2h0fHwodGhpcy5fd2lkdGg9dGhpcy5faGVpZ2h0PU1hdGguc3FydChtU291cmNlLmxlbmd0aC80KSkpOih0aGlzLl93aWR0aD1tV2lkdGgsdGhpcy5faGVpZ2h0PW1IZWlnaHQpfX0se2tleTpcIl9jaGVja1NvdXJjZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fc291cmNlJiYodGhpcy5fc291cmNlVHlwZT09PV9HTFRvb2wyLmRlZmF1bHQuVU5TSUdORURfQllURT90aGlzLl9zb3VyY2UgaW5zdGFuY2VvZiBVaW50OEFycmF5fHwodGhpcy5fc291cmNlPW5ldyBVaW50OEFycmF5KHRoaXMuX3NvdXJjZSkpOnRoaXMuX3NvdXJjZVR5cGU9PT1fR0xUb29sMi5kZWZhdWx0LkZMT0FUJiYodGhpcy5fc291cmNlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHwodGhpcy5fc291cmNlPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5fc291cmNlKSkpKX19LHtrZXk6XCJfZ2V0VGV4ZWxUeXBlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTb3VyY2VIdG1sRWxlbWVudCgpP19HTFRvb2wyLmRlZmF1bHQuVU5TSUdORURfQllURTpfR0xUb29sMi5kZWZhdWx0W19XZWJnbE51bWJlcjIuZGVmYXVsdFt0aGlzLl9zb3VyY2VUeXBlXV19fSx7a2V5OlwiX2NoZWNrTWlwbWFwXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9nZW5lcmF0ZU1pcG1hcD10aGlzLl9wYXJhbXMubWlwbWFwLGlzUG93ZXJPZlR3byh0aGlzLl93aWR0aCkmJmlzUG93ZXJPZlR3byh0aGlzLl9oZWlnaHQpfHwodGhpcy5fZ2VuZXJhdGVNaXBtYXA9ITEpLC0xPT1fV2ViZ2xOdW1iZXIyLmRlZmF1bHRbdGhpcy5fcGFyYW1zLm1pbkZpbHRlcl0uaW5kZXhPZihcIk1JUE1BUFwiKSYmKHRoaXMuX2dlbmVyYXRlTWlwbWFwPSExKX19LHtrZXk6XCJfY2hlY2tXcmFwcGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZ2VuZXJhdGVNaXBtYXB8fCh0aGlzLl9wYXJhbXMud3JhcFM9X0dMVG9vbDIuZGVmYXVsdC5DTEFNUF9UT19FREdFLHRoaXMuX3BhcmFtcy53cmFwVD1fR0xUb29sMi5kZWZhdWx0LkNMQU1QX1RPX0VER0UpfX0se2tleTpcIl9pc1NvdXJjZUh0bWxFbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cImltYWdlXCI9PT10aGlzLl9zb3VyY2VUeXBlfHxcInZpZGVvXCI9PT10aGlzLl9zb3VyY2VUeXBlfHxcImNhbnZhc1wiPT09dGhpcy5fc291cmNlVHlwZX19LHtrZXk6XCJtaW5GaWx0ZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyYW1zLm1pbkZpbHRlcn0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7Y29uc29sZS5sb2coXCJzZXQgbWluIGZpbHRlciA6IFwiLF9XZWJnbE51bWJlcjIuZGVmYXVsdFttVmFsdWVdKSx0aGlzLl9wYXJhbXMubWluRmlsdGVyPW1WYWx1ZSx0aGlzLl9jaGVja01pcG1hcCgpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLl9wYXJhbXMubWluRmlsdGVyKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpLHRoaXMuZ2VuZXJhdGVNaXBtYXAoKX19LHtrZXk6XCJtYWdGaWx0ZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyYW1zLm1pbkZpbHRlcn0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7Y29uc29sZS5sb2coXCJzZXQgbWFnIGZpbHRlciA6IFwiLF9XZWJnbE51bWJlcjIuZGVmYXVsdFttVmFsdWVdKSx0aGlzLl9wYXJhbXMubWFnRmlsdGVyPW1WYWx1ZSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5fcGFyYW1zLm1hZ0ZpbHRlciksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKX19LHtrZXk6XCJ3cmFwU1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJhbXMud3JhcFN9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3BhcmFtcy53cmFwUz1tVmFsdWUsdGhpcy5fY2hlY2tXcmFwcGluZygpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX3BhcmFtcy53cmFwUyksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKX19LHtrZXk6XCJ3cmFwVFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJhbXMud3JhcFR9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3BhcmFtcy53cmFwVD1tVmFsdWUsdGhpcy5fY2hlY2tXcmFwcGluZygpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX3BhcmFtcy53cmFwVCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKX19LHtrZXk6XCJ0ZXhlbFR5cGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4ZWxUeXBlfX0se2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRofX0se2tleTpcImhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9fSx7a2V5OlwidGV4dHVyZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlfX0se2tleTpcImlzVGV4dHVyZVJlYWR5XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzVGV4dHVyZVJlYWR5fX1dKSxHTFRleHR1cmV9KCksX3doaXRlVGV4dHVyZT12b2lkIDAsX2dyZXlUZXh0dXJlPXZvaWQgMCxfYmxhY2tUZXh0dXJlPXZvaWQgMDtHTFRleHR1cmUud2hpdGVUZXh0dXJlPWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09X3doaXRlVGV4dHVyZSl7dmFyIGNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2NhbnZhcy53aWR0aD1jYW52YXMuaGVpZ2h0PTI7dmFyIGN0eD1jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2N0eC5maWxsU3R5bGU9XCIjZmZmXCIsY3R4LmZpbGxSZWN0KDAsMCwyLDIpLF93aGl0ZVRleHR1cmU9bmV3IEdMVGV4dHVyZShjYW52YXMpfXJldHVybiBfd2hpdGVUZXh0dXJlfSxHTFRleHR1cmUuZ3JleVRleHR1cmU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1fZ3JleVRleHR1cmUpe3ZhciBjYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtjYW52YXMud2lkdGg9Y2FudmFzLmhlaWdodD0yO3ZhciBjdHg9Y2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtjdHguZmlsbFN0eWxlPVwicmdiKDEyNywgMTI3LCAxMjcpXCIsY3R4LmZpbGxSZWN0KDAsMCwyLDIpLF9ncmV5VGV4dHVyZT1uZXcgR0xUZXh0dXJlKGNhbnZhcyl9cmV0dXJuIF9ncmV5VGV4dHVyZX0sR0xUZXh0dXJlLmJsYWNrVGV4dHVyZT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PV9ibGFja1RleHR1cmUpe3ZhciBjYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtjYW52YXMud2lkdGg9Y2FudmFzLmhlaWdodD0yO3ZhciBjdHg9Y2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtjdHguZmlsbFN0eWxlPVwicmdiKDAsIDAsIDApXCIsY3R4LmZpbGxSZWN0KDAsMCwyLDIpLF9ibGFja1RleHR1cmU9bmV3IEdMVGV4dHVyZShjYW52YXMpfXJldHVybiBfYmxhY2tUZXh0dXJlfSxleHBvcnRzLmRlZmF1bHQ9R0xUZXh0dXJlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX3BhcnNlRGRzPV9fd2VicGFja19yZXF1aXJlX18oNTApLF9wYXJzZURkczI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFyc2VEZHMpLGdsPXZvaWQgMCxHTEN1YmVUZXh0dXJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gR0xDdWJlVGV4dHVyZShtU291cmNlKXt2YXIgbVBhcmFtZXRlcnM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGlzQ3ViZVRleHR1cmU9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtpZihfY2xhc3NDYWxsQ2hlY2sodGhpcyxHTEN1YmVUZXh0dXJlKSxnbD1fR0xUb29sMi5kZWZhdWx0LmdsLGlzQ3ViZVRleHR1cmUpcmV0dXJuIHZvaWQodGhpcy50ZXh0dXJlPW1Tb3VyY2UpO3ZhciBoYXNNaXBtYXBzPW1Tb3VyY2UubGVuZ3RoPjY7bVNvdXJjZVswXS5taXBtYXBDb3VudCYmKGhhc01pcG1hcHM9bVNvdXJjZVswXS5taXBtYXBDb3VudD4xKSx0aGlzLnRleHR1cmU9Z2wuY3JlYXRlVGV4dHVyZSgpLHRoaXMubWFnRmlsdGVyPW1QYXJhbWV0ZXJzLm1hZ0ZpbHRlcnx8Z2wuTElORUFSLHRoaXMubWluRmlsdGVyPW1QYXJhbWV0ZXJzLm1pbkZpbHRlcnx8Z2wuTElORUFSX01JUE1BUF9MSU5FQVIsdGhpcy53cmFwUz1tUGFyYW1ldGVycy53cmFwU3x8Z2wuQ0xBTVBfVE9fRURHRSx0aGlzLndyYXBUPW1QYXJhbWV0ZXJzLndyYXBUfHxnbC5DTEFNUF9UT19FREdFLGhhc01pcG1hcHN8fHRoaXMubWluRmlsdGVyIT1nbC5MSU5FQVJfTUlQTUFQX0xJTkVBUnx8KHRoaXMubWluRmlsdGVyPWdsLkxJTkVBUiksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCx0aGlzLnRleHR1cmUpO3ZhciB0YXJnZXRzPVtnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1gsZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YLGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWSxnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1ksZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aLGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWl0sbnVtTGV2ZWxzPTEsaW5kZXg9MDtpZihudW1MZXZlbHM9bVNvdXJjZS5sZW5ndGgvNix0aGlzLm51bUxldmVscz1udW1MZXZlbHMsaGFzTWlwbWFwcylmb3IodmFyIGo9MDtqPDY7aisrKWZvcih2YXIgaT0wO2k8bnVtTGV2ZWxzO2krKylnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCExKSxpbmRleD1qKm51bUxldmVscytpLG1Tb3VyY2VbaW5kZXhdLnNoYXBlP2dsLnRleEltYWdlMkQodGFyZ2V0c1tqXSxpLGdsLlJHQkEsbVNvdXJjZVtpbmRleF0uc2hhcGVbMF0sbVNvdXJjZVtpbmRleF0uc2hhcGVbMV0sMCxnbC5SR0JBLGdsLkZMT0FULG1Tb3VyY2VbaW5kZXhdLmRhdGEpOmdsLnRleEltYWdlMkQodGFyZ2V0c1tqXSxpLGdsLlJHQkEsZ2wuUkdCQSxnbC5VTlNJR05FRF9CWVRFLG1Tb3VyY2VbaW5kZXhdKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy53cmFwUyksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLGdsLlRFWFRVUkVfV1JBUF9ULHRoaXMud3JhcFQpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5tYWdGaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5taW5GaWx0ZXIpO2Vsc2V7Zm9yKHZhciBfaW5kZXg9MCxfaj0wO19qPDY7X2orKylfaW5kZXg9X2oqbnVtTGV2ZWxzLGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsITEpLG1Tb3VyY2VbX2luZGV4XS5zaGFwZT9nbC50ZXhJbWFnZTJEKHRhcmdldHNbX2pdLDAsZ2wuUkdCQSxtU291cmNlW19pbmRleF0uc2hhcGVbMF0sbVNvdXJjZVtfaW5kZXhdLnNoYXBlWzFdLDAsZ2wuUkdCQSxnbC5GTE9BVCxtU291cmNlW19pbmRleF0uZGF0YSk6Z2wudGV4SW1hZ2UyRCh0YXJnZXRzW19qXSwwLGdsLlJHQkEsZ2wuUkdCQSxnbC5VTlNJR05FRF9CWVRFLG1Tb3VyY2VbX2luZGV4XSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLGdsLlRFWFRVUkVfV1JBUF9TLHRoaXMud3JhcFMpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX1dSQVBfVCx0aGlzLndyYXBUKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMubWFnRmlsdGVyKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMubWluRmlsdGVyKTtnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFX0NVQkVfTUFQKX1nbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpfXJldHVybiBfY3JlYXRlQ2xhc3MoR0xDdWJlVGV4dHVyZSxbe2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBpbmRleD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MDtfR0xUb29sMi5kZWZhdWx0LnNoYWRlciYmKGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAraW5kZXgpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsdGhpcy50ZXh0dXJlKSxnbC51bmlmb3JtMWkoX0dMVG9vbDIuZGVmYXVsdC5zaGFkZXIudW5pZm9ybVRleHR1cmVzW2luZGV4XSxpbmRleCksdGhpcy5fYmluZEluZGV4PWluZGV4KX19LHtrZXk6XCJ1bmJpbmRcIix2YWx1ZTpmdW5jdGlvbigpe2dsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCl9fV0pLEdMQ3ViZVRleHR1cmV9KCk7R0xDdWJlVGV4dHVyZS5wYXJzZUREUz1mdW5jdGlvbihtQXJyYXlCdWZmZXIpe3ZhciBkZHNJbmZvcz0oMCxfcGFyc2VEZHMyLmRlZmF1bHQpKG1BcnJheUJ1ZmZlciksZmxhZ3M9ZGRzSW5mb3MuZmxhZ3MsaGVhZGVyPW5ldyBJbnQzMkFycmF5KG1BcnJheUJ1ZmZlciwwLDMxKSxtaXBtYXBDb3VudD0xOzEzMTA3MiZmbGFncyYmKG1pcG1hcENvdW50PU1hdGgubWF4KDEsaGVhZGVyWzddKSk7dmFyIHNvdXJjZXM9ZGRzSW5mb3MuaW1hZ2VzLm1hcChmdW5jdGlvbihpbWcpe3JldHVybntkYXRhOm5ldyBGbG9hdDMyQXJyYXkobUFycmF5QnVmZmVyLnNsaWNlKGltZy5vZmZzZXQsaW1nLm9mZnNldCtpbWcubGVuZ3RoKSksc2hhcGU6aW1nLnNoYXBlLG1pcG1hcENvdW50Om1pcG1hcENvdW50fX0pO3JldHVybiBuZXcgR0xDdWJlVGV4dHVyZShzb3VyY2VzKX0sZXhwb3J0cy5kZWZhdWx0PUdMQ3ViZVRleHR1cmV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfR0xUZXh0dXJlPV9fd2VicGFja19yZXF1aXJlX18oMjYpLF9HTFRleHR1cmUyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVGV4dHVyZSksX1dlYmdsTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oOCksZ2w9KF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYmdsTnVtYmVyKSx2b2lkIDApLHdlYmdsRGVwdGhUZXh0dXJlPXZvaWQgMCxoYXNDaGVja2VkTXVsdGlSZW5kZXJTdXBwb3J0PSExLGV4dERyYXdCdWZmZXI9dm9pZCAwLGNoZWNrTXVsdGlSZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4hIV9HTFRvb2wyLmRlZmF1bHQud2ViZ2wyfHwhIShleHREcmF3QnVmZmVyPV9HTFRvb2wyLmRlZmF1bHQuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfZHJhd19idWZmZXJzXCIpKX0sRnJhbWVCdWZmZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBGcmFtZUJ1ZmZlcihtV2lkdGgsbUhlaWdodCl7dmFyIG1QYXJhbWV0ZXJzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxtTnVtVGFyZ2V0cz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxGcmFtZUJ1ZmZlciksZ2w9X0dMVG9vbDIuZGVmYXVsdC5nbCx3ZWJnbERlcHRoVGV4dHVyZT1fR0xUb29sMi5kZWZhdWx0LmNoZWNrRXh0ZW5zaW9uKFwiV0VCR0xfZGVwdGhfdGV4dHVyZVwiKSx0aGlzLndpZHRoPW1XaWR0aCx0aGlzLmhlaWdodD1tSGVpZ2h0LHRoaXMuX251bVRhcmdldHM9bU51bVRhcmdldHMsdGhpcy5fbXVsdGlwbGVUYXJnZXRzPW1OdW1UYXJnZXRzPjEsdGhpcy5fcGFyYW1ldGVycz1tUGFyYW1ldGVycyxoYXNDaGVja2VkTXVsdGlSZW5kZXJTdXBwb3J0fHxjaGVja011bHRpUmVuZGVyKCksdGhpcy5fbXVsdGlwbGVUYXJnZXRzJiZ0aGlzLl9jaGVja01heE51bVJlbmRlclRhcmdldCgpLHRoaXMuX2luaXQoKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKEZyYW1lQnVmZmVyLFt7a2V5OlwiX2luaXRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuX2luaXRUZXh0dXJlcygpLHRoaXMuZnJhbWVCdWZmZXI9Z2wuY3JlYXRlRnJhbWVidWZmZXIoKSxnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsdGhpcy5mcmFtZUJ1ZmZlciksX0dMVG9vbDIuZGVmYXVsdC53ZWJnbDIpe2Zvcih2YXIgYnVmZmVycz1bXSxpPTA7aTx0aGlzLl9udW1UYXJnZXRzO2krKylnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5EUkFXX0ZSQU1FQlVGRkVSLGdsLkNPTE9SX0FUVEFDSE1FTlQwK2ksZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlc1tpXS50ZXh0dXJlLDApLGJ1ZmZlcnMucHVzaChnbFtcIkNPTE9SX0FUVEFDSE1FTlRcIitpXSk7Z2wuZHJhd0J1ZmZlcnMoYnVmZmVycyksZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRFJBV19GUkFNRUJVRkZFUixnbC5ERVBUSF9BVFRBQ0hNRU5ULGdsLlRFWFRVUkVfMkQsdGhpcy5nbERlcHRoVGV4dHVyZS50ZXh0dXJlLDApfWVsc2V7Zm9yKHZhciBfaT0wO19pPHRoaXMuX251bVRhcmdldHM7X2krKylnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixnbC5DT0xPUl9BVFRBQ0hNRU5UMCtfaSxnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmVzW19pXS50ZXh0dXJlLDApO2lmKHRoaXMuX211bHRpcGxlVGFyZ2V0cyl7Zm9yKHZhciBkcmF3QnVmZmVycz1bXSxfaTI9MDtfaTI8dGhpcy5fbnVtVGFyZ2V0cztfaTIrKylkcmF3QnVmZmVycy5wdXNoKGV4dERyYXdCdWZmZXJbXCJDT0xPUl9BVFRBQ0hNRU5UXCIrX2kyK1wiX1dFQkdMXCJdKTtleHREcmF3QnVmZmVyLmRyYXdCdWZmZXJzV0VCR0woZHJhd0J1ZmZlcnMpfXdlYmdsRGVwdGhUZXh0dXJlJiZnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixnbC5ERVBUSF9BVFRBQ0hNRU5ULGdsLlRFWFRVUkVfMkQsdGhpcy5nbERlcHRoVGV4dHVyZS50ZXh0dXJlLDApfXZhciBGQk9zdGF0dXM9Z2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUik7RkJPc3RhdHVzIT1nbC5GUkFNRUJVRkZFUl9DT01QTEVURSYmKGNvbnNvbGUuZXJyb3IoXCJGQk9zdGF0dXNcIixGQk9zdGF0dXMpLGNvbnNvbGUuZXJyb3IoXCJHTF9GUkFNRUJVRkZFUl9DT01QTEVURSBmYWlsZWQsIENBTk5PVCB1c2UgRnJhbWVidWZmZXJcIikpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCksZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsbnVsbCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpLHRoaXMuY2xlYXIoKX19LHtrZXk6XCJfY2hlY2tNYXhOdW1SZW5kZXJUYXJnZXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBtYXhOdW1EcmF3QnVmZmVycz1fR0xUb29sMi5kZWZhdWx0LmdsLmdldFBhcmFtZXRlcihleHREcmF3QnVmZmVyLk1BWF9EUkFXX0JVRkZFUlNfV0VCR0wpO3RoaXMuX251bVRhcmdldHM+bWF4TnVtRHJhd0J1ZmZlcnMmJihjb25zb2xlLmVycm9yKFwiT3ZlciBtYXggbnVtYmVyIG9mIGRyYXcgYnVmZmVycyBzdXBwb3J0ZWQgOiBcIixtYXhOdW1EcmF3QnVmZmVycyksdGhpcy5fbnVtVGFyZ2V0cz1tYXhOdW1EcmF3QnVmZmVycyl9fSx7a2V5OlwiX2luaXRUZXh0dXJlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZXM9W107Zm9yKHZhciBpPTA7aTx0aGlzLl9udW1UYXJnZXRzO2krKyl7dmFyIGdsdD10aGlzLl9jcmVhdGVUZXh0dXJlKCk7dGhpcy5fdGV4dHVyZXMucHVzaChnbHQpfV9HTFRvb2wyLmRlZmF1bHQud2ViZ2wyP3RoaXMuZ2xEZXB0aFRleHR1cmU9dGhpcy5fY3JlYXRlVGV4dHVyZShnbC5ERVBUSF9DT01QT05FTlQxNixnbC5VTlNJR05FRF9TSE9SVCxnbC5ERVBUSF9DT01QT05FTlQsITApOnRoaXMuZ2xEZXB0aFRleHR1cmU9dGhpcy5fY3JlYXRlVGV4dHVyZShnbC5ERVBUSF9DT01QT05FTlQsZ2wuVU5TSUdORURfU0hPUlQsZ2wuREVQVEhfQ09NUE9ORU5ULHttaW5GaWx0ZXI6X0dMVG9vbDIuZGVmYXVsdC5MSU5FQVJ9KX19LHtrZXk6XCJfY3JlYXRlVGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKG1JbnRlcm5hbGZvcm1hdCxtVGV4ZWxUeXBlLG1Gb3JtYXQpe3ZhciBtUGFyYW1ldGVycz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30scGFyYW1ldGVycz1PYmplY3QuYXNzaWduKHt9LHRoaXMuX3BhcmFtZXRlcnMpO21Gb3JtYXR8fChtRm9ybWF0PW1JbnRlcm5hbGZvcm1hdCkscGFyYW1ldGVycy5pbnRlcm5hbEZvcm1hdD1tSW50ZXJuYWxmb3JtYXR8fGdsLlJHQkEscGFyYW1ldGVycy5mb3JtYXQ9bUZvcm1hdCxwYXJhbWV0ZXJzLnR5cGU9cGFyYW1ldGVycy50eXBlfHxtVGV4ZWxUeXBlfHxfR0xUb29sMi5kZWZhdWx0LlVOU0lHTkVEX0JZVEUsbVRleGVsVHlwZT09PWdsLlVOU0lHTkVEX1NIT1JUJiYocGFyYW1ldGVycy50eXBlPW1UZXhlbFR5cGUpO2Zvcih2YXIgcyBpbiBtUGFyYW1ldGVycylwYXJhbWV0ZXJzW3NdPW1QYXJhbWV0ZXJzW3NdO3JldHVybiBuZXcgX0dMVGV4dHVyZTIuZGVmYXVsdChudWxsLHBhcmFtZXRlcnMsdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9fSx7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKCl7KCEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0pJiZfR0xUb29sMi5kZWZhdWx0LnZpZXdwb3J0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSxnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsdGhpcy5mcmFtZUJ1ZmZlcil9fSx7a2V5OlwidW5iaW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXsoIShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXSkmJl9HTFRvb2wyLmRlZmF1bHQudmlld3BvcnQoMCwwLF9HTFRvb2wyLmRlZmF1bHQud2lkdGgsX0dMVG9vbDIuZGVmYXVsdC5oZWlnaHQpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUixudWxsKSx0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKHRleHR1cmUpe3RleHR1cmUuZ2VuZXJhdGVNaXBtYXAoKX0pfX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxnPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsYT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MDt0aGlzLmJpbmQoKSxfR0xUb29sMi5kZWZhdWx0LmNsZWFyKHIsZyxiLGEpLHRoaXMudW5iaW5kKCl9fSx7a2V5OlwiZ2V0VGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG1JbmRleD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MDtyZXR1cm4gdGhpcy5fdGV4dHVyZXNbbUluZGV4XX19LHtrZXk6XCJnZXREZXB0aFRleHR1cmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsRGVwdGhUZXh0dXJlfX0se2tleTpcInNob3dQYXJhbWV0ZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl90ZXh0dXJlc1swXS5zaG93UGFyYW1ldGVycygpfX0se2tleTpcInRleHR1cmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXNbMF19fSx7a2V5OlwiZGVwdGhUZXh0dXJlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2xEZXB0aFRleHR1cmV9fSx7a2V5OlwibWluRmlsdGVyXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzWzBdLm1pbkZpbHRlcn0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fdGV4dHVyZXMuZm9yRWFjaChmdW5jdGlvbih0ZXh0dXJlKXt0ZXh0dXJlLm1pbkZpbHRlcj1tVmFsdWV9KX19LHtrZXk6XCJtYWdGaWx0ZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXNbMF0ubWFnRmlsdGVyfSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKHRleHR1cmUpe3RleHR1cmUubWFnRmlsdGVyPW1WYWx1ZX0pfX0se2tleTpcIndyYXBTXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzWzBdLndyYXBTfSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKHRleHR1cmUpe3RleHR1cmUud3JhcFM9bVZhbHVlfSl9fSx7a2V5Olwid3JhcFRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXNbMF0ud3JhcFR9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3RleHR1cmVzLmZvckVhY2goZnVuY3Rpb24odGV4dHVyZSl7dGV4dHVyZS53cmFwVD1tVmFsdWV9KX19LHtrZXk6XCJudW1UYXJnZXRzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bVRhcmdldHN9fV0pLEZyYW1lQnVmZmVyfSgpO2V4cG9ydHMuZGVmYXVsdD1GcmFtZUJ1ZmZlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksc3VwcG9ydHNDdXN0b21FdmVudHM9ITA7dHJ5e2RvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7bnVsbH1jYXRjaChlKXtzdXBwb3J0c0N1c3RvbUV2ZW50cz0hMX12YXIgRXZlbnREaXNwYXRjaGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRXZlbnREaXNwYXRjaGVyKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRXZlbnREaXNwYXRjaGVyKSx0aGlzLl9ldmVudExpc3RlbmVycz17fX1yZXR1cm4gX2NyZWF0ZUNsYXNzKEV2ZW50RGlzcGF0Y2hlcixbe2tleTpcImFkZEV2ZW50TGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihhRXZlbnRUeXBlLGFGdW5jdGlvbil7cmV0dXJuIG51bGwhPT10aGlzLl9ldmVudExpc3RlbmVycyYmdm9pZCAwIT09dGhpcy5fZXZlbnRMaXN0ZW5lcnN8fCh0aGlzLl9ldmVudExpc3RlbmVycz17fSksdGhpcy5fZXZlbnRMaXN0ZW5lcnNbYUV2ZW50VHlwZV18fCh0aGlzLl9ldmVudExpc3RlbmVyc1thRXZlbnRUeXBlXT1bXSksdGhpcy5fZXZlbnRMaXN0ZW5lcnNbYUV2ZW50VHlwZV0ucHVzaChhRnVuY3Rpb24pLHRoaXN9fSx7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbihhRXZlbnRUeXBlLGFGdW5jdGlvbil7cmV0dXJuIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihhRXZlbnRUeXBlLGFGdW5jdGlvbil9fSx7a2V5OlwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKGFFdmVudFR5cGUsYUZ1bmN0aW9uKXtudWxsIT09dGhpcy5fZXZlbnRMaXN0ZW5lcnMmJnZvaWQgMCE9PXRoaXMuX2V2ZW50TGlzdGVuZXJzfHwodGhpcy5fZXZlbnRMaXN0ZW5lcnM9e30pO3ZhciBjdXJyZW50QXJyYXk9dGhpcy5fZXZlbnRMaXN0ZW5lcnNbYUV2ZW50VHlwZV07aWYodm9pZCAwPT09Y3VycmVudEFycmF5KXJldHVybiB0aGlzO2Zvcih2YXIgY3VycmVudEFycmF5TGVuZ3RoPWN1cnJlbnRBcnJheS5sZW5ndGgsaT0wO2k8Y3VycmVudEFycmF5TGVuZ3RoO2krKyljdXJyZW50QXJyYXlbaV09PT1hRnVuY3Rpb24mJihjdXJyZW50QXJyYXkuc3BsaWNlKGksMSksaS0tLGN1cnJlbnRBcnJheUxlbmd0aC0tKTtyZXR1cm4gdGhpc319LHtrZXk6XCJvZmZcIix2YWx1ZTpmdW5jdGlvbihhRXZlbnRUeXBlLGFGdW5jdGlvbil7cmV0dXJuIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhRXZlbnRUeXBlLGFGdW5jdGlvbil9fSx7a2V5OlwiZGlzcGF0Y2hFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKGFFdmVudCl7bnVsbCE9PXRoaXMuX2V2ZW50TGlzdGVuZXJzJiZ2b2lkIDAhPT10aGlzLl9ldmVudExpc3RlbmVyc3x8KHRoaXMuX2V2ZW50TGlzdGVuZXJzPXt9KTt2YXIgZXZlbnRUeXBlPWFFdmVudC50eXBlO3RyeXtudWxsPT09YUV2ZW50LnRhcmdldCYmKGFFdmVudC50YXJnZXQ9dGhpcyksYUV2ZW50LmN1cnJlbnRUYXJnZXQ9dGhpc31jYXRjaCh0aGVFcnJvcil7dmFyIG5ld0V2ZW50PXt0eXBlOmV2ZW50VHlwZSxkZXRhaWw6YUV2ZW50LmRldGFpbCxkaXNwYXRjaGVyOnRoaXN9O3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpfXZhciBjdXJyZW50RXZlbnRMaXN0ZW5lcnM9dGhpcy5fZXZlbnRMaXN0ZW5lcnNbZXZlbnRUeXBlXTtpZihudWxsIT09Y3VycmVudEV2ZW50TGlzdGVuZXJzJiZ2b2lkIDAhPT1jdXJyZW50RXZlbnRMaXN0ZW5lcnMpZm9yKHZhciBjdXJyZW50QXJyYXk9dGhpcy5fY29weUFycmF5KGN1cnJlbnRFdmVudExpc3RlbmVycyksY3VycmVudEFycmF5TGVuZ3RoPWN1cnJlbnRBcnJheS5sZW5ndGgsaT0wO2k8Y3VycmVudEFycmF5TGVuZ3RoO2krKyl7dmFyIGN1cnJlbnRGdW5jdGlvbj1jdXJyZW50QXJyYXlbaV07Y3VycmVudEZ1bmN0aW9uLmNhbGwodGhpcyxhRXZlbnQpfXJldHVybiB0aGlzfX0se2tleTpcImRpc3BhdGNoQ3VzdG9tRXZlbnRcIix2YWx1ZTpmdW5jdGlvbihhRXZlbnRUeXBlLGFEZXRhaWwpe3ZhciBuZXdFdmVudD12b2lkIDA7cmV0dXJuIHN1cHBvcnRzQ3VzdG9tRXZlbnRzPyhuZXdFdmVudD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpLG5ld0V2ZW50LmRpc3BhdGNoZXI9dGhpcyxuZXdFdmVudC5pbml0Q3VzdG9tRXZlbnQoYUV2ZW50VHlwZSwhMSwhMSxhRGV0YWlsKSk6bmV3RXZlbnQ9e3R5cGU6YUV2ZW50VHlwZSxkZXRhaWw6YURldGFpbCxkaXNwYXRjaGVyOnRoaXN9LHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCl9fSx7a2V5OlwidHJpZ2dlclwiLHZhbHVlOmZ1bmN0aW9uKGFFdmVudFR5cGUsYURldGFpbCl7cmV0dXJuIHRoaXMuZGlzcGF0Y2hDdXN0b21FdmVudChhRXZlbnRUeXBlLGFEZXRhaWwpfX0se2tleTpcIl9kZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZihudWxsIT09dGhpcy5fZXZlbnRMaXN0ZW5lcnMpe2Zvcih2YXIgb2JqZWN0TmFtZSBpbiB0aGlzLl9ldmVudExpc3RlbmVycylpZih0aGlzLl9ldmVudExpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShvYmplY3ROYW1lKSl7Zm9yKHZhciBjdXJyZW50QXJyYXk9dGhpcy5fZXZlbnRMaXN0ZW5lcnNbb2JqZWN0TmFtZV0sY3VycmVudEFycmF5TGVuZ3RoPWN1cnJlbnRBcnJheS5sZW5ndGgsaT0wO2k8Y3VycmVudEFycmF5TGVuZ3RoO2krKyljdXJyZW50QXJyYXlbaV09bnVsbDtkZWxldGUgdGhpcy5fZXZlbnRMaXN0ZW5lcnNbb2JqZWN0TmFtZV19dGhpcy5fZXZlbnRMaXN0ZW5lcnM9bnVsbH19fSx7a2V5OlwiX2NvcHlBcnJheVwiLHZhbHVlOmZ1bmN0aW9uKGFBcnJheSl7Zm9yKHZhciBjdXJyZW50QXJyYXk9bmV3IEFycmF5KGFBcnJheS5sZW5ndGgpLGN1cnJlbnRBcnJheUxlbmd0aD1jdXJyZW50QXJyYXkubGVuZ3RoLGk9MDtpPGN1cnJlbnRBcnJheUxlbmd0aDtpKyspY3VycmVudEFycmF5W2ldPWFBcnJheVtpXTtyZXR1cm4gY3VycmVudEFycmF5fX1dKSxFdmVudERpc3BhdGNoZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PUV2ZW50RGlzcGF0Y2hlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9FYXNlTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oMTApLF9FYXNlTnVtYmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FYXNlTnVtYmVyKSxfc2NoZWR1bGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9zY2hlZHVsaW5nMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zY2hlZHVsaW5nKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxnZXRNb3VzZT1mdW5jdGlvbihtRXZlbnQsbVRhcmdldCl7dmFyIG89bVRhcmdldHx8e307cmV0dXJuIG1FdmVudC50b3VjaGVzPyhvLng9bUV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsby55PW1FdmVudC50b3VjaGVzWzBdLnBhZ2VZKTooby54PW1FdmVudC5jbGllbnRYLG8ueT1tRXZlbnQuY2xpZW50WSksb30sT3JiaXRhbENvbnRyb2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiBPcmJpdGFsQ29udHJvbChtVGFyZ2V0KXt2YXIgX3RoaXM9dGhpcyxtTGlzdGVuZXJUYXJnZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOndpbmRvdyxtUmFkaXVzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTo1MDA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsT3JiaXRhbENvbnRyb2wpLHRoaXMuX3RhcmdldD1tVGFyZ2V0LHRoaXMuX2xpc3RlbmVyVGFyZ2V0PW1MaXN0ZW5lclRhcmdldCx0aGlzLl9tb3VzZT17fSx0aGlzLl9wcmVNb3VzZT17fSx0aGlzLmNlbnRlcj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx0aGlzLl91cD1fZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMSwwKSx0aGlzLnJhZGl1cz1uZXcgX0Vhc2VOdW1iZXIyLmRlZmF1bHQobVJhZGl1cyksdGhpcy5wb3NpdGlvbj1fZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCx0aGlzLnJhZGl1cy52YWx1ZSksdGhpcy5wb3NpdGlvbk9mZnNldD1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx0aGlzLl9yeD1uZXcgX0Vhc2VOdW1iZXIyLmRlZmF1bHQoMCksdGhpcy5fcngubGltaXQoLU1hdGguUEkvMixNYXRoLlBJLzIpLHRoaXMuX3J5PW5ldyBfRWFzZU51bWJlcjIuZGVmYXVsdCgwKSx0aGlzLl9wcmVSWD0wLHRoaXMuX3ByZVJZPTAsdGhpcy5faXNMb2NrWm9vbT0hMSx0aGlzLl9pc0xvY2tSb3RhdGlvbj0hMSx0aGlzLl9pc0ludmVydD0hMSx0aGlzLnNlbnNpdGl2aXR5PTEsdGhpcy5fd2hlZWxCaW5kPWZ1bmN0aW9uKGUpe3JldHVybiBfdGhpcy5fb25XaGVlbChlKX0sdGhpcy5fZG93bkJpbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbkRvd24oZSl9LHRoaXMuX21vdmVCaW5kPWZ1bmN0aW9uKGUpe3JldHVybiBfdGhpcy5fb25Nb3ZlKGUpfSx0aGlzLl91cEJpbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX29uVXAoKX0sdGhpcy5jb25uZWN0KCksX3NjaGVkdWxpbmcyLmRlZmF1bHQuYWRkRUYoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX2xvb3AoKX0pfXJldHVybiBfY3JlYXRlQ2xhc3MoT3JiaXRhbENvbnRyb2wsW3trZXk6XCJjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRpc2Nvbm5lY3QoKSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLHRoaXMuX3doZWVsQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsdGhpcy5fd2hlZWxCaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fZG93bkJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fZG93bkJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9tb3ZlQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuX21vdmVCaW5kKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5fdXBCaW5kKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl91cEJpbmQpfX0se2tleTpcImRpc2Nvbm5lY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2xpc3RlbmVyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsdGhpcy5fd2hlZWxCaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIix0aGlzLl93aGVlbEJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9kb3duQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLl9kb3duQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX21vdmVCaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5fbW92ZUJpbmQpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLl91cEJpbmQpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX3VwQmluZCl9fSx7a2V5OlwibG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG1WYWx1ZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3RoaXMuX2lzTG9ja1pvb209bVZhbHVlLHRoaXMuX2lzTG9ja1JvdGF0aW9uPW1WYWx1ZSx0aGlzLl9pc01vdXNlRG93bj0hMX19LHtrZXk6XCJsb2NrWm9vbVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG1WYWx1ZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3RoaXMuX2lzTG9ja1pvb209bVZhbHVlfX0se2tleTpcImxvY2tSb3RhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG1WYWx1ZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3RoaXMuX2lzTG9ja1JvdGF0aW9uPW1WYWx1ZX19LHtrZXk6XCJpbnZlcnNlQ29udHJvbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGlzSW52ZXJ0PSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07dGhpcy5faXNJbnZlcnQ9aXNJbnZlcnR9fSx7a2V5OlwiX29uRG93blwiLHZhbHVlOmZ1bmN0aW9uKG1FdmVudCl7dGhpcy5faXNMb2NrUm90YXRpb258fCh0aGlzLl9pc01vdXNlRG93bj0hMCxnZXRNb3VzZShtRXZlbnQsdGhpcy5fbW91c2UpLGdldE1vdXNlKG1FdmVudCx0aGlzLl9wcmVNb3VzZSksdGhpcy5fcHJlUlg9dGhpcy5fcngudGFyZ2V0VmFsdWUsdGhpcy5fcHJlUlk9dGhpcy5fcnkudGFyZ2V0VmFsdWUpfX0se2tleTpcIl9vbk1vdmVcIix2YWx1ZTpmdW5jdGlvbihtRXZlbnQpe2lmKCF0aGlzLl9pc0xvY2tSb3RhdGlvbiYmKGdldE1vdXNlKG1FdmVudCx0aGlzLl9tb3VzZSksbUV2ZW50LnRvdWNoZXMmJm1FdmVudC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2lzTW91c2VEb3duKSl7dmFyIGRpZmZYPS0odGhpcy5fbW91c2UueC10aGlzLl9wcmVNb3VzZS54KTt0aGlzLl9pc0ludmVydCYmKGRpZmZYKj0tMSksdGhpcy5fcnkudmFsdWU9dGhpcy5fcHJlUlktLjAxKmRpZmZYKnRoaXMuc2Vuc2l0aXZpdHk7dmFyIGRpZmZZPS0odGhpcy5fbW91c2UueS10aGlzLl9wcmVNb3VzZS55KTt0aGlzLl9pc0ludmVydCYmKGRpZmZZKj0tMSksdGhpcy5fcngudmFsdWU9dGhpcy5fcHJlUlgtLjAxKmRpZmZZKnRoaXMuc2Vuc2l0aXZpdHl9fX0se2tleTpcIl9vblVwXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9pc0xvY2tSb3RhdGlvbnx8KHRoaXMuX2lzTW91c2VEb3duPSExKX19LHtrZXk6XCJfb25XaGVlbFwiLHZhbHVlOmZ1bmN0aW9uKG1FdmVudCl7aWYoIXRoaXMuX2lzTG9ja1pvb20pe3ZhciB3PW1FdmVudC53aGVlbERlbHRhLGQ9bUV2ZW50LmRldGFpbCx2YWx1ZT0wO3ZhbHVlPWQ/dz93L2QvNDAqZD4wPzE6LTE6LWQvMzp3LzEyMCx0aGlzLnJhZGl1cy5hZGQoMiotdmFsdWUpfX19LHtrZXk6XCJfbG9vcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlUG9zaXRpb24oKSx0aGlzLl90YXJnZXQmJnRoaXMuX3VwZGF0ZUNhbWVyYSgpfX0se2tleTpcIl91cGRhdGVQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wb3NpdGlvblsxXT1NYXRoLnNpbih0aGlzLl9yeC52YWx1ZSkqdGhpcy5yYWRpdXMudmFsdWU7dmFyIHRyPU1hdGguY29zKHRoaXMuX3J4LnZhbHVlKSp0aGlzLnJhZGl1cy52YWx1ZTt0aGlzLnBvc2l0aW9uWzBdPU1hdGguY29zKHRoaXMuX3J5LnZhbHVlKy41Kk1hdGguUEkpKnRyLHRoaXMucG9zaXRpb25bMl09TWF0aC5zaW4odGhpcy5fcnkudmFsdWUrLjUqTWF0aC5QSSkqdHIsX2dsTWF0cml4LnZlYzMuYWRkKHRoaXMucG9zaXRpb24sdGhpcy5wb3NpdGlvbix0aGlzLnBvc2l0aW9uT2Zmc2V0KX19LHtrZXk6XCJfdXBkYXRlQ2FtZXJhXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl90YXJnZXQubG9va0F0KHRoaXMucG9zaXRpb24sdGhpcy5jZW50ZXIsdGhpcy5fdXApfX0se2tleTpcInJ4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J4fX0se2tleTpcInJ5XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J5fX1dKSxPcmJpdGFsQ29udHJvbH0oKTtleHBvcnRzLmRlZmF1bHQ9T3JiaXRhbENvbnRyb2x9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfQ2FtZXJhMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSxfQ2FtZXJhMz1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfQ2FtZXJhMiksX2dsTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMiksQ2FtZXJhT3J0aG89ZnVuY3Rpb24oX0NhbWVyYSl7ZnVuY3Rpb24gQ2FtZXJhT3J0aG8oKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDYW1lcmFPcnRobyk7dmFyIF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKENhbWVyYU9ydGhvLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKENhbWVyYU9ydGhvKSkuY2FsbCh0aGlzKSksZXllPV9nbE1hdHJpeC52ZWMzLmNsb25lKFswLDAsNV0pLGNlbnRlcj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx1cD1fZ2xNYXRyaXgudmVjMy5jbG9uZShbMCwxLDBdKTtyZXR1cm4gX3RoaXMubG9va0F0KGV5ZSxjZW50ZXIsdXApLF90aGlzLm9ydGhvKC0xLDEsMSwtMSksX3RoaXN9cmV0dXJuIF9pbmhlcml0cyhDYW1lcmFPcnRobyxfQ2FtZXJhKSxfY3JlYXRlQ2xhc3MoQ2FtZXJhT3J0aG8sW3trZXk6XCJzZXRCb3VuZGFyeVwiLHZhbHVlOmZ1bmN0aW9uKGxlZnQscmlnaHQsdG9wLGJvdHRvbSl7dmFyIG5lYXI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOi4xLGZhcj1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06MTAwO3RoaXMub3J0aG8obGVmdCxyaWdodCx0b3AsYm90dG9tLG5lYXIsZmFyKX19LHtrZXk6XCJvcnRob1wiLHZhbHVlOmZ1bmN0aW9uKGxlZnQscmlnaHQsdG9wLGJvdHRvbSl7dmFyIG5lYXI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOi4xLGZhcj1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06MTAwO3RoaXMubGVmdD1sZWZ0LHRoaXMucmlnaHQ9cmlnaHQsdGhpcy50b3A9dG9wLHRoaXMuYm90dG9tPWJvdHRvbSxtYXQ0Lm9ydGhvKHRoaXMuX3Byb2plY3Rpb24sbGVmdCxyaWdodCxib3R0b20sdG9wLG5lYXIsZmFyKX19XSksQ2FtZXJhT3J0aG99KF9DYW1lcmEzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1DYW1lcmFPcnRob30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dsTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMiksX3NjaGVkdWxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfc2NoZWR1bGluZzI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX3NjaGVkdWxpbmcpLE9iamVjdDNEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gT2JqZWN0M0QoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxPYmplY3QzRCksdGhpcy5fbmVlZFVwZGF0ZT0hMCx0aGlzLl94PTAsdGhpcy5feT0wLHRoaXMuX3o9MCx0aGlzLl9zeD0xLHRoaXMuX3N5PTEsdGhpcy5fc3o9MSx0aGlzLl9yeD0wLHRoaXMuX3J5PTAsdGhpcy5fcno9MCx0aGlzLl9wb3NpdGlvbj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx0aGlzLl9zY2FsZT1fZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDEsMSwxKSx0aGlzLl9yb3RhdGlvbj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx0aGlzLl9tYXRyaXg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fbWF0cml4UGFyZW50PV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX21hdHJpeFJvdGF0aW9uPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX21hdHJpeFNjYWxlPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX21hdHJpeFRyYW5zbGF0aW9uPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX21hdHJpeFF1YXRlcm5pb249X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fcXVhdD1fZ2xNYXRyaXgucXVhdC5jcmVhdGUoKSx0aGlzLl9jaGlsZHJlbj1bXX1yZXR1cm4gX2NyZWF0ZUNsYXNzKE9iamVjdDNELFt7a2V5OlwiYWRkQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbihtQ2hpbGQpe3RoaXMuX2NoaWxkcmVuLnB1c2gobUNoaWxkKX19LHtrZXk6XCJyZW1vdmVDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKG1DaGlsZCl7dmFyIGluZGV4PXRoaXMuX2NoaWxkcmVuLmluZGV4T2YobUNoaWxkKTtpZigtMT09aW5kZXgpcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiQ2hpbGQgbm8gZXhpc3RcIik7dGhpcy5fY2hpbGRyZW4uc3BsaWNlKGluZGV4LDEpfX0se2tleTpcIl91cGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX25lZWRVcGRhdGUmJihfZ2xNYXRyaXgudmVjMy5zZXQodGhpcy5fc2NhbGUsdGhpcy5fc3gsdGhpcy5fc3ksdGhpcy5fc3opLF9nbE1hdHJpeC52ZWMzLnNldCh0aGlzLl9yb3RhdGlvbix0aGlzLl9yeCx0aGlzLl9yeSx0aGlzLl9yeiksX2dsTWF0cml4LnZlYzMuc2V0KHRoaXMuX3Bvc2l0aW9uLHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KSxfZ2xNYXRyaXgubWF0NC5pZGVudGl0eSh0aGlzLl9tYXRyaXhUcmFuc2xhdGlvbix0aGlzLl9tYXRyaXhUcmFuc2xhdGlvbiksX2dsTWF0cml4Lm1hdDQuaWRlbnRpdHkodGhpcy5fbWF0cml4U2NhbGUsdGhpcy5fbWF0cml4U2NhbGUpLF9nbE1hdHJpeC5tYXQ0LmlkZW50aXR5KHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uKSxfZ2xNYXRyaXgubWF0NC5yb3RhdGVYKHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX3J4KSxfZ2xNYXRyaXgubWF0NC5yb3RhdGVZKHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX3J5KSxfZ2xNYXRyaXgubWF0NC5yb3RhdGVaKHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX3J6KSxfZ2xNYXRyaXgubWF0NC5mcm9tUXVhdCh0aGlzLl9tYXRyaXhRdWF0ZXJuaW9uLHRoaXMuX3F1YXQpLF9nbE1hdHJpeC5tYXQ0Lm11bCh0aGlzLl9tYXRyaXhSb3RhdGlvbix0aGlzLl9tYXRyaXhRdWF0ZXJuaW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uKSxfZ2xNYXRyaXgubWF0NC5zY2FsZSh0aGlzLl9tYXRyaXhTY2FsZSx0aGlzLl9tYXRyaXhTY2FsZSx0aGlzLl9zY2FsZSksX2dsTWF0cml4Lm1hdDQudHJhbnNsYXRlKHRoaXMuX21hdHJpeFRyYW5zbGF0aW9uLHRoaXMuX21hdHJpeFRyYW5zbGF0aW9uLHRoaXMuX3Bvc2l0aW9uKSxfZ2xNYXRyaXgubWF0NC5tdWwodGhpcy5fbWF0cml4LHRoaXMuX21hdHJpeFRyYW5zbGF0aW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uKSxfZ2xNYXRyaXgubWF0NC5tdWwodGhpcy5fbWF0cml4LHRoaXMuX21hdHJpeCx0aGlzLl9tYXRyaXhTY2FsZSksX2dsTWF0cml4Lm1hdDQubXVsKHRoaXMuX21hdHJpeCx0aGlzLl9tYXRyaXhQYXJlbnQsdGhpcy5fbWF0cml4KSx0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMuX25lZWRVcGRhdGU9ITEpfX0se2tleTpcInVwZGF0ZU1hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKG1QYXJlbnRNYXRyaXgpe3ZhciBfdGhpcz10aGlzO21QYXJlbnRNYXRyaXgmJih0aGlzLl9uZWVkVXBkYXRlPSEwLF9nbE1hdHJpeC5tYXQ0LmNvcHkodGhpcy5fbWF0cml4UGFyZW50LG1QYXJlbnRNYXRyaXgpKSx0aGlzLl9uZWVkVXBkYXRlJiZ0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkKXtjaGlsZC51cGRhdGVNYXRyaXgoX3RoaXMuX21hdHJpeCl9KX19LHtrZXk6XCJzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uXCIsdmFsdWU6ZnVuY3Rpb24obVF1YXQpe3ZhciBfdGhpczI9dGhpcztfZ2xNYXRyaXgucXVhdC5jb3B5KHRoaXMuX3F1YXQsbVF1YXQpLHRoaXMuX25lZWRVcGRhdGU9ITAsX3NjaGVkdWxpbmcyLmRlZmF1bHQubmV4dChmdW5jdGlvbigpe3JldHVybiBfdGhpczIuX3VwZGF0ZSgpfSl9fSx7a2V5OlwibWF0cml4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lZWRVcGRhdGUmJnRoaXMuX3VwZGF0ZSgpLHRoaXMuX21hdHJpeH19LHtrZXk6XCJ4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3h9LHNldDpmdW5jdGlvbihtVmFsdWUpe3ZhciBfdGhpczM9dGhpczt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3g9bVZhbHVlLF9zY2hlZHVsaW5nMi5kZWZhdWx0Lm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMzLl91cGRhdGUoKX0pfX0se2tleTpcInlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feX0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dmFyIF90aGlzND10aGlzO3RoaXMuX25lZWRVcGRhdGU9ITAsdGhpcy5feT1tVmFsdWUsX3NjaGVkdWxpbmcyLmRlZmF1bHQubmV4dChmdW5jdGlvbigpe3JldHVybiBfdGhpczQuX3VwZGF0ZSgpfSl9fSx7a2V5OlwielwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl96fSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt2YXIgX3RoaXM1PXRoaXM7dGhpcy5fbmVlZFVwZGF0ZT0hMCx0aGlzLl96PW1WYWx1ZSxfc2NoZWR1bGluZzIuZGVmYXVsdC5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzNS5fdXBkYXRlKCl9KX19LHtrZXk6XCJzY2FsZVhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3h9LHNldDpmdW5jdGlvbihtVmFsdWUpe3ZhciBfdGhpczY9dGhpczt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3N4PW1WYWx1ZSxfc2NoZWR1bGluZzIuZGVmYXVsdC5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzNi5fdXBkYXRlKCl9KX19LHtrZXk6XCJzY2FsZVlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3l9LHNldDpmdW5jdGlvbihtVmFsdWUpe3ZhciBfdGhpczc9dGhpczt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3N5PW1WYWx1ZSxfc2NoZWR1bGluZzIuZGVmYXVsdC5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzNy5fdXBkYXRlKCl9KX19LHtrZXk6XCJzY2FsZVpcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3p9LHNldDpmdW5jdGlvbihtVmFsdWUpe3ZhciBfdGhpczg9dGhpczt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3N6PW1WYWx1ZSxfc2NoZWR1bGluZzIuZGVmYXVsdC5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzOC5fdXBkYXRlKCl9KX19LHtrZXk6XCJyb3RhdGlvblhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnh9LHNldDpmdW5jdGlvbihtVmFsdWUpe3ZhciBfdGhpczk9dGhpczt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3J4PW1WYWx1ZSxfc2NoZWR1bGluZzIuZGVmYXVsdC5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzOS5fdXBkYXRlKCl9KX19LHtrZXk6XCJyb3RhdGlvbllcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnl9LHNldDpmdW5jdGlvbihtVmFsdWUpe3ZhciBfdGhpczEwPXRoaXM7dGhpcy5fbmVlZFVwZGF0ZT0hMCx0aGlzLl9yeT1tVmFsdWUsX3NjaGVkdWxpbmcyLmRlZmF1bHQubmV4dChmdW5jdGlvbigpe3JldHVybiBfdGhpczEwLl91cGRhdGUoKX0pfX0se2tleTpcInJvdGF0aW9uWlwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yen0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dmFyIF90aGlzMTE9dGhpczt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3J6PW1WYWx1ZSxfc2NoZWR1bGluZzIuZGVmYXVsdC5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzMTEuX3VwZGF0ZSgpfSl9fSx7a2V5OlwiY2hpbGRyZW5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLE9iamVjdDNEfSgpO2V4cG9ydHMuZGVmYXVsdD1PYmplY3QzRH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gZ2VuZXJhbFdpdGhOb3JtYWwudmVydFxcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgR0VORVJBTF9WRVJURVhcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5hdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjMyBhTm9ybWFsO1xcblxcbnVuaWZvcm0gbWF0NCB1TW9kZWxNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdU5vcm1hbE1hdHJpeDtcXG5cXG51bmlmb3JtIHZlYzMgcG9zaXRpb247XFxudW5pZm9ybSB2ZWMzIHNjYWxlO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFx0dmVjMyBwb3MgICAgICA9IGFWZXJ0ZXhQb3NpdGlvbiAqIHNjYWxlO1xcblxcdHBvcyAgICAgICAgICAgKz0gcG9zaXRpb247XFxuXFx0Z2xfUG9zaXRpb24gICA9IHVQcm9qZWN0aW9uTWF0cml4ICogdVZpZXdNYXRyaXggKiB1TW9kZWxNYXRyaXggKiB2ZWM0KHBvcywgMS4wKTtcXG5cXHRcXG5cXHR2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG5cXHR2Tm9ybWFsICAgICAgID0gbm9ybWFsaXplKHVOb3JtYWxNYXRyaXggKiBhTm9ybWFsKTtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGJhc2ljLnZlcnRcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIFNLWUJPWF9WRVJURVhcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5hdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjMyBhTm9ybWFsO1xcblxcbnVuaWZvcm0gbWF0NCB1TW9kZWxNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzMgdlZlcnRleDtcXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcdG1hdDQgbWF0VmlldyA9IHVWaWV3TWF0cml4O1xcblxcdG1hdFZpZXdbM11bMF0gPSAwLjA7XFxuXFx0bWF0Vmlld1szXVsxXSA9IDAuMDtcXG5cXHRtYXRWaWV3WzNdWzJdID0gMC4wO1xcblxcdFxcblxcdGdsX1Bvc2l0aW9uID0gdVByb2plY3Rpb25NYXRyaXggKiBtYXRWaWV3ICogdU1vZGVsTWF0cml4ICogdmVjNChhVmVydGV4UG9zaXRpb24sIDEuMCk7XFxuXFx0dlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuXFx0XFxuXFx0dlZlcnRleCA9IGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXHR2Tm9ybWFsID0gYU5vcm1hbDtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGJhc2ljLmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIFNLWUJPWF9GUkFHTUVOVFxcblxcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxudW5pZm9ybSBzYW1wbGVyQ3ViZSB0ZXh0dXJlO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMyB2VmVydGV4O1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmVDdWJlKHRleHR1cmUsIHZWZXJ0ZXgpO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0ZyYW1lQnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oMjgpLF9GcmFtZUJ1ZmZlcjI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX0ZyYW1lQnVmZmVyKSxGYm9BcnJheT1mdW5jdGlvbigpe2Z1bmN0aW9uIEZib0FycmF5KG1OdW0sd2lkdGgsaGVpZ2h0KXt2YXIgcGFyYW1zPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fSxtTnVtVGFyZ2V0cz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06MTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxGYm9BcnJheSksdGhpcy5fZmJvcz1bXTtmb3IodmFyIGk9MDtpPG1OdW07aSsrKXt2YXIgZmJvPW5ldyBfRnJhbWVCdWZmZXIyLmRlZmF1bHQod2lkdGgsaGVpZ2h0LHBhcmFtcyxtTnVtVGFyZ2V0cyk7dGhpcy5fZmJvcy5wdXNoKGZibyl9fXJldHVybiBfY3JlYXRlQ2xhc3MoRmJvQXJyYXksW3trZXk6XCJzd2FwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9mYm9zLnNoaWZ0KCk7dGhpcy5fZmJvcy5wdXNoKGEpfX0se2tleTpcInJlYWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmJvc1t0aGlzLl9mYm9zLmxlbmd0aC0xXX19LHtrZXk6XCJ3cml0ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mYm9zWzBdfX0se2tleTpcImFsbFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mYm9zfX1dKSxGYm9BcnJheX0oKTtleHBvcnRzLmRlZmF1bHQ9RmJvQXJyYXl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkZib1BpbmdQb25nPWV4cG9ydHMuRmJvQXJyYXk9ZXhwb3J0cy5TaGFkZXJMaWJzPWV4cG9ydHMuRHJhdz1leHBvcnRzLlZpZXczRD1leHBvcnRzLlZpZXc9ZXhwb3J0cy5TY2VuZT1leHBvcnRzLkJhdGNoRlhBQT1leHBvcnRzLkJhdGNoU2t5PWV4cG9ydHMuQmF0Y2hTa3lib3g9ZXhwb3J0cy5CYXRjaExpbmU9ZXhwb3J0cy5CYXRjaERvdHNQbGFuZT1leHBvcnRzLkJhdGNoQmFsbD1leHBvcnRzLkJhdGNoQXhpcz1leHBvcnRzLkJhdGNoQ29weT1leHBvcnRzLkdMVEZQYXJzZXI9ZXhwb3J0cy5IRFJMb2FkZXI9ZXhwb3J0cy5PYmpMb2FkZXI9ZXhwb3J0cy5CaW5hcnlMb2FkZXI9ZXhwb3J0cy5PYmplY3QzRD1leHBvcnRzLlJheT1leHBvcnRzLkNhbWVyYUN1YmU9ZXhwb3J0cy5DYW1lcmFQZXJzcGVjdGl2ZT1leHBvcnRzLkNhbWVyYU9ydGhvPWV4cG9ydHMuQ2FtZXJhPWV4cG9ydHMuVG91Y2hEZXRlY3Rvcj1leHBvcnRzLlF1YXRSb3RhdGlvbj1leHBvcnRzLldlYmdsTnVtYmVyPWV4cG9ydHMuT3JiaXRhbENvbnRyb2w9ZXhwb3J0cy5Ud2Vlbk51bWJlcj1leHBvcnRzLlNwcmluZ051bWJlcj1leHBvcnRzLkVhc2VOdW1iZXI9ZXhwb3J0cy5FdmVudERpc3BhdGNoZXI9ZXhwb3J0cy5TY2hlZHVsZXI9ZXhwb3J0cy5UcmFuc2Zvcm1GZWVkYmFja09iamVjdD1leHBvcnRzLk11bHRpc2FtcGxlRnJhbWVCdWZmZXI9ZXhwb3J0cy5DdWJlRnJhbWVCdWZmZXI9ZXhwb3J0cy5GcmFtZUJ1ZmZlcj1leHBvcnRzLkJhdGNoPWV4cG9ydHMuR2VvbT1leHBvcnRzLk1lc2g9ZXhwb3J0cy5HTEN1YmVUZXh0dXJlPWV4cG9ydHMuR0xUZXh0dXJlT2xkPWV4cG9ydHMuR0xUZXh0dXJlPWV4cG9ydHMuR0xTaGFkZXI9ZXhwb3J0cy5HTD12b2lkIDA7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dsTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMiksR0xNPWZ1bmN0aW9uKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9KF9nbE1hdHJpeCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMSksX0dMU2hhZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFNoYWRlciksX0dMVGV4dHVyZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSxfR0xUZXh0dXJlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRleHR1cmUpLF9HTFRleHR1cmUzPV9fd2VicGFja19yZXF1aXJlX18oMjYpLF9HTFRleHR1cmU0PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVGV4dHVyZTMpLF9HTEN1YmVUZXh0dXJlPV9fd2VicGFja19yZXF1aXJlX18oMjcpLF9HTEN1YmVUZXh0dXJlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTEN1YmVUZXh0dXJlKSxfTWVzaD1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLF9NZXNoMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKSxfR2VvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9HZW9tMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HZW9tKSxfQmF0Y2g9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxfQmF0Y2gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoKSxfRnJhbWVCdWZmZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyOCksX0ZyYW1lQnVmZmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GcmFtZUJ1ZmZlciksX0N1YmVGcmFtZUJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUxKSxfQ3ViZUZyYW1lQnVmZmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdWJlRnJhbWVCdWZmZXIpLF9NdWx0aXNhbXBsZUZyYW1lQnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oNTIpLF9NdWx0aXNhbXBsZUZyYW1lQnVmZmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NdWx0aXNhbXBsZUZyYW1lQnVmZmVyKSxfVHJhbnNmb3JtRmVlZGJhY2tPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg1MyksX1RyYW5zZm9ybUZlZWRiYWNrT2JqZWN0Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1GZWVkYmFja09iamVjdCksX3NjaGVkdWxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfc2NoZWR1bGluZzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2NoZWR1bGluZyksX0V2ZW50RGlzcGF0Y2hlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSxfRXZlbnREaXNwYXRjaGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudERpc3BhdGNoZXIpLF9FYXNlTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oMTApLF9FYXNlTnVtYmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FYXNlTnVtYmVyKSxfU3ByaW5nTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oNTQpLF9TcHJpbmdOdW1iZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NwcmluZ051bWJlciksX1R3ZWVuTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oNTUpLF9Ud2Vlbk51bWJlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHdlZW5OdW1iZXIpLF9PcmJpdGFsQ29udHJvbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDMwKSxfT3JiaXRhbENvbnRyb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09yYml0YWxDb250cm9sKSxfUXVhdFJvdGF0aW9uPV9fd2VicGFja19yZXF1aXJlX18oNTYpLF9RdWF0Um90YXRpb24yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1F1YXRSb3RhdGlvbiksX1RvdWNoRGV0ZWN0b3I9X193ZWJwYWNrX3JlcXVpcmVfXyg1NyksX1RvdWNoRGV0ZWN0b3IyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RvdWNoRGV0ZWN0b3IpLF9XZWJnbE51bWJlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLF9XZWJnbE51bWJlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViZ2xOdW1iZXIpLF9XZWJnbENvbnN0PV9fd2VicGFja19yZXF1aXJlX18oMjMpLF9DYW1lcmE9KF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYmdsQ29uc3QpLF9fd2VicGFja19yZXF1aXJlX18oMTIpKSxfQ2FtZXJhMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW1lcmEpLF9DYW1lcmFPcnRobz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSxfQ2FtZXJhT3J0aG8yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbWVyYU9ydGhvKSxfQ2FtZXJhUGVyc3BlY3RpdmU9X193ZWJwYWNrX3JlcXVpcmVfXygxMyksX0NhbWVyYVBlcnNwZWN0aXZlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW1lcmFQZXJzcGVjdGl2ZSksX0NhbWVyYUN1YmU9X193ZWJwYWNrX3JlcXVpcmVfXyg1OSksX0NhbWVyYUN1YmUyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbWVyYUN1YmUpLF9SYXk9X193ZWJwYWNrX3JlcXVpcmVfXygxMSksX1JheTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmF5KSxfT2JqZWN0M0Q9X193ZWJwYWNrX3JlcXVpcmVfXygzMiksX09iamVjdDNEMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmplY3QzRCksX0JpbmFyeUxvYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSxfQmluYXJ5TG9hZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CaW5hcnlMb2FkZXIpLF9PYmpMb2FkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg2MCksX09iakxvYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqTG9hZGVyKSxfSERSTG9hZGVyPV9fd2VicGFja19yZXF1aXJlX18oNjEpLF9IRFJMb2FkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hEUkxvYWRlciksX0dMVEZQYXJzZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg2MyksX0dMVEZQYXJzZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVEZQYXJzZXIpLF9CYXRjaENvcHk9X193ZWJwYWNrX3JlcXVpcmVfXyg2NCksX0JhdGNoQ29weTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2hDb3B5KSxfQmF0Y2hBeGlzPV9fd2VicGFja19yZXF1aXJlX18oNjUpLF9CYXRjaEF4aXMyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoQXhpcyksX0JhdGNoQmFsbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDY4KSxfQmF0Y2hCYWxsMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaEJhbGwpLF9CYXRjaERvdHNQbGFuZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDY5KSxfQmF0Y2hEb3RzUGxhbmUyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoRG90c1BsYW5lKSxfQmF0Y2hMaW5lPV9fd2VicGFja19yZXF1aXJlX18oNzIpLF9CYXRjaExpbmUyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoTGluZSksX0JhdGNoU2t5Ym94PV9fd2VicGFja19yZXF1aXJlX18oNzMpLF9CYXRjaFNreWJveDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2hTa3lib3gpLF9CYXRjaFNreT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc0KSxfQmF0Y2hTa3kyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoU2t5KSxfQmF0Y2hGWEFBPV9fd2VicGFja19yZXF1aXJlX18oNzYpLF9CYXRjaEZYQUEyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoRlhBQSksX1NjZW5lPV9fd2VicGFja19yZXF1aXJlX18oNzgpLF9TY2VuZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2NlbmUpLF9WaWV3PV9fd2VicGFja19yZXF1aXJlX18oNzkpLF9WaWV3Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WaWV3KSxfVmlldzNEPV9fd2VicGFja19yZXF1aXJlX18oODApLF9WaWV3M0QyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZpZXczRCksX0RyYXc9X193ZWJwYWNrX3JlcXVpcmVfXyg4MSksX0RyYXcyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RyYXcpLF9TaGFkZXJMaWJzPV9fd2VicGFja19yZXF1aXJlX18oODIpLF9TaGFkZXJMaWJzMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXJMaWJzKSxfRmJvQXJyYXk9X193ZWJwYWNrX3JlcXVpcmVfXygzNiksX0Zib0FycmF5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GYm9BcnJheSksX0Zib1BpbmdQb25nPV9fd2VicGFja19yZXF1aXJlX18oODMpLF9GYm9QaW5nUG9uZzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmJvUGluZ1BvbmcpLEFsZnJpZD1mdW5jdGlvbigpe2Z1bmN0aW9uIEFsZnJpZCgpe19jbGFzc0NhbGxDaGVjayh0aGlzLEFsZnJpZCksdGhpcy5nbG09R0xNLHRoaXMuR0w9X0dMVG9vbDIuZGVmYXVsdCx0aGlzLkdMVG9vbD1fR0xUb29sMi5kZWZhdWx0LHRoaXMuR0xTaGFkZXI9X0dMU2hhZGVyMi5kZWZhdWx0LHRoaXMuR0xUZXh0dXJlPV9HTFRleHR1cmU0LmRlZmF1bHQsdGhpcy5HTFRleHR1cmVPbGQ9X0dMVGV4dHVyZTIuZGVmYXVsdCx0aGlzLkdMQ3ViZVRleHR1cmU9X0dMQ3ViZVRleHR1cmUyLmRlZmF1bHQsdGhpcy5NZXNoPV9NZXNoMi5kZWZhdWx0LHRoaXMuR2VvbT1fR2VvbTIuZGVmYXVsdCx0aGlzLkJhdGNoPV9CYXRjaDIuZGVmYXVsdCx0aGlzLkZyYW1lQnVmZmVyPV9GcmFtZUJ1ZmZlcjIuZGVmYXVsdCx0aGlzLkN1YmVGcmFtZUJ1ZmZlcj1fQ3ViZUZyYW1lQnVmZmVyMi5kZWZhdWx0LHRoaXMuU2NoZWR1bGVyPV9zY2hlZHVsaW5nMi5kZWZhdWx0LHRoaXMuRXZlbnREaXNwYXRjaGVyPV9FdmVudERpc3BhdGNoZXIyLmRlZmF1bHQsdGhpcy5FYXNlTnVtYmVyPV9FYXNlTnVtYmVyMi5kZWZhdWx0LHRoaXMuU3ByaW5nTnVtYmVyPV9TcHJpbmdOdW1iZXIyLmRlZmF1bHQsdGhpcy5Ud2Vlbk51bWJlcj1fVHdlZW5OdW1iZXIyLmRlZmF1bHQsdGhpcy5DYW1lcmE9X0NhbWVyYTIuZGVmYXVsdCx0aGlzLkNhbWVyYU9ydGhvPV9DYW1lcmFPcnRobzIuZGVmYXVsdCx0aGlzLkNhbWVyYVBlcnNwZWN0aXZlPV9DYW1lcmFQZXJzcGVjdGl2ZTIuZGVmYXVsdCx0aGlzLlJheT1fUmF5Mi5kZWZhdWx0LHRoaXMuQ2FtZXJhQ3ViZT1fQ2FtZXJhQ3ViZTIuZGVmYXVsdCx0aGlzLk9yYml0YWxDb250cm9sPV9PcmJpdGFsQ29udHJvbDIuZGVmYXVsdCx0aGlzLlF1YXRSb3RhdGlvbj1fUXVhdFJvdGF0aW9uMi5kZWZhdWx0LHRoaXMuQmluYXJ5TG9hZGVyPV9CaW5hcnlMb2FkZXIyLmRlZmF1bHQsdGhpcy5PYmpMb2FkZXI9X09iakxvYWRlcjIuZGVmYXVsdCx0aGlzLkdMVEZQYXJzZXI9X0dMVEZQYXJzZXIyLmRlZmF1bHQsdGhpcy5IRFJMb2FkZXI9X0hEUkxvYWRlcjIuZGVmYXVsdCx0aGlzLkJhdGNoQ29weT1fQmF0Y2hDb3B5Mi5kZWZhdWx0LHRoaXMuQmF0Y2hBeGlzPV9CYXRjaEF4aXMyLmRlZmF1bHQsdGhpcy5CYXRjaEJhbGw9X0JhdGNoQmFsbDIuZGVmYXVsdCx0aGlzLkJhdGNoQmFsbD1fQmF0Y2hCYWxsMi5kZWZhdWx0LHRoaXMuQmF0Y2hMaW5lPV9CYXRjaExpbmUyLmRlZmF1bHQsdGhpcy5CYXRjaFNreWJveD1fQmF0Y2hTa3lib3gyLmRlZmF1bHQsdGhpcy5CYXRjaFNreT1fQmF0Y2hTa3kyLmRlZmF1bHQsdGhpcy5CYXRjaEZYQUE9X0JhdGNoRlhBQTIuZGVmYXVsdCx0aGlzLkJhdGNoRG90c1BsYW5lPV9CYXRjaERvdHNQbGFuZTIuZGVmYXVsdCx0aGlzLlNjZW5lPV9TY2VuZTIuZGVmYXVsdCx0aGlzLlZpZXc9X1ZpZXcyLmRlZmF1bHQsdGhpcy5WaWV3M0Q9X1ZpZXczRDIuZGVmYXVsdCx0aGlzLkRyYXc9X0RyYXcyLmRlZmF1bHQsdGhpcy5PYmplY3QzRD1fT2JqZWN0M0QyLmRlZmF1bHQsdGhpcy5TaGFkZXJMaWJzPV9TaGFkZXJMaWJzMi5kZWZhdWx0LHRoaXMuV2ViZ2xOdW1iZXI9X1dlYmdsTnVtYmVyMi5kZWZhdWx0LHRoaXMuRmJvQXJyYXk9X0Zib0FycmF5Mi5kZWZhdWx0LHRoaXMuRmJvUGluZ1Bvbmc9X0Zib1BpbmdQb25nMi5kZWZhdWx0LHRoaXMuTXVsdGlzYW1wbGVGcmFtZUJ1ZmZlcj1fTXVsdGlzYW1wbGVGcmFtZUJ1ZmZlcjIuZGVmYXVsdCx0aGlzLlRyYW5zZm9ybUZlZWRiYWNrT2JqZWN0PV9UcmFuc2Zvcm1GZWVkYmFja09iamVjdDIuZGVmYXVsdDtmb3IodmFyIHMgaW4gR0xNKUdMTVtzXSYmKHdpbmRvd1tzXT1HTE1bc10pfXJldHVybiBfY3JlYXRlQ2xhc3MoQWxmcmlkLFt7a2V5OlwibG9nXCIsdmFsdWU6ZnVuY3Rpb24oKXtuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIik+LTE/Y29uc29sZS5sb2coXCIlY2xpYiBhbGZyaWQgOiBWRVJTSU9OIDAuMy42XCIsXCJiYWNrZ3JvdW5kOiAjMTkzNDQxOyBjb2xvcjogI0ZDRkZGNVwiKTpjb25zb2xlLmxvZyhcImxpYiBhbGZyaWQgOiBWRVJTSU9OIFwiLFwiMC4zLjZcIiksY29uc29sZS5sb2coXCIlY0NsYXNzZXMgOiBcIixcImNvbG9yOiAjMTkzNDQxXCIpO2Zvcih2YXIgcyBpbiB0aGlzKXRoaXNbc10mJmNvbnNvbGUubG9nKFwiJWMgLSBcIitzLFwiY29sb3I6ICMzRTYwNkZcIil9fV0pLEFsZnJpZH0oKSxhbD1uZXcgQWxmcmlkO2V4cG9ydHMuZGVmYXVsdD1hbCxleHBvcnRzLkdMPV9HTFRvb2wyLmRlZmF1bHQsZXhwb3J0cy5HTFNoYWRlcj1fR0xTaGFkZXIyLmRlZmF1bHQsZXhwb3J0cy5HTFRleHR1cmU9X0dMVGV4dHVyZTQuZGVmYXVsdCxleHBvcnRzLkdMVGV4dHVyZU9sZD1fR0xUZXh0dXJlMi5kZWZhdWx0LGV4cG9ydHMuR0xDdWJlVGV4dHVyZT1fR0xDdWJlVGV4dHVyZTIuZGVmYXVsdCxleHBvcnRzLk1lc2g9X01lc2gyLmRlZmF1bHQsZXhwb3J0cy5HZW9tPV9HZW9tMi5kZWZhdWx0LGV4cG9ydHMuQmF0Y2g9X0JhdGNoMi5kZWZhdWx0LGV4cG9ydHMuRnJhbWVCdWZmZXI9X0ZyYW1lQnVmZmVyMi5kZWZhdWx0LGV4cG9ydHMuQ3ViZUZyYW1lQnVmZmVyPV9DdWJlRnJhbWVCdWZmZXIyLmRlZmF1bHQsZXhwb3J0cy5NdWx0aXNhbXBsZUZyYW1lQnVmZmVyPV9NdWx0aXNhbXBsZUZyYW1lQnVmZmVyMi5kZWZhdWx0LGV4cG9ydHMuVHJhbnNmb3JtRmVlZGJhY2tPYmplY3Q9X1RyYW5zZm9ybUZlZWRiYWNrT2JqZWN0Mi5kZWZhdWx0LGV4cG9ydHMuU2NoZWR1bGVyPV9zY2hlZHVsaW5nMi5kZWZhdWx0LGV4cG9ydHMuRXZlbnREaXNwYXRjaGVyPV9FdmVudERpc3BhdGNoZXIyLmRlZmF1bHQsZXhwb3J0cy5FYXNlTnVtYmVyPV9FYXNlTnVtYmVyMi5kZWZhdWx0LGV4cG9ydHMuU3ByaW5nTnVtYmVyPV9TcHJpbmdOdW1iZXIyLmRlZmF1bHQsZXhwb3J0cy5Ud2Vlbk51bWJlcj1fVHdlZW5OdW1iZXIyLmRlZmF1bHQsZXhwb3J0cy5PcmJpdGFsQ29udHJvbD1fT3JiaXRhbENvbnRyb2wyLmRlZmF1bHQsZXhwb3J0cy5XZWJnbE51bWJlcj1fV2ViZ2xOdW1iZXIyLmRlZmF1bHQsZXhwb3J0cy5RdWF0Um90YXRpb249X1F1YXRSb3RhdGlvbjIuZGVmYXVsdCxleHBvcnRzLlRvdWNoRGV0ZWN0b3I9X1RvdWNoRGV0ZWN0b3IyLmRlZmF1bHQsZXhwb3J0cy5DYW1lcmE9X0NhbWVyYTIuZGVmYXVsdCxleHBvcnRzLkNhbWVyYU9ydGhvPV9DYW1lcmFPcnRobzIuZGVmYXVsdCxleHBvcnRzLkNhbWVyYVBlcnNwZWN0aXZlPV9DYW1lcmFQZXJzcGVjdGl2ZTIuZGVmYXVsdCxleHBvcnRzLkNhbWVyYUN1YmU9X0NhbWVyYUN1YmUyLmRlZmF1bHQsZXhwb3J0cy5SYXk9X1JheTIuZGVmYXVsdCxleHBvcnRzLk9iamVjdDNEPV9PYmplY3QzRDIuZGVmYXVsdCxleHBvcnRzLkJpbmFyeUxvYWRlcj1fQmluYXJ5TG9hZGVyMi5kZWZhdWx0LGV4cG9ydHMuT2JqTG9hZGVyPV9PYmpMb2FkZXIyLmRlZmF1bHQsZXhwb3J0cy5IRFJMb2FkZXI9X0hEUkxvYWRlcjIuZGVmYXVsdCxleHBvcnRzLkdMVEZQYXJzZXI9X0dMVEZQYXJzZXIyLmRlZmF1bHQsZXhwb3J0cy5CYXRjaENvcHk9X0JhdGNoQ29weTIuZGVmYXVsdCxleHBvcnRzLkJhdGNoQXhpcz1fQmF0Y2hBeGlzMi5kZWZhdWx0LGV4cG9ydHMuQmF0Y2hCYWxsPV9CYXRjaEJhbGwyLmRlZmF1bHQsZXhwb3J0cy5CYXRjaERvdHNQbGFuZT1fQmF0Y2hEb3RzUGxhbmUyLmRlZmF1bHQsZXhwb3J0cy5CYXRjaExpbmU9X0JhdGNoTGluZTIuZGVmYXVsdCxleHBvcnRzLkJhdGNoU2t5Ym94PV9CYXRjaFNreWJveDIuZGVmYXVsdCxleHBvcnRzLkJhdGNoU2t5PV9CYXRjaFNreTIuZGVmYXVsdCxleHBvcnRzLkJhdGNoRlhBQT1fQmF0Y2hGWEFBMi5kZWZhdWx0LGV4cG9ydHMuU2NlbmU9X1NjZW5lMi5kZWZhdWx0LGV4cG9ydHMuVmlldz1fVmlldzIuZGVmYXVsdCxleHBvcnRzLlZpZXczRD1fVmlldzNEMi5kZWZhdWx0LGV4cG9ydHMuRHJhdz1fRHJhdzIuZGVmYXVsdCxleHBvcnRzLlNoYWRlckxpYnM9X1NoYWRlckxpYnMyLmRlZmF1bHQsZXhwb3J0cy5GYm9BcnJheT1fRmJvQXJyYXkyLmRlZmF1bHQsZXhwb3J0cy5GYm9QaW5nUG9uZz1fRmJvUGluZ1BvbmcyLmRlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNyZWF0ZSgpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7cmV0dXJuIGdsTWF0cml4LkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKG91dFsxXT0wLG91dFsyXT0wKSxvdXRbMF09MSxvdXRbM109MSxvdXR9ZnVuY3Rpb24gY2xvbmUoYSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0WzNdPWFbM10sb3V0fWZ1bmN0aW9uIGNvcHkob3V0LGEpe3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXR9ZnVuY3Rpb24gaWRlbnRpdHkob3V0KXtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTEsb3V0fWZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLG0wMSxtMTAsbTExKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO3JldHVybiBvdXRbMF09bTAwLG91dFsxXT1tMDEsb3V0WzJdPW0xMCxvdXRbM109bTExLG91dH1mdW5jdGlvbiBzZXQob3V0LG0wMCxtMDEsbTEwLG0xMSl7cmV0dXJuIG91dFswXT1tMDAsb3V0WzFdPW0wMSxvdXRbMl09bTEwLG91dFszXT1tMTEsb3V0fWZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsYSl7aWYob3V0PT09YSl7dmFyIGExPWFbMV07b3V0WzFdPWFbMl0sb3V0WzJdPWExfWVsc2Ugb3V0WzBdPWFbMF0sb3V0WzFdPWFbMl0sb3V0WzJdPWFbMV0sb3V0WzNdPWFbM107cmV0dXJuIG91dH1mdW5jdGlvbiBpbnZlcnQob3V0LGEpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGRldD1hMCphMy1hMiphMTtyZXR1cm4gZGV0PyhkZXQ9MS9kZXQsb3V0WzBdPWEzKmRldCxvdXRbMV09LWExKmRldCxvdXRbMl09LWEyKmRldCxvdXRbM109YTAqZGV0LG91dCk6bnVsbH1mdW5jdGlvbiBhZGpvaW50KG91dCxhKXt2YXIgYTA9YVswXTtyZXR1cm4gb3V0WzBdPWFbM10sb3V0WzFdPS1hWzFdLG91dFsyXT0tYVsyXSxvdXRbM109YTAsb3V0fWZ1bmN0aW9uIGRldGVybWluYW50KGEpe3JldHVybiBhWzBdKmFbM10tYVsyXSphWzFdfWZ1bmN0aW9uIG11bHRpcGx5KG91dCxhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGIwPWJbMF0sYjE9YlsxXSxiMj1iWzJdLGIzPWJbM107cmV0dXJuIG91dFswXT1hMCpiMCthMipiMSxvdXRbMV09YTEqYjArYTMqYjEsb3V0WzJdPWEwKmIyK2EyKmIzLG91dFszXT1hMSpiMithMypiMyxvdXR9ZnVuY3Rpb24gcm90YXRlKG91dCxhLHJhZCl7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10scz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPWEwKmMrYTIqcyxvdXRbMV09YTEqYythMypzLG91dFsyXT1hMCotcythMipjLG91dFszXT1hMSotcythMypjLG91dH1mdW5jdGlvbiBzY2FsZShvdXQsYSx2KXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSx2MD12WzBdLHYxPXZbMV07cmV0dXJuIG91dFswXT1hMCp2MCxvdXRbMV09YTEqdjAsb3V0WzJdPWEyKnYxLG91dFszXT1hMyp2MSxvdXR9ZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCxyYWQpe3ZhciBzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YyxvdXRbMV09cyxvdXRbMl09LXMsb3V0WzNdPWMsb3V0fWZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCx2KXtyZXR1cm4gb3V0WzBdPXZbMF0sb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPXZbMV0sb3V0fWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cIm1hdDIoXCIrYVswXStcIiwgXCIrYVsxXStcIiwgXCIrYVsyXStcIiwgXCIrYVszXStcIilcIn1mdW5jdGlvbiBmcm9iKGEpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYVswXSwyKStNYXRoLnBvdyhhWzFdLDIpK01hdGgucG93KGFbMl0sMikrTWF0aC5wb3coYVszXSwyKSl9ZnVuY3Rpb24gTERVKEwsRCxVLGEpe3JldHVybiBMWzJdPWFbMl0vYVswXSxVWzBdPWFbMF0sVVsxXT1hWzFdLFVbM109YVszXS1MWzJdKlVbMV0sW0wsRCxVXX1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXRbMl09YVsyXStiWzJdLG91dFszXT1hWzNdK2JbM10sb3V0fWZ1bmN0aW9uIHN1YnRyYWN0KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS1iWzBdLG91dFsxXT1hWzFdLWJbMV0sb3V0WzJdPWFbMl0tYlsyXSxvdXRbM109YVszXS1iWzNdLG91dH1mdW5jdGlvbiBleGFjdEVxdWFscyhhLGIpe3JldHVybiBhWzBdPT09YlswXSYmYVsxXT09PWJbMV0mJmFbMl09PT1iWzJdJiZhWzNdPT09YlszXX1mdW5jdGlvbiBlcXVhbHMoYSxiKXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXSxiMz1iWzNdO3JldHVybiBNYXRoLmFicyhhMC1iMCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMCksTWF0aC5hYnMoYjApKSYmTWF0aC5hYnMoYTEtYjEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTEpLE1hdGguYWJzKGIxKSkmJk1hdGguYWJzKGEyLWIyKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEyKSxNYXRoLmFicyhiMikpJiZNYXRoLmFicyhhMy1iMyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMyksTWF0aC5hYnMoYjMpKX1mdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYixvdXRbMV09YVsxXSpiLG91dFsyXT1hWzJdKmIsb3V0WzNdPWFbM10qYixvdXR9ZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LGEsYixzY2FsZSl7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0qc2NhbGUsb3V0WzFdPWFbMV0rYlsxXSpzY2FsZSxvdXRbMl09YVsyXStiWzJdKnNjYWxlLG91dFszXT1hWzNdK2JbM10qc2NhbGUsb3V0fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc3ViPWV4cG9ydHMubXVsPXZvaWQgMCxleHBvcnRzLmNyZWF0ZT1jcmVhdGUsZXhwb3J0cy5jbG9uZT1jbG9uZSxleHBvcnRzLmNvcHk9Y29weSxleHBvcnRzLmlkZW50aXR5PWlkZW50aXR5LGV4cG9ydHMuZnJvbVZhbHVlcz1mcm9tVmFsdWVzLGV4cG9ydHMuc2V0PXNldCxleHBvcnRzLnRyYW5zcG9zZT10cmFuc3Bvc2UsZXhwb3J0cy5pbnZlcnQ9aW52ZXJ0LGV4cG9ydHMuYWRqb2ludD1hZGpvaW50LGV4cG9ydHMuZGV0ZXJtaW5hbnQ9ZGV0ZXJtaW5hbnQsZXhwb3J0cy5tdWx0aXBseT1tdWx0aXBseSxleHBvcnRzLnJvdGF0ZT1yb3RhdGUsZXhwb3J0cy5zY2FsZT1zY2FsZSxleHBvcnRzLmZyb21Sb3RhdGlvbj1mcm9tUm90YXRpb24sZXhwb3J0cy5mcm9tU2NhbGluZz1mcm9tU2NhbGluZyxleHBvcnRzLnN0cj1zdHIsZXhwb3J0cy5mcm9iPWZyb2IsZXhwb3J0cy5MRFU9TERVLGV4cG9ydHMuYWRkPWFkZCxleHBvcnRzLnN1YnRyYWN0PXN1YnRyYWN0LGV4cG9ydHMuZXhhY3RFcXVhbHM9ZXhhY3RFcXVhbHMsZXhwb3J0cy5lcXVhbHM9ZXF1YWxzLGV4cG9ydHMubXVsdGlwbHlTY2FsYXI9bXVsdGlwbHlTY2FsYXIsZXhwb3J0cy5tdWx0aXBseVNjYWxhckFuZEFkZD1tdWx0aXBseVNjYWxhckFuZEFkZDt2YXIgX2NvbW1vbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGdsTWF0cml4PWZ1bmN0aW9uKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9KF9jb21tb24pO2V4cG9ydHMubXVsPW11bHRpcGx5LGV4cG9ydHMuc3ViPXN1YnRyYWN0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjcmVhdGUoKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDYpO3JldHVybiBnbE1hdHJpeC5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihvdXRbMV09MCxvdXRbMl09MCxvdXRbNF09MCxvdXRbNV09MCksb3V0WzBdPTEsb3V0WzNdPTEsb3V0fWZ1bmN0aW9uIGNsb25lKGEpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNik7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzNdLG91dFs0XT1hWzRdLG91dFs1XT1hWzVdLG91dH1mdW5jdGlvbiBjb3B5KG91dCxhKXtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0WzNdPWFbM10sb3V0WzRdPWFbNF0sb3V0WzVdPWFbNV0sb3V0fWZ1bmN0aW9uIGlkZW50aXR5KG91dCl7cmV0dXJuIG91dFswXT0xLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0xLG91dFs0XT0wLG91dFs1XT0wLG91dH1mdW5jdGlvbiBmcm9tVmFsdWVzKGEsYixjLGQsdHgsdHkpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNik7cmV0dXJuIG91dFswXT1hLG91dFsxXT1iLG91dFsyXT1jLG91dFszXT1kLG91dFs0XT10eCxvdXRbNV09dHksb3V0fWZ1bmN0aW9uIHNldChvdXQsYSxiLGMsZCx0eCx0eSl7cmV0dXJuIG91dFswXT1hLG91dFsxXT1iLG91dFsyXT1jLG91dFszXT1kLG91dFs0XT10eCxvdXRbNV09dHksb3V0fWZ1bmN0aW9uIGludmVydChvdXQsYSl7dmFyIGFhPWFbMF0sYWI9YVsxXSxhYz1hWzJdLGFkPWFbM10sYXR4PWFbNF0sYXR5PWFbNV0sZGV0PWFhKmFkLWFiKmFjO3JldHVybiBkZXQ/KGRldD0xL2RldCxvdXRbMF09YWQqZGV0LG91dFsxXT0tYWIqZGV0LG91dFsyXT0tYWMqZGV0LG91dFszXT1hYSpkZXQsb3V0WzRdPShhYyphdHktYWQqYXR4KSpkZXQsb3V0WzVdPShhYiphdHgtYWEqYXR5KSpkZXQsb3V0KTpudWxsfWZ1bmN0aW9uIGRldGVybWluYW50KGEpe3JldHVybiBhWzBdKmFbM10tYVsxXSphWzJdfWZ1bmN0aW9uIG11bHRpcGx5KG91dCxhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGE0PWFbNF0sYTU9YVs1XSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXSxiMz1iWzNdLGI0PWJbNF0sYjU9Yls1XTtyZXR1cm4gb3V0WzBdPWEwKmIwK2EyKmIxLG91dFsxXT1hMSpiMCthMypiMSxvdXRbMl09YTAqYjIrYTIqYjMsb3V0WzNdPWExKmIyK2EzKmIzLG91dFs0XT1hMCpiNCthMipiNSthNCxvdXRbNV09YTEqYjQrYTMqYjUrYTUsb3V0fWZ1bmN0aW9uIHJvdGF0ZShvdXQsYSxyYWQpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGE0PWFbNF0sYTU9YVs1XSxzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YTAqYythMipzLG91dFsxXT1hMSpjK2EzKnMsb3V0WzJdPWEwKi1zK2EyKmMsb3V0WzNdPWExKi1zK2EzKmMsb3V0WzRdPWE0LG91dFs1XT1hNSxvdXR9ZnVuY3Rpb24gc2NhbGUob3V0LGEsdil7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10sYTQ9YVs0XSxhNT1hWzVdLHYwPXZbMF0sdjE9dlsxXTtyZXR1cm4gb3V0WzBdPWEwKnYwLG91dFsxXT1hMSp2MCxvdXRbMl09YTIqdjEsb3V0WzNdPWEzKnYxLG91dFs0XT1hNCxvdXRbNV09YTUsb3V0fWZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsYSx2KXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxhND1hWzRdLGE1PWFbNV0sdjA9dlswXSx2MT12WzFdO3JldHVybiBvdXRbMF09YTAsb3V0WzFdPWExLG91dFsyXT1hMixvdXRbM109YTMsb3V0WzRdPWEwKnYwK2EyKnYxK2E0LG91dFs1XT1hMSp2MCthMyp2MSthNSxvdXR9ZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCxyYWQpe3ZhciBzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YyxvdXRbMV09cyxvdXRbMl09LXMsb3V0WzNdPWMsb3V0WzRdPTAsb3V0WzVdPTAsb3V0fWZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCx2KXtyZXR1cm4gb3V0WzBdPXZbMF0sb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPXZbMV0sb3V0WzRdPTAsb3V0WzVdPTAsb3V0fWZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsdil7cmV0dXJuIG91dFswXT0xLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0xLG91dFs0XT12WzBdLG91dFs1XT12WzFdLG91dH1mdW5jdGlvbiBzdHIoYSl7cmV0dXJuXCJtYXQyZChcIithWzBdK1wiLCBcIithWzFdK1wiLCBcIithWzJdK1wiLCBcIithWzNdK1wiLCBcIithWzRdK1wiLCBcIithWzVdK1wiKVwifWZ1bmN0aW9uIGZyb2IoYSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhWzBdLDIpK01hdGgucG93KGFbMV0sMikrTWF0aC5wb3coYVsyXSwyKStNYXRoLnBvdyhhWzNdLDIpK01hdGgucG93KGFbNF0sMikrTWF0aC5wb3coYVs1XSwyKSsxKX1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXRbMl09YVsyXStiWzJdLG91dFszXT1hWzNdK2JbM10sb3V0WzRdPWFbNF0rYls0XSxvdXRbNV09YVs1XStiWzVdLG91dH1mdW5jdGlvbiBzdWJ0cmFjdChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0tYlswXSxvdXRbMV09YVsxXS1iWzFdLG91dFsyXT1hWzJdLWJbMl0sb3V0WzNdPWFbM10tYlszXSxvdXRbNF09YVs0XS1iWzRdLG91dFs1XT1hWzVdLWJbNV0sb3V0fWZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXSpiLG91dFsxXT1hWzFdKmIsb3V0WzJdPWFbMl0qYixvdXRbM109YVszXSpiLG91dFs0XT1hWzRdKmIsb3V0WzVdPWFbNV0qYixvdXR9ZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LGEsYixzY2FsZSl7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0qc2NhbGUsb3V0WzFdPWFbMV0rYlsxXSpzY2FsZSxvdXRbMl09YVsyXStiWzJdKnNjYWxlLG91dFszXT1hWzNdK2JbM10qc2NhbGUsb3V0WzRdPWFbNF0rYls0XSpzY2FsZSxvdXRbNV09YVs1XStiWzVdKnNjYWxlLG91dH1mdW5jdGlvbiBleGFjdEVxdWFscyhhLGIpe3JldHVybiBhWzBdPT09YlswXSYmYVsxXT09PWJbMV0mJmFbMl09PT1iWzJdJiZhWzNdPT09YlszXSYmYVs0XT09PWJbNF0mJmFbNV09PT1iWzVdfWZ1bmN0aW9uIGVxdWFscyhhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGE0PWFbNF0sYTU9YVs1XSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXSxiMz1iWzNdLGI0PWJbNF0sYjU9Yls1XTtyZXR1cm4gTWF0aC5hYnMoYTAtYjApPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTApLE1hdGguYWJzKGIwKSkmJk1hdGguYWJzKGExLWIxKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExKSxNYXRoLmFicyhiMSkpJiZNYXRoLmFicyhhMi1iMik8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMiksTWF0aC5hYnMoYjIpKSYmTWF0aC5hYnMoYTMtYjMpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTMpLE1hdGguYWJzKGIzKSkmJk1hdGguYWJzKGE0LWI0KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE0KSxNYXRoLmFicyhiNCkpJiZNYXRoLmFicyhhNS1iNSk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNSksTWF0aC5hYnMoYjUpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnN1Yj1leHBvcnRzLm11bD12b2lkIDAsZXhwb3J0cy5jcmVhdGU9Y3JlYXRlLGV4cG9ydHMuY2xvbmU9Y2xvbmUsZXhwb3J0cy5jb3B5PWNvcHksZXhwb3J0cy5pZGVudGl0eT1pZGVudGl0eSxleHBvcnRzLmZyb21WYWx1ZXM9ZnJvbVZhbHVlcyxleHBvcnRzLnNldD1zZXQsZXhwb3J0cy5pbnZlcnQ9aW52ZXJ0LGV4cG9ydHMuZGV0ZXJtaW5hbnQ9ZGV0ZXJtaW5hbnQsZXhwb3J0cy5tdWx0aXBseT1tdWx0aXBseSxleHBvcnRzLnJvdGF0ZT1yb3RhdGUsZXhwb3J0cy5zY2FsZT1zY2FsZSxleHBvcnRzLnRyYW5zbGF0ZT10cmFuc2xhdGUsZXhwb3J0cy5mcm9tUm90YXRpb249ZnJvbVJvdGF0aW9uLGV4cG9ydHMuZnJvbVNjYWxpbmc9ZnJvbVNjYWxpbmcsZXhwb3J0cy5mcm9tVHJhbnNsYXRpb249ZnJvbVRyYW5zbGF0aW9uLGV4cG9ydHMuc3RyPXN0cixleHBvcnRzLmZyb2I9ZnJvYixleHBvcnRzLmFkZD1hZGQsZXhwb3J0cy5zdWJ0cmFjdD1zdWJ0cmFjdCxleHBvcnRzLm11bHRpcGx5U2NhbGFyPW11bHRpcGx5U2NhbGFyLGV4cG9ydHMubXVsdGlwbHlTY2FsYXJBbmRBZGQ9bXVsdGlwbHlTY2FsYXJBbmRBZGQsZXhwb3J0cy5leGFjdEVxdWFscz1leGFjdEVxdWFscyxleHBvcnRzLmVxdWFscz1lcXVhbHM7dmFyIF9jb21tb249X193ZWJwYWNrX3JlcXVpcmVfXygzKSxnbE1hdHJpeD1mdW5jdGlvbihvYmope2lmKG9iaiYmb2JqLl9fZXNNb2R1bGUpcmV0dXJuIG9iajt2YXIgbmV3T2JqPXt9O2lmKG51bGwhPW9iailmb3IodmFyIGtleSBpbiBvYmopT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpJiYobmV3T2JqW2tleV09b2JqW2tleV0pO3JldHVybiBuZXdPYmouZGVmYXVsdD1vYmosbmV3T2JqfShfY29tbW9uKTtleHBvcnRzLm11bD1tdWx0aXBseSxleHBvcnRzLnN1Yj1zdWJ0cmFjdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian1mdW5jdGlvbiBjcmVhdGUoKXt2YXIgZHE9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOCk7cmV0dXJuIGdsTWF0cml4LkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKGRxWzBdPTAsZHFbMV09MCxkcVsyXT0wLGRxWzRdPTAsZHFbNV09MCxkcVs2XT0wLGRxWzddPTApLGRxWzNdPTEsZHF9ZnVuY3Rpb24gY2xvbmUoYSl7dmFyIGRxPW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO3JldHVybiBkcVswXT1hWzBdLGRxWzFdPWFbMV0sZHFbMl09YVsyXSxkcVszXT1hWzNdLGRxWzRdPWFbNF0sZHFbNV09YVs1XSxkcVs2XT1hWzZdLGRxWzddPWFbN10sZHF9ZnVuY3Rpb24gZnJvbVZhbHVlcyh4MSx5MSx6MSx3MSx4Mix5Mix6Mix3Mil7dmFyIGRxPW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO3JldHVybiBkcVswXT14MSxkcVsxXT15MSxkcVsyXT16MSxkcVszXT13MSxkcVs0XT14MixkcVs1XT15MixkcVs2XT16MixkcVs3XT13MixkcX1mdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblZhbHVlcyh4MSx5MSx6MSx3MSx4Mix5Mix6Mil7dmFyIGRxPW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO2RxWzBdPXgxLGRxWzFdPXkxLGRxWzJdPXoxLGRxWzNdPXcxO3ZhciBheD0uNSp4MixheT0uNSp5Mixhej0uNSp6MjtyZXR1cm4gZHFbNF09YXgqdzErYXkqejEtYXoqeTEsZHFbNV09YXkqdzErYXoqeDEtYXgqejEsZHFbNl09YXoqdzErYXgqeTEtYXkqeDEsZHFbN109LWF4KngxLWF5KnkxLWF6KnoxLGRxfWZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCxxLHQpe3ZhciBheD0uNSp0WzBdLGF5PS41KnRbMV0sYXo9LjUqdFsyXSxieD1xWzBdLGJ5PXFbMV0sYno9cVsyXSxidz1xWzNdO3JldHVybiBvdXRbMF09Yngsb3V0WzFdPWJ5LG91dFsyXT1ieixvdXRbM109Yncsb3V0WzRdPWF4KmJ3K2F5KmJ6LWF6KmJ5LG91dFs1XT1heSpidytheipieC1heCpieixvdXRbNl09YXoqYncrYXgqYnktYXkqYngsb3V0WzddPS1heCpieC1heSpieS1heipieixvdXR9ZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCx0KXtyZXR1cm4gb3V0WzBdPTAsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTEsb3V0WzRdPS41KnRbMF0sb3V0WzVdPS41KnRbMV0sb3V0WzZdPS41KnRbMl0sb3V0WzddPTAsb3V0fWZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQscSl7cmV0dXJuIG91dFswXT1xWzBdLG91dFsxXT1xWzFdLG91dFsyXT1xWzJdLG91dFszXT1xWzNdLG91dFs0XT0wLG91dFs1XT0wLG91dFs2XT0wLG91dFs3XT0wLG91dH1mdW5jdGlvbiBmcm9tTWF0NChvdXQsYSl7dmFyIG91dGVyPXF1YXQuY3JlYXRlKCk7bWF0NC5nZXRSb3RhdGlvbihvdXRlcixhKTt2YXIgdD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtyZXR1cm4gbWF0NC5nZXRUcmFuc2xhdGlvbih0LGEpLGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCxvdXRlcix0KSxvdXR9ZnVuY3Rpb24gY29weShvdXQsYSl7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzNdLG91dFs0XT1hWzRdLG91dFs1XT1hWzVdLG91dFs2XT1hWzZdLG91dFs3XT1hWzddLG91dH1mdW5jdGlvbiBpZGVudGl0eShvdXQpe3JldHVybiBvdXRbMF09MCxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MSxvdXRbNF09MCxvdXRbNV09MCxvdXRbNl09MCxvdXRbN109MCxvdXR9ZnVuY3Rpb24gc2V0KG91dCx4MSx5MSx6MSx3MSx4Mix5Mix6Mix3Mil7cmV0dXJuIG91dFswXT14MSxvdXRbMV09eTEsb3V0WzJdPXoxLG91dFszXT13MSxvdXRbNF09eDIsb3V0WzVdPXkyLG91dFs2XT16MixvdXRbN109dzIsb3V0fWZ1bmN0aW9uIGdldER1YWwob3V0LGEpe3JldHVybiBvdXRbMF09YVs0XSxvdXRbMV09YVs1XSxvdXRbMl09YVs2XSxvdXRbM109YVs3XSxvdXR9ZnVuY3Rpb24gc2V0RHVhbChvdXQscSl7cmV0dXJuIG91dFs0XT1xWzBdLG91dFs1XT1xWzFdLG91dFs2XT1xWzJdLG91dFs3XT1xWzNdLG91dH1mdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsYSl7dmFyIGF4PWFbNF0sYXk9YVs1XSxhej1hWzZdLGF3PWFbN10sYng9LWFbMF0sYnk9LWFbMV0sYno9LWFbMl0sYnc9YVszXTtyZXR1cm4gb3V0WzBdPTIqKGF4KmJ3K2F3KmJ4K2F5KmJ6LWF6KmJ5KSxvdXRbMV09MiooYXkqYncrYXcqYnkrYXoqYngtYXgqYnopLG91dFsyXT0yKihheipidythdypieitheCpieS1heSpieCksb3V0fWZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsYSx2KXt2YXIgYXgxPWFbMF0sYXkxPWFbMV0sYXoxPWFbMl0sYXcxPWFbM10sYngxPS41KnZbMF0sYnkxPS41KnZbMV0sYnoxPS41KnZbMl0sYXgyPWFbNF0sYXkyPWFbNV0sYXoyPWFbNl0sYXcyPWFbN107cmV0dXJuIG91dFswXT1heDEsb3V0WzFdPWF5MSxvdXRbMl09YXoxLG91dFszXT1hdzEsb3V0WzRdPWF3MSpieDErYXkxKmJ6MS1hejEqYnkxK2F4MixvdXRbNV09YXcxKmJ5MSthejEqYngxLWF4MSpiejErYXkyLG91dFs2XT1hdzEqYnoxK2F4MSpieTEtYXkxKmJ4MSthejIsb3V0WzddPS1heDEqYngxLWF5MSpieTEtYXoxKmJ6MSthdzIsb3V0fWZ1bmN0aW9uIHJvdGF0ZVgob3V0LGEscmFkKXt2YXIgYng9LWFbMF0sYnk9LWFbMV0sYno9LWFbMl0sYnc9YVszXSxheD1hWzRdLGF5PWFbNV0sYXo9YVs2XSxhdz1hWzddLGF4MT1heCpidythdypieCtheSpiei1heipieSxheTE9YXkqYncrYXcqYnkrYXoqYngtYXgqYnosYXoxPWF6KmJ3K2F3KmJ6K2F4KmJ5LWF5KmJ4LGF3MT1hdypidy1heCpieC1heSpieS1heipiejtyZXR1cm4gcXVhdC5yb3RhdGVYKG91dCxhLHJhZCksYng9b3V0WzBdLGJ5PW91dFsxXSxiej1vdXRbMl0sYnc9b3V0WzNdLG91dFs0XT1heDEqYncrYXcxKmJ4K2F5MSpiei1hejEqYnksb3V0WzVdPWF5MSpidythdzEqYnkrYXoxKmJ4LWF4MSpieixvdXRbNl09YXoxKmJ3K2F3MSpieitheDEqYnktYXkxKmJ4LG91dFs3XT1hdzEqYnctYXgxKmJ4LWF5MSpieS1hejEqYnosb3V0fWZ1bmN0aW9uIHJvdGF0ZVkob3V0LGEscmFkKXt2YXIgYng9LWFbMF0sYnk9LWFbMV0sYno9LWFbMl0sYnc9YVszXSxheD1hWzRdLGF5PWFbNV0sYXo9YVs2XSxhdz1hWzddLGF4MT1heCpidythdypieCtheSpiei1heipieSxheTE9YXkqYncrYXcqYnkrYXoqYngtYXgqYnosYXoxPWF6KmJ3K2F3KmJ6K2F4KmJ5LWF5KmJ4LGF3MT1hdypidy1heCpieC1heSpieS1heipiejtyZXR1cm4gcXVhdC5yb3RhdGVZKG91dCxhLHJhZCksYng9b3V0WzBdLGJ5PW91dFsxXSxiej1vdXRbMl0sYnc9b3V0WzNdLG91dFs0XT1heDEqYncrYXcxKmJ4K2F5MSpiei1hejEqYnksb3V0WzVdPWF5MSpidythdzEqYnkrYXoxKmJ4LWF4MSpieixvdXRbNl09YXoxKmJ3K2F3MSpieitheDEqYnktYXkxKmJ4LG91dFs3XT1hdzEqYnctYXgxKmJ4LWF5MSpieS1hejEqYnosb3V0fWZ1bmN0aW9uIHJvdGF0ZVoob3V0LGEscmFkKXt2YXIgYng9LWFbMF0sYnk9LWFbMV0sYno9LWFbMl0sYnc9YVszXSxheD1hWzRdLGF5PWFbNV0sYXo9YVs2XSxhdz1hWzddLGF4MT1heCpidythdypieCtheSpiei1heipieSxheTE9YXkqYncrYXcqYnkrYXoqYngtYXgqYnosYXoxPWF6KmJ3K2F3KmJ6K2F4KmJ5LWF5KmJ4LGF3MT1hdypidy1heCpieC1heSpieS1heipiejtyZXR1cm4gcXVhdC5yb3RhdGVaKG91dCxhLHJhZCksYng9b3V0WzBdLGJ5PW91dFsxXSxiej1vdXRbMl0sYnc9b3V0WzNdLG91dFs0XT1heDEqYncrYXcxKmJ4K2F5MSpiei1hejEqYnksb3V0WzVdPWF5MSpidythdzEqYnkrYXoxKmJ4LWF4MSpieixvdXRbNl09YXoxKmJ3K2F3MSpieitheDEqYnktYXkxKmJ4LG91dFs3XT1hdzEqYnctYXgxKmJ4LWF5MSpieS1hejEqYnosb3V0fWZ1bmN0aW9uIHJvdGF0ZUJ5UXVhdEFwcGVuZChvdXQsYSxxKXt2YXIgcXg9cVswXSxxeT1xWzFdLHF6PXFbMl0scXc9cVszXSxheD1hWzBdLGF5PWFbMV0sYXo9YVsyXSxhdz1hWzNdO3JldHVybiBvdXRbMF09YXgqcXcrYXcqcXgrYXkqcXotYXoqcXksb3V0WzFdPWF5KnF3K2F3KnF5K2F6KnF4LWF4KnF6LG91dFsyXT1heipxdythdypxeitheCpxeS1heSpxeCxvdXRbM109YXcqcXctYXgqcXgtYXkqcXktYXoqcXosYXg9YVs0XSxheT1hWzVdLGF6PWFbNl0sYXc9YVs3XSxvdXRbNF09YXgqcXcrYXcqcXgrYXkqcXotYXoqcXksb3V0WzVdPWF5KnF3K2F3KnF5K2F6KnF4LWF4KnF6LG91dFs2XT1heipxdythdypxeitheCpxeS1heSpxeCxvdXRbN109YXcqcXctYXgqcXgtYXkqcXktYXoqcXosb3V0fWZ1bmN0aW9uIHJvdGF0ZUJ5UXVhdFByZXBlbmQob3V0LHEsYSl7dmFyIHF4PXFbMF0scXk9cVsxXSxxej1xWzJdLHF3PXFbM10sYng9YVswXSxieT1hWzFdLGJ6PWFbMl0sYnc9YVszXTtyZXR1cm4gb3V0WzBdPXF4KmJ3K3F3KmJ4K3F5KmJ6LXF6KmJ5LG91dFsxXT1xeSpidytxdypieStxeipieC1xeCpieixvdXRbMl09cXoqYncrcXcqYnorcXgqYnktcXkqYngsb3V0WzNdPXF3KmJ3LXF4KmJ4LXF5KmJ5LXF6KmJ6LGJ4PWFbNF0sYnk9YVs1XSxiej1hWzZdLGJ3PWFbN10sb3V0WzRdPXF4KmJ3K3F3KmJ4K3F5KmJ6LXF6KmJ5LG91dFs1XT1xeSpidytxdypieStxeipieC1xeCpieixvdXRbNl09cXoqYncrcXcqYnorcXgqYnktcXkqYngsb3V0WzddPXF3KmJ3LXF4KmJ4LXF5KmJ5LXF6KmJ6LG91dH1mdW5jdGlvbiByb3RhdGVBcm91bmRBeGlzKG91dCxhLGF4aXMscmFkKXtpZihNYXRoLmFicyhyYWQpPGdsTWF0cml4LkVQU0lMT04pcmV0dXJuIGNvcHkob3V0LGEpO3ZhciBheGlzTGVuZ3RoPU1hdGguc3FydChheGlzWzBdKmF4aXNbMF0rYXhpc1sxXSpheGlzWzFdK2F4aXNbMl0qYXhpc1syXSk7cmFkKj0uNTt2YXIgcz1NYXRoLnNpbihyYWQpLGJ4PXMqYXhpc1swXS9heGlzTGVuZ3RoLGJ5PXMqYXhpc1sxXS9heGlzTGVuZ3RoLGJ6PXMqYXhpc1syXS9heGlzTGVuZ3RoLGJ3PU1hdGguY29zKHJhZCksYXgxPWFbMF0sYXkxPWFbMV0sYXoxPWFbMl0sYXcxPWFbM107b3V0WzBdPWF4MSpidythdzEqYngrYXkxKmJ6LWF6MSpieSxvdXRbMV09YXkxKmJ3K2F3MSpieSthejEqYngtYXgxKmJ6LG91dFsyXT1hejEqYncrYXcxKmJ6K2F4MSpieS1heTEqYngsb3V0WzNdPWF3MSpidy1heDEqYngtYXkxKmJ5LWF6MSpiejt2YXIgYXg9YVs0XSxheT1hWzVdLGF6PWFbNl0sYXc9YVs3XTtyZXR1cm4gb3V0WzRdPWF4KmJ3K2F3KmJ4K2F5KmJ6LWF6KmJ5LG91dFs1XT1heSpidythdypieStheipieC1heCpieixvdXRbNl09YXoqYncrYXcqYnorYXgqYnktYXkqYngsb3V0WzddPWF3KmJ3LWF4KmJ4LWF5KmJ5LWF6KmJ6LG91dH1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXRbMl09YVsyXStiWzJdLG91dFszXT1hWzNdK2JbM10sb3V0WzRdPWFbNF0rYls0XSxvdXRbNV09YVs1XStiWzVdLG91dFs2XT1hWzZdK2JbNl0sb3V0WzddPWFbN10rYls3XSxvdXR9ZnVuY3Rpb24gbXVsdGlwbHkob3V0LGEsYil7dmFyIGF4MD1hWzBdLGF5MD1hWzFdLGF6MD1hWzJdLGF3MD1hWzNdLGJ4MT1iWzRdLGJ5MT1iWzVdLGJ6MT1iWzZdLGJ3MT1iWzddLGF4MT1hWzRdLGF5MT1hWzVdLGF6MT1hWzZdLGF3MT1hWzddLGJ4MD1iWzBdLGJ5MD1iWzFdLGJ6MD1iWzJdLGJ3MD1iWzNdO3JldHVybiBvdXRbMF09YXgwKmJ3MCthdzAqYngwK2F5MCpiejAtYXowKmJ5MCxvdXRbMV09YXkwKmJ3MCthdzAqYnkwK2F6MCpieDAtYXgwKmJ6MCxvdXRbMl09YXowKmJ3MCthdzAqYnowK2F4MCpieTAtYXkwKmJ4MCxvdXRbM109YXcwKmJ3MC1heDAqYngwLWF5MCpieTAtYXowKmJ6MCxvdXRbNF09YXgwKmJ3MSthdzAqYngxK2F5MCpiejEtYXowKmJ5MStheDEqYncwK2F3MSpieDArYXkxKmJ6MC1hejEqYnkwLG91dFs1XT1heTAqYncxK2F3MCpieTErYXowKmJ4MS1heDAqYnoxK2F5MSpidzArYXcxKmJ5MCthejEqYngwLWF4MSpiejAsb3V0WzZdPWF6MCpidzErYXcwKmJ6MStheDAqYnkxLWF5MCpieDErYXoxKmJ3MCthdzEqYnowK2F4MSpieTAtYXkxKmJ4MCxvdXRbN109YXcwKmJ3MS1heDAqYngxLWF5MCpieTEtYXowKmJ6MSthdzEqYncwLWF4MSpieDAtYXkxKmJ5MC1hejEqYnowLG91dH1mdW5jdGlvbiBzY2FsZShvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYixvdXRbMV09YVsxXSpiLG91dFsyXT1hWzJdKmIsb3V0WzNdPWFbM10qYixvdXRbNF09YVs0XSpiLG91dFs1XT1hWzVdKmIsb3V0WzZdPWFbNl0qYixvdXRbN109YVs3XSpiLG91dH1mdW5jdGlvbiBsZXJwKG91dCxhLGIsdCl7dmFyIG10PTEtdDtyZXR1cm4gZG90KGEsYik8MCYmKHQ9LXQpLG91dFswXT1hWzBdKm10K2JbMF0qdCxvdXRbMV09YVsxXSptdCtiWzFdKnQsb3V0WzJdPWFbMl0qbXQrYlsyXSp0LG91dFszXT1hWzNdKm10K2JbM10qdCxvdXRbNF09YVs0XSptdCtiWzRdKnQsb3V0WzVdPWFbNV0qbXQrYls1XSp0LG91dFs2XT1hWzZdKm10K2JbNl0qdCxvdXRbN109YVs3XSptdCtiWzddKnQsb3V0fWZ1bmN0aW9uIGludmVydChvdXQsYSl7dmFyIHNxbGVuPXNxdWFyZWRMZW5ndGgoYSk7cmV0dXJuIG91dFswXT0tYVswXS9zcWxlbixvdXRbMV09LWFbMV0vc3FsZW4sb3V0WzJdPS1hWzJdL3NxbGVuLG91dFszXT1hWzNdL3NxbGVuLG91dFs0XT0tYVs0XS9zcWxlbixvdXRbNV09LWFbNV0vc3FsZW4sb3V0WzZdPS1hWzZdL3NxbGVuLG91dFs3XT1hWzddL3NxbGVuLG91dH1mdW5jdGlvbiBjb25qdWdhdGUob3V0LGEpe3JldHVybiBvdXRbMF09LWFbMF0sb3V0WzFdPS1hWzFdLG91dFsyXT0tYVsyXSxvdXRbM109YVszXSxvdXRbNF09LWFbNF0sb3V0WzVdPS1hWzVdLG91dFs2XT0tYVs2XSxvdXRbN109YVs3XSxvdXR9ZnVuY3Rpb24gbm9ybWFsaXplKG91dCxhKXt2YXIgbWFnbml0dWRlPXNxdWFyZWRMZW5ndGgoYSk7aWYobWFnbml0dWRlPjApe21hZ25pdHVkZT1NYXRoLnNxcnQobWFnbml0dWRlKTt2YXIgYTA9YVswXS9tYWduaXR1ZGUsYTE9YVsxXS9tYWduaXR1ZGUsYTI9YVsyXS9tYWduaXR1ZGUsYTM9YVszXS9tYWduaXR1ZGUsYjA9YVs0XSxiMT1hWzVdLGIyPWFbNl0sYjM9YVs3XSxhX2RvdF9iPWEwKmIwK2ExKmIxK2EyKmIyK2EzKmIzO291dFswXT1hMCxvdXRbMV09YTEsb3V0WzJdPWEyLG91dFszXT1hMyxvdXRbNF09KGIwLWEwKmFfZG90X2IpL21hZ25pdHVkZSxvdXRbNV09KGIxLWExKmFfZG90X2IpL21hZ25pdHVkZSxvdXRbNl09KGIyLWEyKmFfZG90X2IpL21hZ25pdHVkZSxvdXRbN109KGIzLWEzKmFfZG90X2IpL21hZ25pdHVkZX1yZXR1cm4gb3V0fWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cInF1YXQyKFwiK2FbMF0rXCIsIFwiK2FbMV0rXCIsIFwiK2FbMl0rXCIsIFwiK2FbM10rXCIsIFwiK2FbNF0rXCIsIFwiK2FbNV0rXCIsIFwiK2FbNl0rXCIsIFwiK2FbN10rXCIpXCJ9ZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSxiKXtyZXR1cm4gYVswXT09PWJbMF0mJmFbMV09PT1iWzFdJiZhWzJdPT09YlsyXSYmYVszXT09PWJbM10mJmFbNF09PT1iWzRdJiZhWzVdPT09Yls1XSYmYVs2XT09PWJbNl0mJmFbN109PT1iWzddfWZ1bmN0aW9uIGVxdWFscyhhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGE0PWFbNF0sYTU9YVs1XSxhNj1hWzZdLGE3PWFbN10sYjA9YlswXSxiMT1iWzFdLGIyPWJbMl0sYjM9YlszXSxiND1iWzRdLGI1PWJbNV0sYjY9Yls2XSxiNz1iWzddO3JldHVybiBNYXRoLmFicyhhMC1iMCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMCksTWF0aC5hYnMoYjApKSYmTWF0aC5hYnMoYTEtYjEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTEpLE1hdGguYWJzKGIxKSkmJk1hdGguYWJzKGEyLWIyKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEyKSxNYXRoLmFicyhiMikpJiZNYXRoLmFicyhhMy1iMyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMyksTWF0aC5hYnMoYjMpKSYmTWF0aC5hYnMoYTQtYjQpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTQpLE1hdGguYWJzKGI0KSkmJk1hdGguYWJzKGE1LWI1KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE1KSxNYXRoLmFicyhiNSkpJiZNYXRoLmFicyhhNi1iNik8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNiksTWF0aC5hYnMoYjYpKSYmTWF0aC5hYnMoYTctYjcpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTcpLE1hdGguYWJzKGI3KSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zcXJMZW49ZXhwb3J0cy5zcXVhcmVkTGVuZ3RoPWV4cG9ydHMubGVuPWV4cG9ydHMubGVuZ3RoPWV4cG9ydHMuZG90PWV4cG9ydHMubXVsPWV4cG9ydHMuc2V0UmVhbD1leHBvcnRzLmdldFJlYWw9dm9pZCAwLGV4cG9ydHMuY3JlYXRlPWNyZWF0ZSxleHBvcnRzLmNsb25lPWNsb25lLGV4cG9ydHMuZnJvbVZhbHVlcz1mcm9tVmFsdWVzLGV4cG9ydHMuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25WYWx1ZXM9ZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25WYWx1ZXMsZXhwb3J0cy5mcm9tUm90YXRpb25UcmFuc2xhdGlvbj1mcm9tUm90YXRpb25UcmFuc2xhdGlvbixleHBvcnRzLmZyb21UcmFuc2xhdGlvbj1mcm9tVHJhbnNsYXRpb24sZXhwb3J0cy5mcm9tUm90YXRpb249ZnJvbVJvdGF0aW9uLGV4cG9ydHMuZnJvbU1hdDQ9ZnJvbU1hdDQsZXhwb3J0cy5jb3B5PWNvcHksZXhwb3J0cy5pZGVudGl0eT1pZGVudGl0eSxleHBvcnRzLnNldD1zZXQsZXhwb3J0cy5nZXREdWFsPWdldER1YWwsZXhwb3J0cy5zZXREdWFsPXNldER1YWwsZXhwb3J0cy5nZXRUcmFuc2xhdGlvbj1nZXRUcmFuc2xhdGlvbixleHBvcnRzLnRyYW5zbGF0ZT10cmFuc2xhdGUsZXhwb3J0cy5yb3RhdGVYPXJvdGF0ZVgsZXhwb3J0cy5yb3RhdGVZPXJvdGF0ZVksZXhwb3J0cy5yb3RhdGVaPXJvdGF0ZVosZXhwb3J0cy5yb3RhdGVCeVF1YXRBcHBlbmQ9cm90YXRlQnlRdWF0QXBwZW5kLGV4cG9ydHMucm90YXRlQnlRdWF0UHJlcGVuZD1yb3RhdGVCeVF1YXRQcmVwZW5kLGV4cG9ydHMucm90YXRlQXJvdW5kQXhpcz1yb3RhdGVBcm91bmRBeGlzLGV4cG9ydHMuYWRkPWFkZCxleHBvcnRzLm11bHRpcGx5PW11bHRpcGx5LGV4cG9ydHMuc2NhbGU9c2NhbGUsZXhwb3J0cy5sZXJwPWxlcnAsZXhwb3J0cy5pbnZlcnQ9aW52ZXJ0LGV4cG9ydHMuY29uanVnYXRlPWNvbmp1Z2F0ZSxleHBvcnRzLm5vcm1hbGl6ZT1ub3JtYWxpemUsZXhwb3J0cy5zdHI9c3RyLGV4cG9ydHMuZXhhY3RFcXVhbHM9ZXhhY3RFcXVhbHMsZXhwb3J0cy5lcXVhbHM9ZXF1YWxzO3ZhciBfY29tbW9uPV9fd2VicGFja19yZXF1aXJlX18oMyksZ2xNYXRyaXg9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvbW1vbiksX3F1YXQ9X193ZWJwYWNrX3JlcXVpcmVfXygyMCkscXVhdD1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcXVhdCksX21hdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSxtYXQ0PV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9tYXQpLGRvdD0oZXhwb3J0cy5nZXRSZWFsPXF1YXQuY29weSxleHBvcnRzLnNldFJlYWw9cXVhdC5jb3B5LGV4cG9ydHMubXVsPW11bHRpcGx5LGV4cG9ydHMuZG90PXF1YXQuZG90KSxsZW5ndGg9ZXhwb3J0cy5sZW5ndGg9cXVhdC5sZW5ndGgsc3F1YXJlZExlbmd0aD0oZXhwb3J0cy5sZW49bGVuZ3RoLGV4cG9ydHMuc3F1YXJlZExlbmd0aD1xdWF0LnNxdWFyZWRMZW5ndGgpO2V4cG9ydHMuc3FyTGVuPXNxdWFyZWRMZW5ndGh9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNyZWF0ZSgpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7cmV0dXJuIGdsTWF0cml4LkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKG91dFswXT0wLG91dFsxXT0wKSxvdXR9ZnVuY3Rpb24gY2xvbmUoYSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgyKTtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0fWZ1bmN0aW9uIGZyb21WYWx1ZXMoeCx5KXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDIpO3JldHVybiBvdXRbMF09eCxvdXRbMV09eSxvdXR9ZnVuY3Rpb24gY29weShvdXQsYSl7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dH1mdW5jdGlvbiBzZXQob3V0LHgseSl7cmV0dXJuIG91dFswXT14LG91dFsxXT15LG91dH1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXR9ZnVuY3Rpb24gc3VidHJhY3Qob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdLWJbMF0sb3V0WzFdPWFbMV0tYlsxXSxvdXR9ZnVuY3Rpb24gbXVsdGlwbHkob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdKmJbMF0sb3V0WzFdPWFbMV0qYlsxXSxvdXR9ZnVuY3Rpb24gZGl2aWRlKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS9iWzBdLG91dFsxXT1hWzFdL2JbMV0sb3V0fWZ1bmN0aW9uIGNlaWwob3V0LGEpe3JldHVybiBvdXRbMF09TWF0aC5jZWlsKGFbMF0pLG91dFsxXT1NYXRoLmNlaWwoYVsxXSksb3V0fWZ1bmN0aW9uIGZsb29yKG91dCxhKXtyZXR1cm4gb3V0WzBdPU1hdGguZmxvb3IoYVswXSksb3V0WzFdPU1hdGguZmxvb3IoYVsxXSksb3V0fWZ1bmN0aW9uIG1pbihvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPU1hdGgubWluKGFbMF0sYlswXSksb3V0WzFdPU1hdGgubWluKGFbMV0sYlsxXSksb3V0fWZ1bmN0aW9uIG1heChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPU1hdGgubWF4KGFbMF0sYlswXSksb3V0WzFdPU1hdGgubWF4KGFbMV0sYlsxXSksb3V0fWZ1bmN0aW9uIHJvdW5kKG91dCxhKXtyZXR1cm4gb3V0WzBdPU1hdGgucm91bmQoYVswXSksb3V0WzFdPU1hdGgucm91bmQoYVsxXSksb3V0fWZ1bmN0aW9uIHNjYWxlKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXSpiLG91dFsxXT1hWzFdKmIsb3V0fWZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCxhLGIsc2NhbGUpe3JldHVybiBvdXRbMF09YVswXStiWzBdKnNjYWxlLG91dFsxXT1hWzFdK2JbMV0qc2NhbGUsb3V0fWZ1bmN0aW9uIGRpc3RhbmNlKGEsYil7dmFyIHg9YlswXS1hWzBdLHk9YlsxXS1hWzFdO3JldHVybiBNYXRoLnNxcnQoeCp4K3kqeSl9ZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsYil7dmFyIHg9YlswXS1hWzBdLHk9YlsxXS1hWzFdO3JldHVybiB4KngreSp5fWZ1bmN0aW9uIGxlbmd0aChhKXt2YXIgeD1hWzBdLHk9YVsxXTtyZXR1cm4gTWF0aC5zcXJ0KHgqeCt5KnkpfWZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSl7dmFyIHg9YVswXSx5PWFbMV07cmV0dXJuIHgqeCt5Knl9ZnVuY3Rpb24gbmVnYXRlKG91dCxhKXtyZXR1cm4gb3V0WzBdPS1hWzBdLG91dFsxXT0tYVsxXSxvdXR9ZnVuY3Rpb24gaW52ZXJzZShvdXQsYSl7cmV0dXJuIG91dFswXT0xL2FbMF0sb3V0WzFdPTEvYVsxXSxvdXR9ZnVuY3Rpb24gbm9ybWFsaXplKG91dCxhKXt2YXIgeD1hWzBdLHk9YVsxXSxsZW49eCp4K3kqeTtyZXR1cm4gbGVuPjAmJihsZW49MS9NYXRoLnNxcnQobGVuKSxvdXRbMF09YVswXSpsZW4sb3V0WzFdPWFbMV0qbGVuKSxvdXR9ZnVuY3Rpb24gZG90KGEsYil7cmV0dXJuIGFbMF0qYlswXSthWzFdKmJbMV19ZnVuY3Rpb24gY3Jvc3Mob3V0LGEsYil7dmFyIHo9YVswXSpiWzFdLWFbMV0qYlswXTtyZXR1cm4gb3V0WzBdPW91dFsxXT0wLG91dFsyXT16LG91dH1mdW5jdGlvbiBsZXJwKG91dCxhLGIsdCl7dmFyIGF4PWFbMF0sYXk9YVsxXTtyZXR1cm4gb3V0WzBdPWF4K3QqKGJbMF0tYXgpLG91dFsxXT1heSt0KihiWzFdLWF5KSxvdXR9ZnVuY3Rpb24gcmFuZG9tKG91dCxzY2FsZSl7c2NhbGU9c2NhbGV8fDE7dmFyIHI9MipnbE1hdHJpeC5SQU5ET00oKSpNYXRoLlBJO3JldHVybiBvdXRbMF09TWF0aC5jb3Mocikqc2NhbGUsb3V0WzFdPU1hdGguc2luKHIpKnNjYWxlLG91dH1mdW5jdGlvbiB0cmFuc2Zvcm1NYXQyKG91dCxhLG0pe3ZhciB4PWFbMF0seT1hWzFdO3JldHVybiBvdXRbMF09bVswXSp4K21bMl0qeSxvdXRbMV09bVsxXSp4K21bM10qeSxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtTWF0MmQob3V0LGEsbSl7dmFyIHg9YVswXSx5PWFbMV07cmV0dXJuIG91dFswXT1tWzBdKngrbVsyXSp5K21bNF0sb3V0WzFdPW1bMV0qeCttWzNdKnkrbVs1XSxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsYSxtKXt2YXIgeD1hWzBdLHk9YVsxXTtyZXR1cm4gb3V0WzBdPW1bMF0qeCttWzNdKnkrbVs2XSxvdXRbMV09bVsxXSp4K21bNF0qeSttWzddLG91dH1mdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCxhLG0pe3ZhciB4PWFbMF0seT1hWzFdO3JldHVybiBvdXRbMF09bVswXSp4K21bNF0qeSttWzEyXSxvdXRbMV09bVsxXSp4K21bNV0qeSttWzEzXSxvdXR9ZnVuY3Rpb24gcm90YXRlKG91dCxhLGIsYyl7dmFyIHAwPWFbMF0tYlswXSxwMT1hWzFdLWJbMV0sc2luQz1NYXRoLnNpbihjKSxjb3NDPU1hdGguY29zKGMpO3JldHVybiBvdXRbMF09cDAqY29zQy1wMSpzaW5DK2JbMF0sb3V0WzFdPXAwKnNpbkMrcDEqY29zQytiWzFdLG91dH1mdW5jdGlvbiBhbmdsZShhLGIpe3ZhciB4MT1hWzBdLHkxPWFbMV0seDI9YlswXSx5Mj1iWzFdLGxlbjE9eDEqeDEreTEqeTE7bGVuMT4wJiYobGVuMT0xL01hdGguc3FydChsZW4xKSk7dmFyIGxlbjI9eDIqeDIreTIqeTI7bGVuMj4wJiYobGVuMj0xL01hdGguc3FydChsZW4yKSk7dmFyIGNvc2luZT0oeDEqeDIreTEqeTIpKmxlbjEqbGVuMjtyZXR1cm4gY29zaW5lPjE/MDpjb3NpbmU8LTE/TWF0aC5QSTpNYXRoLmFjb3MoY29zaW5lKX1mdW5jdGlvbiBzdHIoYSl7cmV0dXJuXCJ2ZWMyKFwiK2FbMF0rXCIsIFwiK2FbMV0rXCIpXCJ9ZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSxiKXtyZXR1cm4gYVswXT09PWJbMF0mJmFbMV09PT1iWzFdfWZ1bmN0aW9uIGVxdWFscyhhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYjA9YlswXSxiMT1iWzFdO3JldHVybiBNYXRoLmFicyhhMC1iMCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMCksTWF0aC5hYnMoYjApKSYmTWF0aC5hYnMoYTEtYjEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTEpLE1hdGguYWJzKGIxKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5mb3JFYWNoPWV4cG9ydHMuc3FyTGVuPWV4cG9ydHMuc3FyRGlzdD1leHBvcnRzLmRpc3Q9ZXhwb3J0cy5kaXY9ZXhwb3J0cy5tdWw9ZXhwb3J0cy5zdWI9ZXhwb3J0cy5sZW49dm9pZCAwLGV4cG9ydHMuY3JlYXRlPWNyZWF0ZSxleHBvcnRzLmNsb25lPWNsb25lLGV4cG9ydHMuZnJvbVZhbHVlcz1mcm9tVmFsdWVzLGV4cG9ydHMuY29weT1jb3B5LGV4cG9ydHMuc2V0PXNldCxleHBvcnRzLmFkZD1hZGQsZXhwb3J0cy5zdWJ0cmFjdD1zdWJ0cmFjdCxleHBvcnRzLm11bHRpcGx5PW11bHRpcGx5LGV4cG9ydHMuZGl2aWRlPWRpdmlkZSxleHBvcnRzLmNlaWw9Y2VpbCxleHBvcnRzLmZsb29yPWZsb29yLGV4cG9ydHMubWluPW1pbixleHBvcnRzLm1heD1tYXgsZXhwb3J0cy5yb3VuZD1yb3VuZCxleHBvcnRzLnNjYWxlPXNjYWxlLGV4cG9ydHMuc2NhbGVBbmRBZGQ9c2NhbGVBbmRBZGQsZXhwb3J0cy5kaXN0YW5jZT1kaXN0YW5jZSxleHBvcnRzLnNxdWFyZWREaXN0YW5jZT1zcXVhcmVkRGlzdGFuY2UsZXhwb3J0cy5sZW5ndGg9bGVuZ3RoLGV4cG9ydHMuc3F1YXJlZExlbmd0aD1zcXVhcmVkTGVuZ3RoLGV4cG9ydHMubmVnYXRlPW5lZ2F0ZSxleHBvcnRzLmludmVyc2U9aW52ZXJzZSxleHBvcnRzLm5vcm1hbGl6ZT1ub3JtYWxpemUsZXhwb3J0cy5kb3Q9ZG90LGV4cG9ydHMuY3Jvc3M9Y3Jvc3MsZXhwb3J0cy5sZXJwPWxlcnAsZXhwb3J0cy5yYW5kb209cmFuZG9tLGV4cG9ydHMudHJhbnNmb3JtTWF0Mj10cmFuc2Zvcm1NYXQyLGV4cG9ydHMudHJhbnNmb3JtTWF0MmQ9dHJhbnNmb3JtTWF0MmQsZXhwb3J0cy50cmFuc2Zvcm1NYXQzPXRyYW5zZm9ybU1hdDMsZXhwb3J0cy50cmFuc2Zvcm1NYXQ0PXRyYW5zZm9ybU1hdDQsZXhwb3J0cy5yb3RhdGU9cm90YXRlLGV4cG9ydHMuYW5nbGU9YW5nbGUsZXhwb3J0cy5zdHI9c3RyLGV4cG9ydHMuZXhhY3RFcXVhbHM9ZXhhY3RFcXVhbHMsZXhwb3J0cy5lcXVhbHM9ZXF1YWxzO3ZhciBfY29tbW9uPV9fd2VicGFja19yZXF1aXJlX18oMyksZ2xNYXRyaXg9ZnVuY3Rpb24ob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian0oX2NvbW1vbik7ZXhwb3J0cy5sZW49bGVuZ3RoLGV4cG9ydHMuc3ViPXN1YnRyYWN0LGV4cG9ydHMubXVsPW11bHRpcGx5LGV4cG9ydHMuZGl2PWRpdmlkZSxleHBvcnRzLmRpc3Q9ZGlzdGFuY2UsZXhwb3J0cy5zcXJEaXN0PXNxdWFyZWREaXN0YW5jZSxleHBvcnRzLnNxckxlbj1zcXVhcmVkTGVuZ3RoLGV4cG9ydHMuZm9yRWFjaD1mdW5jdGlvbigpe3ZhciB2ZWM9Y3JlYXRlKCk7cmV0dXJuIGZ1bmN0aW9uKGEsc3RyaWRlLG9mZnNldCxjb3VudCxmbixhcmcpe3ZhciBpPXZvaWQgMCxsPXZvaWQgMDtmb3Ioc3RyaWRlfHwoc3RyaWRlPTIpLG9mZnNldHx8KG9mZnNldD0wKSxsPWNvdW50P01hdGgubWluKGNvdW50KnN0cmlkZStvZmZzZXQsYS5sZW5ndGgpOmEubGVuZ3RoLGk9b2Zmc2V0O2k8bDtpKz1zdHJpZGUpdmVjWzBdPWFbaV0sdmVjWzFdPWFbaSsxXSxmbih2ZWMsdmVjLGFyZyksYVtpXT12ZWNbMF0sYVtpKzFdPXZlY1sxXTtyZXR1cm4gYX19KCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGdldEFuZEFwcGx5RXh0ZW5zaW9uKGdsLG5hbWUpe3ZhciBleHQ9Z2wuZ2V0RXh0ZW5zaW9uKG5hbWUpO2lmKCFleHQpcmV0dXJuITE7dmFyIHN1ZmZpeD1uYW1lLnNwbGl0KFwiX1wiKVswXSxzdWZmaXhSRT1uZXcgUmVnRXhwKHN1ZmZpeCtcIiRcIik7Zm9yKHZhciBrZXkgaW4gZXh0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBleHRba2V5XSl7dmFyIHVuc3VmZml4ZWRLZXk9a2V5LnJlcGxhY2Uoc3VmZml4UkUsXCJcIik7a2V5LnN1YnN0cmluZyYmKGdsW3Vuc3VmZml4ZWRLZXldPWV4dFtrZXldLmJpbmQoZXh0KSl9fXJldHVybiEwfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD1nZXRBbmRBcHBseUV4dGVuc2lvbn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfV2ViZ2xDb25zdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSxfV2ViZ2xDb25zdDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViZ2xDb25zdCksZXhwb3NlQXR0cmlidXRlcz1mdW5jdGlvbigpe2Zvcih2YXIgcyBpbiBfV2ViZ2xDb25zdDIuZGVmYXVsdClfR0xUb29sMi5kZWZhdWx0W3NdP2NvbnNvbGUubG9nKFwiYWxyZWFkeSBleGlzdCA6IFwiLHMpOl9HTFRvb2wyLmRlZmF1bHRbc109X1dlYmdsQ29uc3QyLmRlZmF1bHRbc119O2V4cG9ydHMuZGVmYXVsdD1leHBvc2VBdHRyaWJ1dGVzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjaGVja0Zsb2F0KCl7cmV0dXJuIF9HTFRvb2wyLmRlZmF1bHQud2ViZ2wyP19HTFRvb2wyLmRlZmF1bHQuZ2wuRkxPQVQ6X0dMVG9vbDIuZGVmYXVsdC5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9mbG9hdFwiKT9fR0xUb29sMi5kZWZhdWx0LmdsLkZMT0FUOihjb25zb2xlLndhcm4oXCJVU0lORyBGTE9BVCBCVVQgT0VTX3RleHR1cmVfZmxvYXQgTk9UIFNVUFBPUlRFRFwiKSxfR0xUb29sMi5kZWZhdWx0LmdsLlVOU0lHTkVEX0JZVEUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiBoYXNDaGVja2VkfHwoX2Zsb2F0PWNoZWNrRmxvYXQoKSksX2Zsb2F0fTt2YXIgX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9HTFRvb2wpLGhhc0NoZWNrZWQ9ITEsX2Zsb2F0PXZvaWQgMH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY2hlY2tIYWxmRmxvYXQoKXtpZihfR0xUb29sMi5kZWZhdWx0LndlYmdsMilyZXR1cm4gX0dMVG9vbDIuZGVmYXVsdC5nbC5IQUxGX0ZMT0FUO3ZhciBleHRIYWxmRmxvYXQ9X0dMVG9vbDIuZGVmYXVsdC5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XCIpO3JldHVybiBleHRIYWxmRmxvYXQ/ZXh0SGFsZkZsb2F0LkhBTEZfRkxPQVRfT0VTOihjb25zb2xlLndhcm4oXCJVU0lORyBIQUxGIEZMT0FUIEJVVCBPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IE5PVCBTVVBQT1JURURcIiksX0dMVG9vbDIuZGVmYXVsdC5nbC5VTlNJR05FRF9CWVRFKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gaGFzQ2hlY2tlZHx8KGhhbGZGbG9hdD1jaGVja0hhbGZGbG9hdCgpKSxoYWxmRmxvYXR9O3ZhciBfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX0dMVG9vbCksaGFzQ2hlY2tlZD0hMSxoYWxmRmxvYXQ9dm9pZCAwfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9W1wiRVhUX3NoYWRlcl90ZXh0dXJlX2xvZFwiLFwiRVhUX3NSR0JcIixcIkVYVF9mcmFnX2RlcHRoXCIsXCJPRVNfdGV4dHVyZV9mbG9hdFwiLFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwiLFwiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyXCIsXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhclwiLFwiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzXCIsXCJXRUJHTF9kZXB0aF90ZXh0dXJlXCIsXCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIixcIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XCIsXCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzXCIsXCJXRUJHTF9kcmF3X2J1ZmZlcnNcIl19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHN0cmluZ3Mpe1wic3RyaW5nXCI9PXR5cGVvZiBzdHJpbmdzJiYoc3RyaW5ncz1bc3RyaW5nc10pO2Zvcih2YXIgZXhwcnM9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscGFydHM9W10saT0wO2k8c3RyaW5ncy5sZW5ndGgtMTtpKyspcGFydHMucHVzaChzdHJpbmdzW2ldLGV4cHJzW2ldfHxcIlwiKTtyZXR1cm4gcGFydHMucHVzaChzdHJpbmdzW2ldKSxwYXJ0cy5qb2luKFwiXCIpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gYmFzaWMuZnJhZ1xcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgQkFTSUNfRlJBR01FTlRcXG5cXG5wcmVjaXNpb24gbG93cCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gZmxvYXQgdGltZTtcXG4vLyB1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQodlRleHR1cmVDb29yZCwgc2luKHRpbWUpICogLjUgKyAuNSwgMS4wKTtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGlzUG93ZXJPZlR3byh4KXtyZXR1cm4gMCE9PXgmJiEoeCZ4LTEpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX0dMVG9vbCksZ2V0VGV4dHVyZVBhcmFtZXRlcnM9ZnVuY3Rpb24obVBhcmFtcyxtU291cmNlLG1XaWR0aCxtSGVpZ2h0KXtpZighbVBhcmFtcy5taW5GaWx0ZXIpe3ZhciBtaW5GaWx0ZXI9X0dMVG9vbDIuZGVmYXVsdC5MSU5FQVI7bVdpZHRoJiZtV2lkdGgmJmlzUG93ZXJPZlR3byhtV2lkdGgpJiZpc1Bvd2VyT2ZUd28obUhlaWdodCkmJihtaW5GaWx0ZXI9X0dMVG9vbDIuZGVmYXVsdC5ORUFSRVNUX01JUE1BUF9MSU5FQVIpLG1QYXJhbXMubWluRmlsdGVyPW1pbkZpbHRlcn1yZXR1cm4gbVBhcmFtcy5taXBtYXA9bVBhcmFtcy5taXBtYXB8fCEwLG1QYXJhbXMubWFnRmlsdGVyPW1QYXJhbXMubWFnRmlsdGVyfHxfR0xUb29sMi5kZWZhdWx0LkxJTkVBUixtUGFyYW1zLndyYXBTPW1QYXJhbXMud3JhcFN8fF9HTFRvb2wyLmRlZmF1bHQuQ0xBTVBfVE9fRURHRSxtUGFyYW1zLndyYXBUPW1QYXJhbXMud3JhcFR8fF9HTFRvb2wyLmRlZmF1bHQuQ0xBTVBfVE9fRURHRSxtUGFyYW1zLmludGVybmFsRm9ybWF0PW1QYXJhbXMuaW50ZXJuYWxGb3JtYXR8fF9HTFRvb2wyLmRlZmF1bHQuUkdCQSxtUGFyYW1zLmZvcm1hdD1tUGFyYW1zLmZvcm1hdHx8X0dMVG9vbDIuZGVmYXVsdC5SR0JBLG1QYXJhbXMucHJlbXVsdGlwbHlBbHBoYT1tUGFyYW1zLnByZW11bHRpcGx5QWxwaGF8fCExLG1QYXJhbXMubGV2ZWw9bVBhcmFtcy5sZXZlbHx8MCxtUGFyYW1zfTtleHBvcnRzLmRlZmF1bHQ9Z2V0VGV4dHVyZVBhcmFtZXRlcnN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHBhcnNlSGVhZGVycyhhcnJheUJ1ZmZlcil7dmFyIGhlYWRlcj1uZXcgSW50MzJBcnJheShhcnJheUJ1ZmZlciwwLGhlYWRlckxlbmd0aEludCk7aWYoaGVhZGVyW29mZl9tYWdpY10hPT1ERFNfTUFHSUMpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBtYWdpYyBudW1iZXIgaW4gRERTIGhlYWRlclwiKTtpZighaGVhZGVyW29mZl9wZkZsYWdzXSZERFBGX0ZPVVJDQyl0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBmb3JtYXQsIG11c3QgY29udGFpbiBhIEZvdXJDQyBjb2RlXCIpO3ZhciBibG9ja0J5dGVzLGZvcm1hdCxmb3VyQ0M9aGVhZGVyW29mZl9wZkZvdXJDQ107c3dpdGNoKGZvdXJDQyl7Y2FzZSBGT1VSQ0NfRFhUMTpibG9ja0J5dGVzPTgsZm9ybWF0PVwiZHh0MVwiO2JyZWFrO2Nhc2UgRk9VUkNDX0RYVDM6YmxvY2tCeXRlcz0xNixmb3JtYXQ9XCJkeHQzXCI7YnJlYWs7Y2FzZSBGT1VSQ0NfRFhUNTpibG9ja0J5dGVzPTE2LGZvcm1hdD1cImR4dDVcIjticmVhaztjYXNlIEZPVVJDQ19GUDMyRjpmb3JtYXQ9XCJyZ2JhMzJmXCI7YnJlYWs7Y2FzZSBGT1VSQ0NfRFgxMDp2YXIgZHgxMEhlYWRlcj1uZXcgVWludDMyQXJyYXkoYXJyYXlCdWZmZXIuc2xpY2UoMTI4LDE0OCkpO2Zvcm1hdD1keDEwSGVhZGVyWzBdO3ZhciByZXNvdXJjZURpbWVuc2lvbj1keDEwSGVhZGVyWzFdO2R4MTBIZWFkZXJbMl0sZHgxMEhlYWRlclszXSxkeDEwSGVhZGVyWzRdO2lmKHJlc291cmNlRGltZW5zaW9uIT09RDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OX1RFWFRVUkUyRHx8Zm9ybWF0IT09RFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX0ZMT0FUKXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIERYMTAgdGV4dHVyZSBmb3JtYXQgXCIrZm9ybWF0KTtmb3JtYXQ9XCJyZ2JhMzJmXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBGb3VyQ0MgY29kZTogXCIraW50MzJUb0ZvdXJDQyhmb3VyQ0MpKX12YXIgZmxhZ3M9aGVhZGVyW29mZl9mbGFnc10sbWlwbWFwQ291bnQ9MTtmbGFncyZERFNEX01JUE1BUENPVU5UJiYobWlwbWFwQ291bnQ9TWF0aC5tYXgoMSxoZWFkZXJbb2ZmX21pcG1hcENvdW50XSkpO3ZhciBjdWJlbWFwPSExO2hlYWRlcltvZmZfY2FwczJdJkREU0NBUFMyX0NVQkVNQVAmJihjdWJlbWFwPSEwKTt2YXIgZGF0YUxlbmd0aCx3aWR0aD1oZWFkZXJbb2ZmX3dpZHRoXSxoZWlnaHQ9aGVhZGVyW29mZl9oZWlnaHRdLGRhdGFPZmZzZXQ9aGVhZGVyW29mZl9zaXplXSs0LHRleFdpZHRoPXdpZHRoLHRleEhlaWdodD1oZWlnaHQsaW1hZ2VzPVtdO2lmKGZvdXJDQz09PUZPVVJDQ19EWDEwJiYoZGF0YU9mZnNldCs9MjApLGN1YmVtYXApZm9yKHZhciBmPTA7Zjw2O2YrKyl7aWYoXCJyZ2JhMzJmXCIhPT1mb3JtYXQpdGhyb3cgbmV3IEVycm9yKFwiT25seSBSR0JBMzJmIGN1YmVtYXBzIGFyZSBzdXBwb3J0ZWRcIik7d2lkdGg9dGV4V2lkdGgsaGVpZ2h0PXRleEhlaWdodDtmb3IodmFyIHJlcXVpcmVkTWlwTGV2ZWxzPU1hdGgubG9nKHdpZHRoKS9NYXRoLmxvZygyKSsxLGk9MDtpPHJlcXVpcmVkTWlwTGV2ZWxzO2krKylkYXRhTGVuZ3RoPXdpZHRoKmhlaWdodCoxNixpbWFnZXMucHVzaCh7b2Zmc2V0OmRhdGFPZmZzZXQsbGVuZ3RoOmRhdGFMZW5ndGgsc2hhcGU6W3dpZHRoLGhlaWdodF19KSxpPG1pcG1hcENvdW50JiYoZGF0YU9mZnNldCs9ZGF0YUxlbmd0aCksd2lkdGg9TWF0aC5mbG9vcih3aWR0aC8yKSxoZWlnaHQ9TWF0aC5mbG9vcihoZWlnaHQvMil9ZWxzZSBmb3IodmFyIGk9MDtpPG1pcG1hcENvdW50O2krKylkYXRhTGVuZ3RoPU1hdGgubWF4KDQsd2lkdGgpLzQqTWF0aC5tYXgoNCxoZWlnaHQpLzQqYmxvY2tCeXRlcyxpbWFnZXMucHVzaCh7b2Zmc2V0OmRhdGFPZmZzZXQsbGVuZ3RoOmRhdGFMZW5ndGgsc2hhcGU6W3dpZHRoLGhlaWdodF19KSxkYXRhT2Zmc2V0Kz1kYXRhTGVuZ3RoLHdpZHRoPU1hdGguZmxvb3Iod2lkdGgvMiksaGVpZ2h0PU1hdGguZmxvb3IoaGVpZ2h0LzIpO3JldHVybntzaGFwZTpbdGV4V2lkdGgsdGV4SGVpZ2h0XSxpbWFnZXM6aW1hZ2VzLGZvcm1hdDpmb3JtYXQsZmxhZ3M6ZmxhZ3MsY3ViZW1hcDpjdWJlbWFwfX1mdW5jdGlvbiBmb3VyQ0NUb0ludDMyKHZhbHVlKXtyZXR1cm4gdmFsdWUuY2hhckNvZGVBdCgwKSsodmFsdWUuY2hhckNvZGVBdCgxKTw8OCkrKHZhbHVlLmNoYXJDb2RlQXQoMik8PDE2KSsodmFsdWUuY2hhckNvZGVBdCgzKTw8MjQpfWZ1bmN0aW9uIGludDMyVG9Gb3VyQ0ModmFsdWUpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZ2YWx1ZSx2YWx1ZT4+OCYyNTUsdmFsdWU+PjE2JjI1NSx2YWx1ZT4+MjQmMjU1KX12YXIgRERTX01BR0lDPTU0MjMyNzg3NixERFNEX01JUE1BUENPVU5UPTEzMTA3MixERFBGX0ZPVVJDQz00LEZPVVJDQ19EWFQxPWZvdXJDQ1RvSW50MzIoXCJEWFQxXCIpLEZPVVJDQ19EWFQzPWZvdXJDQ1RvSW50MzIoXCJEWFQzXCIpLEZPVVJDQ19EWFQ1PWZvdXJDQ1RvSW50MzIoXCJEWFQ1XCIpLEZPVVJDQ19EWDEwPWZvdXJDQ1RvSW50MzIoXCJEWDEwXCIpLEZPVVJDQ19GUDMyRj0xMTYsRERTQ0FQUzJfQ1VCRU1BUD01MTIsRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OX1RFWFRVUkUyRD0zLERYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9GTE9BVD0yLGhlYWRlckxlbmd0aEludD0zMSxvZmZfbWFnaWM9MCxvZmZfc2l6ZT0xLG9mZl9mbGFncz0yLG9mZl9oZWlnaHQ9MyxvZmZfd2lkdGg9NCxvZmZfbWlwbWFwQ291bnQ9NyxvZmZfcGZGbGFncz0yMCxvZmZfcGZGb3VyQ0M9MjEsb2ZmX2NhcHMyPTI4O21vZHVsZS5leHBvcnRzPXBhcnNlSGVhZGVyc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9HTEN1YmVUZXh0dXJlPV9fd2VicGFja19yZXF1aXJlX18oMjcpLF9HTEN1YmVUZXh0dXJlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTEN1YmVUZXh0dXJlKSxnbD12b2lkIDAsQ3ViZUZyYW1lQnVmZmVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ3ViZUZyYW1lQnVmZmVyKHNpemUpe3ZhciBtUGFyYW1ldGVycz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ3ViZUZyYW1lQnVmZmVyKSxnbD1fR0xUb29sMi5kZWZhdWx0LmdsLHRoaXMuX3NpemU9c2l6ZSx0aGlzLm1hZ0ZpbHRlcj1tUGFyYW1ldGVycy5tYWdGaWx0ZXJ8fGdsLkxJTkVBUix0aGlzLm1pbkZpbHRlcj1tUGFyYW1ldGVycy5taW5GaWx0ZXJ8fGdsLkxJTkVBUix0aGlzLndyYXBTPW1QYXJhbWV0ZXJzLndyYXBTfHxnbC5DTEFNUF9UT19FREdFLHRoaXMud3JhcFQ9bVBhcmFtZXRlcnMud3JhcFR8fGdsLkNMQU1QX1RPX0VER0UsdGhpcy5faW5pdCgpfXJldHVybiBfY3JlYXRlQ2xhc3MoQ3ViZUZyYW1lQnVmZmVyLFt7a2V5OlwiX2luaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudGV4dHVyZT1nbC5jcmVhdGVUZXh0dXJlKCksdGhpcy5nbFRleHR1cmU9bmV3IF9HTEN1YmVUZXh0dXJlMi5kZWZhdWx0KHRoaXMudGV4dHVyZSx7fSwhMCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCx0aGlzLnRleHR1cmUpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5tYWdGaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5taW5GaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX1dSQVBfUyx0aGlzLndyYXBTKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy53cmFwVCk7Zm9yKHZhciB0YXJnZXRzPVtnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1gsZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YLGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWSxnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1ksZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aLGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWl0saT0wO2k8dGFyZ2V0cy5sZW5ndGg7aSsrKWdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsITEpLGdsLnRleEltYWdlMkQodGFyZ2V0c1tpXSwwLGdsLlJHQkEsdGhpcy53aWR0aCx0aGlzLmhlaWdodCwwLGdsLlJHQkEsZ2wuRkxPQVQsbnVsbCk7dGhpcy5fZnJhbWVCdWZmZXJzPVtdO2Zvcih2YXIgX2k9MDtfaTx0YXJnZXRzLmxlbmd0aDtfaSsrKXt2YXIgZnJhbWVCdWZmZXI9Z2wuY3JlYXRlRnJhbWVidWZmZXIoKTtnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsZnJhbWVCdWZmZXIpLGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLGdsLkNPTE9SX0FUVEFDSE1FTlQwLHRhcmdldHNbX2ldLHRoaXMudGV4dHVyZSwwKTt2YXIgc3RhdHVzPWdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpO3N0YXR1cyE9PWdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFJiZjb25zb2xlLmxvZyhcIidnbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKCkgcmV0dXJuZWQgJ1wiK3N0YXR1cyksdGhpcy5fZnJhbWVCdWZmZXJzLnB1c2goZnJhbWVCdWZmZXIpfWdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUixudWxsKSxnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUixudWxsKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpfX0se2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbihtVGFyZ2V0SW5kZXgpe19HTFRvb2wyLmRlZmF1bHQudmlld3BvcnQoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUix0aGlzLl9mcmFtZUJ1ZmZlcnNbbVRhcmdldEluZGV4XSl9fSx7a2V5OlwidW5iaW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXtnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsbnVsbCksX0dMVG9vbDIuZGVmYXVsdC52aWV3cG9ydCgwLDAsX0dMVG9vbDIuZGVmYXVsdC53aWR0aCxfR0xUb29sMi5kZWZhdWx0LmhlaWdodCl9fSx7a2V5OlwiZ2V0VGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2xUZXh0dXJlfX0se2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemV9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemV9fV0pLEN1YmVGcmFtZUJ1ZmZlcn0oKTtleHBvcnRzLmRlZmF1bHQ9Q3ViZUZyYW1lQnVmZmVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaXNQb3dlck9mVHdvKHgpe3JldHVybiAwIT09eCYmISh4JngtMSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX0dMVGV4dHVyZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSxfR0xUZXh0dXJlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRleHR1cmUpLGdsPXZvaWQgMCxNdWx0aXNhbXBsZUZyYW1lQnVmZmVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTXVsdGlzYW1wbGVGcmFtZUJ1ZmZlcihtV2lkdGgsbUhlaWdodCl7dmFyIG1QYXJhbWV0ZXJzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxNdWx0aXNhbXBsZUZyYW1lQnVmZmVyKSxnbD1fR0xUb29sMi5kZWZhdWx0LmdsLHRoaXMud2lkdGg9bVdpZHRoLHRoaXMuaGVpZ2h0PW1IZWlnaHQsdGhpcy5tYWdGaWx0ZXI9bVBhcmFtZXRlcnMubWFnRmlsdGVyfHxnbC5MSU5FQVIsdGhpcy5taW5GaWx0ZXI9bVBhcmFtZXRlcnMubWluRmlsdGVyfHxnbC5MSU5FQVIsdGhpcy53cmFwUz1tUGFyYW1ldGVycy53cmFwU3x8Z2wuQ0xBTVBfVE9fRURHRSx0aGlzLndyYXBUPW1QYXJhbWV0ZXJzLndyYXBUfHxnbC5DTEFNUF9UT19FREdFLHRoaXMudXNlRGVwdGg9bVBhcmFtZXRlcnMudXNlRGVwdGh8fCEwLHRoaXMudXNlU3RlbmNpbD1tUGFyYW1ldGVycy51c2VTdGVuY2lsfHwhMSx0aGlzLnRleGVsVHlwZT1tUGFyYW1ldGVycy50eXBlLHRoaXMuX251bVNhbXBsZT1tUGFyYW1ldGVycy5udW1TYW1wbGV8fDgsaXNQb3dlck9mVHdvKHRoaXMud2lkdGgpJiZpc1Bvd2VyT2ZUd28odGhpcy5oZWlnaHQpfHwodGhpcy53cmFwUz10aGlzLndyYXBUPWdsLkNMQU1QX1RPX0VER0UsdGhpcy5taW5GaWx0ZXI9PT1nbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QmJih0aGlzLm1pbkZpbHRlcj1nbC5MSU5FQVIpKSx0aGlzLl9pbml0KCl9cmV0dXJuIF9jcmVhdGVDbGFzcyhNdWx0aXNhbXBsZUZyYW1lQnVmZmVyLFt7a2V5OlwiX2luaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0ZXhlbFR5cGU9Z2wuVU5TSUdORURfQllURTt0aGlzLnRleGVsVHlwZSYmKHRleGVsVHlwZT10aGlzLnRleGVsVHlwZSksdGhpcy50ZXhlbFR5cGU9dGV4ZWxUeXBlLHRoaXMuZnJhbWVCdWZmZXI9Z2wuY3JlYXRlRnJhbWVidWZmZXIoKSx0aGlzLmZyYW1lQnVmZmVyQ29sb3I9Z2wuY3JlYXRlRnJhbWVidWZmZXIoKSx0aGlzLnJlbmRlckJ1ZmZlckNvbG9yPWdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLHRoaXMucmVuZGVyQnVmZmVyRGVwdGg9Z2wuY3JlYXRlUmVuZGVyYnVmZmVyKCksdGhpcy5nbFRleHR1cmU9dGhpcy5fY3JlYXRlVGV4dHVyZSgpLHRoaXMuZ2xEZXB0aFRleHR1cmU9dGhpcy5fY3JlYXRlVGV4dHVyZShnbC5ERVBUSF9DT01QT05FTlQxNixnbC5VTlNJR05FRF9TSE9SVCxnbC5ERVBUSF9DT01QT05FTlQsITApLGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLHRoaXMucmVuZGVyQnVmZmVyQ29sb3IpLGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsdGhpcy5fbnVtU2FtcGxlLGdsLlJHQkE4LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLHRoaXMucmVuZGVyQnVmZmVyRGVwdGgpLGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsdGhpcy5fbnVtU2FtcGxlLGdsLkRFUFRIX0NPTVBPTkVOVDE2LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUix0aGlzLmZyYW1lQnVmZmVyKSxnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUixnbC5DT0xPUl9BVFRBQ0hNRU5UMCxnbC5SRU5ERVJCVUZGRVIsdGhpcy5yZW5kZXJCdWZmZXJDb2xvciksZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsZ2wuREVQVEhfQVRUQUNITUVOVCxnbC5SRU5ERVJCVUZGRVIsdGhpcy5yZW5kZXJCdWZmZXJEZXB0aCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUix0aGlzLmZyYW1lQnVmZmVyQ29sb3IpLGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLGdsLkNPTE9SX0FUVEFDSE1FTlQwLGdsLlRFWFRVUkVfMkQsdGhpcy5nbFRleHR1cmUudGV4dHVyZSwwKSxnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsbnVsbCl9fSx7a2V5OlwiX2NyZWF0ZVRleHR1cmVcIix2YWx1ZTpmdW5jdGlvbihtSW50ZXJuYWxmb3JtYXQsbVRleGVsVHlwZSxtRm9ybWF0KXt2YXIgZm9yY2VOZWFyZXN0PWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107dm9pZCAwPT09bUludGVybmFsZm9ybWF0JiYobUludGVybmFsZm9ybWF0PWdsLlJHQkEpLHZvaWQgMD09PW1UZXhlbFR5cGUmJihtVGV4ZWxUeXBlPXRoaXMudGV4ZWxUeXBlKSxtRm9ybWF0fHwobUZvcm1hdD1tSW50ZXJuYWxmb3JtYXQpO3ZhciB0PWdsLmNyZWF0ZVRleHR1cmUoKSxnbHQ9bmV3IF9HTFRleHR1cmUyLmRlZmF1bHQodCwhMCksbWFnRmlsdGVyPWZvcmNlTmVhcmVzdD9fR0xUb29sMi5kZWZhdWx0Lk5FQVJFU1Q6dGhpcy5tYWdGaWx0ZXIsbWluRmlsdGVyPWZvcmNlTmVhcmVzdD9fR0xUb29sMi5kZWZhdWx0Lk5FQVJFU1Q6dGhpcy5taW5GaWx0ZXI7cmV0dXJuIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdCksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUFHX0ZJTFRFUixtYWdGaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01JTl9GSUxURVIsbWluRmlsdGVyKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy53cmFwUyksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9ULHRoaXMud3JhcFQpLGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwwLG1JbnRlcm5hbGZvcm1hdCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDAsbUZvcm1hdCxtVGV4ZWxUeXBlLG51bGwpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCksZ2x0fX0se2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbigpeyghKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdKSYmX0dMVG9vbDIuZGVmYXVsdC52aWV3cG9ydCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLHRoaXMuZnJhbWVCdWZmZXIpfX0se2tleTpcInVuYmluZFwiLHZhbHVlOmZ1bmN0aW9uKCl7KCEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0pJiZfR0xUb29sMi5kZWZhdWx0LnZpZXdwb3J0KDAsMCxfR0xUb29sMi5kZWZhdWx0LndpZHRoLF9HTFRvb2wyLmRlZmF1bHQuaGVpZ2h0KTt2YXIgd2lkdGg9dGhpcy53aWR0aCxoZWlnaHQ9dGhpcy5oZWlnaHQ7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5SRUFEX0ZSQU1FQlVGRkVSLHRoaXMuZnJhbWVCdWZmZXIpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5EUkFXX0ZSQU1FQlVGRkVSLHRoaXMuZnJhbWVCdWZmZXJDb2xvciksZ2wuY2xlYXJCdWZmZXJmdihnbC5DT0xPUiwwLFswLDAsMCwwXSksZ2wuYmxpdEZyYW1lYnVmZmVyKDAsMCx3aWR0aCxoZWlnaHQsMCwwLHdpZHRoLGhlaWdodCxnbC5DT0xPUl9CVUZGRVJfQklULF9HTFRvb2wyLmRlZmF1bHQuTkVBUkVTVCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpfX0se2tleTpcImdldFRleHR1cmVcIix2YWx1ZTpmdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZ2xUZXh0dXJlfX0se2tleTpcImdldERlcHRoVGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2xEZXB0aFRleHR1cmV9fV0pLE11bHRpc2FtcGxlRnJhbWVCdWZmZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PU11bHRpc2FtcGxlRnJhbWVCdWZmZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfTWVzaD1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLF9NZXNoMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKSxnbD12b2lkIDAsVHJhbnNmb3JtRmVlZGJhY2tPYmplY3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBUcmFuc2Zvcm1GZWVkYmFja09iamVjdChzdHJWZXJ0ZXhTaGFkZXIsc3RyRnJhZ21lbnRTaGFkZXIpe19jbGFzc0NhbGxDaGVjayh0aGlzLFRyYW5zZm9ybUZlZWRiYWNrT2JqZWN0KSxnbD1fR0xUb29sMi5kZWZhdWx0LmdsLHRoaXMuX3ZzPXN0clZlcnRleFNoYWRlcix0aGlzLl9mcz1zdHJGcmFnbWVudFNoYWRlcix0aGlzLl9pbml0KCl9cmV0dXJuIF9jcmVhdGVDbGFzcyhUcmFuc2Zvcm1GZWVkYmFja09iamVjdCxbe2tleTpcIl9pbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9tZXNoQ3VycmVudD1uZXcgX01lc2gyLmRlZmF1bHQsdGhpcy5fbWVzaFRhcmdldD1uZXcgX01lc2gyLmRlZmF1bHQsdGhpcy5fbnVtUG9pbnRzPS0xLHRoaXMuX3ZhcnlpbmdzPVtdLHRoaXMudHJhbnNmb3JtRmVlZGJhY2s9Z2wuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKX19LHtrZXk6XCJidWZmZXJEYXRhXCIsdmFsdWU6ZnVuY3Rpb24obURhdGEsbU5hbWUsbVZhcnlpbmdOYW1lKXt2YXIgaXNUcmFuc2Zvcm1GZWVkYmFjaz0hIW1WYXJ5aW5nTmFtZTtjb25zb2xlLmxvZyhcImlzIFRyYW5zZm9ybSBmZWVkYmFjayA/XCIsbU5hbWUsaXNUcmFuc2Zvcm1GZWVkYmFjayksdGhpcy5fbWVzaEN1cnJlbnQuYnVmZmVyRGF0YShtRGF0YSxtTmFtZSxudWxsLGdsLlNUUkVBTV9DT1BZLCExKSx0aGlzLl9tZXNoVGFyZ2V0LmJ1ZmZlckRhdGEobURhdGEsbU5hbWUsbnVsbCxnbC5TVFJFQU1fQ09QWSwhMSksaXNUcmFuc2Zvcm1GZWVkYmFjayYmKHRoaXMuX3ZhcnlpbmdzLnB1c2gobVZhcnlpbmdOYW1lKSx0aGlzLl9udW1Qb2ludHM8MCYmKHRoaXMuX251bVBvaW50cz1tRGF0YS5sZW5ndGgpKX19LHtrZXk6XCJidWZmZXJJbmRleFwiLHZhbHVlOmZ1bmN0aW9uKG1BcnJheUluZGljZXMpe3RoaXMuX21lc2hDdXJyZW50LmJ1ZmZlckluZGV4KG1BcnJheUluZGljZXMpLHRoaXMuX21lc2hUYXJnZXQuYnVmZmVySW5kZXgobUFycmF5SW5kaWNlcyl9fSx7a2V5OlwidW5pZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKG1OYW1lLG1UeXBlLG1WYWx1ZSl7dGhpcy5zaGFkZXImJnRoaXMuc2hhZGVyLnVuaWZvcm0obU5hbWUsbVR5cGUsbVZhbHVlKX19LHtrZXk6XCJnZW5lcmF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdCh0aGlzLl92cyx0aGlzLl9mcyx0aGlzLl92YXJ5aW5ncyl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNoYWRlcnx8dGhpcy5nZW5lcmF0ZSgpLHRoaXMuc2hhZGVyLmJpbmQoKSxfR0xUb29sMi5kZWZhdWx0LmRyYXdUcmFuc2Zvcm1GZWVkYmFjayh0aGlzKSx0aGlzLl9zd2FwKCl9fSx7a2V5OlwiX3N3YXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0bXA9dGhpcy5fbWVzaEN1cnJlbnQ7dGhpcy5fbWVzaEN1cnJlbnQ9dGhpcy5fbWVzaFRhcmdldCx0aGlzLl9tZXNoVGFyZ2V0PXRtcH19LHtrZXk6XCJudW1Qb2ludHNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbnVtUG9pbnRzfX0se2tleTpcIm1lc2hDdXJyZW50XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc2hDdXJyZW50fX0se2tleTpcIm1lc2hUYXJnZXRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzaFRhcmdldH19LHtrZXk6XCJtZXNoU291cmNlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc2hDdXJyZW50fX0se2tleTpcIm1lc2hEZXN0aW5hdGlvblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNoVGFyZ2V0fX1dKSxUcmFuc2Zvcm1GZWVkYmFja09iamVjdH0oKTtleHBvcnRzLmRlZmF1bHQ9VHJhbnNmb3JtRmVlZGJhY2tPYmplY3R9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9zY2hlZHVsaW5nPV9fd2VicGFja19yZXF1aXJlX18oNCksX3NjaGVkdWxpbmcyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9zY2hlZHVsaW5nKSxTcHJpbmdOdW1iZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTcHJpbmdOdW1iZXIobVZhbHVlKXt2YXIgX3RoaXM9dGhpcyxtU3BlZWQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOi4xLG1EZWNyZWFzZVJhdGU9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOi45O19jbGFzc0NhbGxDaGVjayh0aGlzLFNwcmluZ051bWJlciksdGhpcy5fdmFsdWU9bVZhbHVlLHRoaXMuX3RhcmdldFZhbHVlPW1WYWx1ZSx0aGlzLnNwZWVkPW1TcGVlZCx0aGlzLmRlY3JlYXNlUmF0ZT1tRGVjcmVhc2VSYXRlLHRoaXMuX3ZlbG9jaXR5PTAsdGhpcy5fZWZJbmRleD1fc2NoZWR1bGluZzIuZGVmYXVsdC5hZGRFRihmdW5jdGlvbigpe3JldHVybiBfdGhpcy5fdXBkYXRlKCl9KX1yZXR1cm4gX2NyZWF0ZUNsYXNzKFNwcmluZ051bWJlcixbe2tleTpcIl91cGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuX2NoZWNrTGltaXQoKSxNYXRoLmFicyh0aGlzLl90YXJnZXRWYWx1ZS10aGlzLl92YWx1ZSk8MWUtNClyZXR1cm4gdm9pZCh0aGlzLl92YWx1ZT10aGlzLl90YXJnZXRWYWx1ZSk7dGhpcy5fdmVsb2NpdHkrPSh0aGlzLl90YXJnZXRWYWx1ZS10aGlzLl92YWx1ZSkqdGhpcy5zcGVlZCx0aGlzLl92YWx1ZSs9dGhpcy5fdmVsb2NpdHksdGhpcy5fdmVsb2NpdHkqPXRoaXMuZGVjcmVhc2VSYXRlLE1hdGguYWJzKHRoaXMuX3RhcmdldFZhbHVlLXRoaXMuX3ZhbHVlKTwxZS00JiYodGhpcy5fdmFsdWU9dGhpcy5fdGFyZ2V0VmFsdWUpfX0se2tleTpcImxpbWl0XCIsdmFsdWU6ZnVuY3Rpb24obU1pbixtTWF4KXtpZihtTWluPm1NYXgpcmV0dXJuIHZvaWQgdGhpcy5saW1pdChtTWF4LG1NaW4pO3RoaXMuX21pbj1tTWluLHRoaXMuX21heD1tTWF4LHRoaXMuX2NoZWNrTGltaXQoKX19LHtrZXk6XCJfY2hlY2tMaW1pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fbWluJiZ0aGlzLl90YXJnZXRWYWx1ZTx0aGlzLl9taW4mJih0aGlzLl90YXJnZXRWYWx1ZT10aGlzLl9taW4pLHZvaWQgMCE9PXRoaXMuX21heCYmdGhpcy5fdGFyZ2V0VmFsdWU+dGhpcy5fbWF4JiYodGhpcy5fdGFyZ2V0VmFsdWU9dGhpcy5fbWF4KX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXtfc2NoZWR1bGluZzIuZGVmYXVsdC5yZW1vdmVFRih0aGlzLl9lZkluZGV4KX19LHtrZXk6XCJ2YWx1ZVwiLHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3RhcmdldFZhbHVlPW1WYWx1ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfX1dKSxTcHJpbmdOdW1iZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PVNwcmluZ051bWJlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gZ2V0RnVuYyhtRWFzaW5nKXtzd2l0Y2gobUVhc2luZyl7ZGVmYXVsdDpjYXNlXCJsaW5lYXJcIjpyZXR1cm4gRWFzaW5nLkxpbmVhci5Ob25lO2Nhc2VcImV4cEluXCI6cmV0dXJuIEVhc2luZy5FeHBvbmVudGlhbC5JbjtjYXNlXCJleHBPdXRcIjpyZXR1cm4gRWFzaW5nLkV4cG9uZW50aWFsLk91dDtjYXNlXCJleHBJbk91dFwiOnJldHVybiBFYXNpbmcuRXhwb25lbnRpYWwuSW5PdXQ7Y2FzZVwiY3ViaWNJblwiOnJldHVybiBFYXNpbmcuQ3ViaWMuSW47Y2FzZVwiY3ViaWNPdXRcIjpyZXR1cm4gRWFzaW5nLkN1YmljLk91dDtjYXNlXCJjdWJpY0luT3V0XCI6cmV0dXJuIEVhc2luZy5DdWJpYy5Jbk91dDtjYXNlXCJxdWFydGljSW5cIjpyZXR1cm4gRWFzaW5nLlF1YXJ0aWMuSW47Y2FzZVwicXVhcnRpY091dFwiOnJldHVybiBFYXNpbmcuUXVhcnRpYy5PdXQ7Y2FzZVwicXVhcnRpY0luT3V0XCI6cmV0dXJuIEVhc2luZy5RdWFydGljLkluT3V0O2Nhc2VcInF1aW50aWNJblwiOnJldHVybiBFYXNpbmcuUXVpbnRpYy5JbjtjYXNlXCJxdWludGljT3V0XCI6cmV0dXJuIEVhc2luZy5RdWludGljLk91dDtjYXNlXCJxdWludGljSW5PdXRcIjpyZXR1cm4gRWFzaW5nLlF1aW50aWMuSW5PdXQ7Y2FzZVwic2ludXNvaWRhbEluXCI6cmV0dXJuIEVhc2luZy5TaW51c29pZGFsLkluO2Nhc2VcInNpbnVzb2lkYWxPdXRcIjpyZXR1cm4gRWFzaW5nLlNpbnVzb2lkYWwuT3V0O2Nhc2VcInNpbnVzb2lkYWxJbk91dFwiOnJldHVybiBFYXNpbmcuU2ludXNvaWRhbC5Jbk91dDtjYXNlXCJjaXJjdWxhckluXCI6cmV0dXJuIEVhc2luZy5DaXJjdWxhci5JbjtjYXNlXCJjaXJjdWxhck91dFwiOnJldHVybiBFYXNpbmcuQ2lyY3VsYXIuT3V0O2Nhc2VcImNpcmN1bGFySW5PdXRcIjpyZXR1cm4gRWFzaW5nLkNpcmN1bGFyLkluT3V0O2Nhc2VcImVsYXN0aWNJblwiOnJldHVybiBFYXNpbmcuRWxhc3RpYy5JbjtjYXNlXCJlbGFzdGljT3V0XCI6cmV0dXJuIEVhc2luZy5FbGFzdGljLk91dDtjYXNlXCJlbGFzdGljSW5PdXRcIjpyZXR1cm4gRWFzaW5nLkVsYXN0aWMuSW5PdXQ7Y2FzZVwiYmFja0luXCI6cmV0dXJuIEVhc2luZy5CYWNrLkluO2Nhc2VcImJhY2tPdXRcIjpyZXR1cm4gRWFzaW5nLkJhY2suT3V0O2Nhc2VcImJhY2tJbk91dFwiOnJldHVybiBFYXNpbmcuQmFjay5Jbk91dDtjYXNlXCJib3VuY2VJblwiOnJldHVybiBFYXNpbmcuQm91bmNlLmluO2Nhc2VcImJvdW5jZU91dFwiOnJldHVybiBFYXNpbmcuQm91bmNlLm91dDtjYXNlXCJib3VuY2VJbk91dFwiOnJldHVybiBFYXNpbmcuQm91bmNlLmluT3V0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfc2NoZWR1bGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9zY2hlZHVsaW5nMj1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfc2NoZWR1bGluZyksRWFzaW5nPXtMaW5lYXI6e05vbmU6ZnVuY3Rpb24oayl7cmV0dXJuIGt9fSxRdWFkcmF0aWM6e0luOmZ1bmN0aW9uKGspe3JldHVybiBrKmt9LE91dDpmdW5jdGlvbihrKXtyZXR1cm4gayooMi1rKX0sSW5PdXQ6ZnVuY3Rpb24oayl7cmV0dXJuKGsqPTIpPDE/LjUqayprOi0uNSooLS1rKihrLTIpLTEpfX0sQ3ViaWM6e0luOmZ1bmN0aW9uKGspe3JldHVybiBrKmsqa30sT3V0OmZ1bmN0aW9uKGspe3JldHVybi0tayprKmsrMX0sSW5PdXQ6ZnVuY3Rpb24oayl7cmV0dXJuKGsqPTIpPDE/LjUqayprKms6LjUqKChrLT0yKSprKmsrMil9fSxRdWFydGljOntJbjpmdW5jdGlvbihrKXtyZXR1cm4gayprKmsqa30sT3V0OmZ1bmN0aW9uKGspe3JldHVybiAxLSAtLWsqayprKmt9LEluT3V0OmZ1bmN0aW9uKGspe3JldHVybihrKj0yKTwxPy41KmsqayprKms6LS41Kigoay09MikqayprKmstMil9fSxRdWludGljOntJbjpmdW5jdGlvbihrKXtyZXR1cm4gayprKmsqayprfSxPdXQ6ZnVuY3Rpb24oayl7cmV0dXJuLS1rKmsqayprKmsrMX0sSW5PdXQ6ZnVuY3Rpb24oayl7cmV0dXJuKGsqPTIpPDE/LjUqayprKmsqayprOi41Kigoay09MikqayprKmsqaysyKX19LFNpbnVzb2lkYWw6e0luOmZ1bmN0aW9uKGspe3JldHVybiAxLU1hdGguY29zKGsqTWF0aC5QSS8yKX0sT3V0OmZ1bmN0aW9uKGspe3JldHVybiBNYXRoLnNpbihrKk1hdGguUEkvMil9LEluT3V0OmZ1bmN0aW9uKGspe3JldHVybi41KigxLU1hdGguY29zKE1hdGguUEkqaykpfX0sRXhwb25lbnRpYWw6e0luOmZ1bmN0aW9uKGspe3JldHVybiAwPT09az8wOk1hdGgucG93KDEwMjQsay0xKX0sT3V0OmZ1bmN0aW9uKGspe3JldHVybiAxPT09az8xOjEtTWF0aC5wb3coMiwtMTAqayl9LEluT3V0OmZ1bmN0aW9uKGspe3JldHVybiAwPT09az8wOjE9PT1rPzE6KGsqPTIpPDE/LjUqTWF0aC5wb3coMTAyNCxrLTEpOi41KigyLU1hdGgucG93KDIsLTEwKihrLTEpKSl9fSxDaXJjdWxhcjp7SW46ZnVuY3Rpb24oayl7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtayprKX0sT3V0OmZ1bmN0aW9uKGspe3JldHVybiBNYXRoLnNxcnQoMS0gLS1rKmspfSxJbk91dDpmdW5jdGlvbihrKXtyZXR1cm4oayo9Mik8MT8tLjUqKE1hdGguc3FydCgxLWsqayktMSk6LjUqKE1hdGguc3FydCgxLShrLT0yKSprKSsxKX19LEVsYXN0aWM6e0luOmZ1bmN0aW9uKGspe3ZhciBzPXZvaWQgMCxhPS4xO3JldHVybiAwPT09az8wOjE9PT1rPzE6KCFhfHxhPDE/KGE9MSxzPS4xKTpzPS40Kk1hdGguYXNpbigxL2EpLygyKk1hdGguUEkpLC1hKk1hdGgucG93KDIsMTAqKGstPTEpKSpNYXRoLnNpbigoay1zKSooMipNYXRoLlBJKS8uNCkpfSxPdXQ6ZnVuY3Rpb24oayl7dmFyIHM9dm9pZCAwLGE9LjE7cmV0dXJuIDA9PT1rPzA6MT09PWs/MTooIWF8fGE8MT8oYT0xLHM9LjEpOnM9LjQqTWF0aC5hc2luKDEvYSkvKDIqTWF0aC5QSSksYSpNYXRoLnBvdygyLC0xMCprKSpNYXRoLnNpbigoay1zKSooMipNYXRoLlBJKS8uNCkrMSl9LEluT3V0OmZ1bmN0aW9uKGspe3ZhciBzPXZvaWQgMCxhPS4xO3JldHVybiAwPT09az8wOjE9PT1rPzE6KCFhfHxhPDE/KGE9MSxzPS4xKTpzPS40Kk1hdGguYXNpbigxL2EpLygyKk1hdGguUEkpLChrKj0yKTwxP2EqTWF0aC5wb3coMiwxMCooay09MSkpKk1hdGguc2luKChrLXMpKigyKk1hdGguUEkpLy40KSotLjU6YSpNYXRoLnBvdygyLC0xMCooay09MSkpKk1hdGguc2luKChrLXMpKigyKk1hdGguUEkpLy40KSouNSsxKX19LEJhY2s6e0luOmZ1bmN0aW9uKGspe3ZhciBzPTEuNzAxNTg7cmV0dXJuIGsqayooKHMrMSkqay1zKX0sT3V0OmZ1bmN0aW9uKGspe3ZhciBzPTEuNzAxNTg7cmV0dXJuLS1rKmsqKChzKzEpKmsrcykrMX0sSW5PdXQ6ZnVuY3Rpb24oayl7dmFyIHM9Mi41OTQ5MDk1O3JldHVybihrKj0yKTwxP2sqayooKHMrMSkqay1zKSouNTouNSooKGstPTIpKmsqKChzKzEpKmsrcykrMil9fSxCb3VuY2U6e2luOmZ1bmN0aW9uKGspe3JldHVybiAxLUVhc2luZy5Cb3VuY2Uub3V0KDEtayl9LG91dDpmdW5jdGlvbihrKXtyZXR1cm4gazwxLzIuNzU/Ny41NjI1KmsqazprPDIvMi43NT83LjU2MjUqKGstPTEuNS8yLjc1KSprKy43NTprPDIuNS8yLjc1PzcuNTYyNSooay09Mi4yNS8yLjc1KSprKy45Mzc1OjcuNTYyNSooay09Mi42MjUvMi43NSkqaysuOTg0Mzc1fSxpbk91dDpmdW5jdGlvbihrKXtyZXR1cm4gazwuNT8uNSpFYXNpbmcuQm91bmNlLmluKDIqayk6LjUqRWFzaW5nLkJvdW5jZS5vdXQoMiprLTEpKy41fX19LFR3ZWVuTnVtYmVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gVHdlZW5OdW1iZXIobVZhbHVlKXt2YXIgX3RoaXM9dGhpcyxtRWFzaW5nPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcImV4cE91dFwiLG1TcGVlZD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06LjAxO19jbGFzc0NhbGxDaGVjayh0aGlzLFR3ZWVuTnVtYmVyKSx0aGlzLl92YWx1ZT1tVmFsdWUsdGhpcy5fc3RhcnRWYWx1ZT1tVmFsdWUsdGhpcy5fdGFyZ2V0VmFsdWU9bVZhbHVlLHRoaXMuX2NvdW50ZXI9MSx0aGlzLnNwZWVkPW1TcGVlZCx0aGlzLmVhc2luZz1tRWFzaW5nLHRoaXMuX25lZWRVcGRhdGU9ITAsdGhpcy5fZWZJbmRleD1fc2NoZWR1bGluZzIuZGVmYXVsdC5hZGRFRihmdW5jdGlvbigpe3JldHVybiBfdGhpcy5fdXBkYXRlKCl9KX1yZXR1cm4gX2NyZWF0ZUNsYXNzKFR3ZWVuTnVtYmVyLFt7a2V5OlwiX3VwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG5ld0NvdW50ZXI9dGhpcy5fY291bnRlcit0aGlzLnNwZWVkO2lmKG5ld0NvdW50ZXI+MSYmKG5ld0NvdW50ZXI9MSksdGhpcy5fY291bnRlcj09PW5ld0NvdW50ZXIpcmV0dXJuIHZvaWQodGhpcy5fbmVlZFVwZGF0ZT0hMSk7dGhpcy5fY291bnRlcj1uZXdDb3VudGVyLHRoaXMuX25lZWRVcGRhdGU9ITB9fSx7a2V5OlwibGltaXRcIix2YWx1ZTpmdW5jdGlvbihtTWluLG1NYXgpe2lmKG1NaW4+bU1heClyZXR1cm4gdm9pZCB0aGlzLmxpbWl0KG1NYXgsbU1pbik7dGhpcy5fbWluPW1NaW4sdGhpcy5fbWF4PW1NYXgsdGhpcy5fY2hlY2tMaW1pdCgpfX0se2tleTpcInNldFRvXCIsdmFsdWU6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl92YWx1ZT1tVmFsdWUsdGhpcy5fdGFyZ2V0VmFsdWU9bVZhbHVlLHRoaXMuX2NvdW50ZXI9MX19LHtrZXk6XCJfY2hlY2tMaW1pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fbWluJiZ0aGlzLl90YXJnZXRWYWx1ZTx0aGlzLl9taW4mJih0aGlzLl90YXJnZXRWYWx1ZT10aGlzLl9taW4pLHZvaWQgMCE9PXRoaXMuX21heCYmdGhpcy5fdGFyZ2V0VmFsdWU+dGhpcy5fbWF4JiYodGhpcy5fdGFyZ2V0VmFsdWU9dGhpcy5fbWF4KX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXtfc2NoZWR1bGluZzIuZGVmYXVsdC5yZW1vdmVFRih0aGlzLl9lZkluZGV4KX19LHtrZXk6XCJ2YWx1ZVwiLHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3N0YXJ0VmFsdWU9dGhpcy5fdmFsdWUsdGhpcy5fdGFyZ2V0VmFsdWU9bVZhbHVlLHRoaXMuX2NoZWNrTGltaXQoKSx0aGlzLl9jb3VudGVyPTB9LGdldDpmdW5jdGlvbigpe2lmKHRoaXMuX25lZWRVcGRhdGUpe3ZhciBmPWdldEZ1bmModGhpcy5lYXNpbmcpLHA9Zih0aGlzLl9jb3VudGVyKTt0aGlzLl92YWx1ZT10aGlzLl9zdGFydFZhbHVlK3AqKHRoaXMuX3RhcmdldFZhbHVlLXRoaXMuX3N0YXJ0VmFsdWUpLHRoaXMuX25lZWRVcGRhdGU9ITF9cmV0dXJuIHRoaXMuX3ZhbHVlfX0se2tleTpcInRhcmdldFZhbHVlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhcmdldFZhbHVlfX1dKSxUd2Vlbk51bWJlcn0oKTtleHBvcnRzLmRlZmF1bHQ9VHdlZW5OdW1iZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfRWFzZU51bWJlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSxfRWFzZU51bWJlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRWFzZU51bWJlciksX3NjaGVkdWxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfc2NoZWR1bGluZzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2NoZWR1bGluZyksZ2V0TW91c2U9ZnVuY3Rpb24obUV2ZW50LG1UYXJnZXQpe3ZhciBvPW1UYXJnZXR8fHt9O3JldHVybiBtRXZlbnQudG91Y2hlcz8oby54PW1FdmVudC50b3VjaGVzWzBdLnBhZ2VYLG8ueT1tRXZlbnQudG91Y2hlc1swXS5wYWdlWSk6KG8ueD1tRXZlbnQuY2xpZW50WCxvLnk9bUV2ZW50LmNsaWVudFkpLG99LFF1YXRSb3RhdGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIFF1YXRSb3RhdGlvbihtVGFyZ2V0KXt2YXIgX3RoaXM9dGhpcyxtTGlzdGVuZXJUYXJnZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOndpbmRvdyxtRWFzaW5nPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTouMTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxRdWF0Um90YXRpb24pLHRoaXMuX3RhcmdldD1tVGFyZ2V0LHRoaXMuX2xpc3RlbmVyVGFyZ2V0PW1MaXN0ZW5lclRhcmdldCx0aGlzLm1hdHJpeD1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSx0aGlzLm09X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fdlpheGlzPV9nbE1hdHJpeC52ZWMzLmNsb25lKFswLDAsMF0pLHRoaXMuX3pBeGlzPV9nbE1hdHJpeC52ZWMzLmNsb25lKFswLDAsMV0pLHRoaXMucHJlTW91c2U9e3g6MCx5OjB9LHRoaXMubW91c2U9e3g6MCx5OjB9LHRoaXMuX2lzTW91c2VEb3duPSExLHRoaXMuX3JvdGF0aW9uPV9nbE1hdHJpeC5xdWF0LmNyZWF0ZSgpLHRoaXMudGVtcFJvdGF0aW9uPV9nbE1hdHJpeC5xdWF0LmNyZWF0ZSgpLHRoaXMuX3JvdGF0ZVpNYXJnaW49MCx0aGlzLl9vZmZzZXQ9LjAwNCx0aGlzLl9zbGVycD0tMSx0aGlzLl9pc0xvY2tlZD0hMSx0aGlzLl9kaWZmWD1uZXcgX0Vhc2VOdW1iZXIyLmRlZmF1bHQoMCxtRWFzaW5nKSx0aGlzLl9kaWZmWT1uZXcgX0Vhc2VOdW1iZXIyLmRlZmF1bHQoMCxtRWFzaW5nKSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbkRvd24oZSl9KSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKGUpe3JldHVybiBfdGhpcy5fb25Eb3duKGUpfSksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGUpe3JldHVybiBfdGhpcy5fb25Nb3ZlKGUpfSksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLGZ1bmN0aW9uKGUpe3JldHVybiBfdGhpcy5fb25Nb3ZlKGUpfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzLl9vblVwKCl9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixmdW5jdGlvbigpe3JldHVybiBfdGhpcy5fb25VcCgpfSksX3NjaGVkdWxpbmcyLmRlZmF1bHQuYWRkRUYoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX2xvb3AoKX0pfXJldHVybiBfY3JlYXRlQ2xhc3MoUXVhdFJvdGF0aW9uLFt7a2V5OlwiaW52ZXJzZUNvbnRyb2xcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBpc0ludmVydD0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3RoaXMuX2lzSW52ZXJ0PWlzSW52ZXJ0fX0se2tleTpcImxvY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBtVmFsdWU9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTt0aGlzLl9pc0xvY2tlZD1tVmFsdWV9fSx7a2V5Olwic2V0Q2FtZXJhUG9zXCIsdmFsdWU6ZnVuY3Rpb24obVF1YXQpe3ZhciBzcGVlZD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06LjE7aWYodGhpcy5lYXNpbmc9c3BlZWQsISh0aGlzLl9zbGVycD4wKSl7dmFyIHRlbXBSb3RhdGlvbj1fZ2xNYXRyaXgucXVhdC5jbG9uZSh0aGlzLl9yb3RhdGlvbik7dGhpcy5fdXBkYXRlUm90YXRpb24odGVtcFJvdGF0aW9uKSx0aGlzLl9yb3RhdGlvbj1fZ2xNYXRyaXgucXVhdC5jbG9uZSh0ZW1wUm90YXRpb24pLHRoaXMuX2N1cnJEaWZmWD10aGlzLmRpZmZYPTAsdGhpcy5fY3VyckRpZmZZPXRoaXMuZGlmZlk9MCx0aGlzLl9pc01vdXNlRG93bj0hMSx0aGlzLl9pc1JvdGF0ZVo9MCx0aGlzLl90YXJnZXRRdWF0PV9nbE1hdHJpeC5xdWF0LmNsb25lKG1RdWF0KSx0aGlzLl9zbGVycD0xfX19LHtrZXk6XCJyZXNldFF1YXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3JvdGF0aW9uPV9nbE1hdHJpeC5xdWF0LmNsb25lKFswLDAsMSwwXSksdGhpcy50ZW1wUm90YXRpb249X2dsTWF0cml4LnF1YXQuY2xvbmUoWzAsMCwwLDBdKSx0aGlzLl90YXJnZXRRdWF0PXZvaWQgMCx0aGlzLl9zbGVycD0tMX19LHtrZXk6XCJfb25Eb3duXCIsdmFsdWU6ZnVuY3Rpb24obUV2ZW50KXtpZighdGhpcy5faXNMb2NrZWQpe3ZhciBtb3VzZT1nZXRNb3VzZShtRXZlbnQpLHRlbXBSb3RhdGlvbj1fZ2xNYXRyaXgucXVhdC5jbG9uZSh0aGlzLl9yb3RhdGlvbik7dGhpcy5fdXBkYXRlUm90YXRpb24odGVtcFJvdGF0aW9uKSx0aGlzLl9yb3RhdGlvbj10ZW1wUm90YXRpb24sdGhpcy5faXNNb3VzZURvd249ITAsdGhpcy5faXNSb3RhdGVaPTAsdGhpcy5wcmVNb3VzZT17eDptb3VzZS54LHk6bW91c2UueX0sbW91c2UueTx0aGlzLl9yb3RhdGVaTWFyZ2lufHxtb3VzZS55PndpbmRvdy5pbm5lckhlaWdodC10aGlzLl9yb3RhdGVaTWFyZ2luP3RoaXMuX2lzUm90YXRlWj0xOihtb3VzZS54PHRoaXMuX3JvdGF0ZVpNYXJnaW58fG1vdXNlLng+d2luZG93LmlubmVyV2lkdGgtdGhpcy5fcm90YXRlWk1hcmdpbikmJih0aGlzLl9pc1JvdGF0ZVo9MiksdGhpcy5fZGlmZlguc2V0VG8oMCksdGhpcy5fZGlmZlkuc2V0VG8oMCl9fX0se2tleTpcIl9vbk1vdmVcIix2YWx1ZTpmdW5jdGlvbihtRXZlbnQpe3RoaXMuX2lzTG9ja2VkfHxnZXRNb3VzZShtRXZlbnQsdGhpcy5tb3VzZSl9fSx7a2V5OlwiX29uVXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2lzTG9ja2VkfHwodGhpcy5faXNNb3VzZURvd249ITEpfX0se2tleTpcIl91cGRhdGVSb3RhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKG1UZW1wUm90YXRpb24pe3RoaXMuX2lzTW91c2VEb3duJiYhdGhpcy5faXNMb2NrZWQmJih0aGlzLl9kaWZmWC52YWx1ZT0tKHRoaXMubW91c2UueC10aGlzLnByZU1vdXNlLngpLHRoaXMuX2RpZmZZLnZhbHVlPXRoaXMubW91c2UueS10aGlzLnByZU1vdXNlLnksdGhpcy5faXNJbnZlcnQmJih0aGlzLl9kaWZmWC52YWx1ZT0tdGhpcy5fZGlmZlgudGFyZ2V0VmFsdWUsdGhpcy5fZGlmZlkudmFsdWU9LXRoaXMuX2RpZmZZLnRhcmdldFZhbHVlKSk7dmFyIGFuZ2xlPXZvaWQgMCxfcXVhdD12b2lkIDA7aWYodGhpcy5faXNSb3RhdGVaPjApMT09PXRoaXMuX2lzUm90YXRlWj8oYW5nbGU9LXRoaXMuX2RpZmZYLnZhbHVlKnRoaXMuX29mZnNldCxhbmdsZSo9dGhpcy5wcmVNb3VzZS55PHRoaXMuX3JvdGF0ZVpNYXJnaW4/LTE6MSxfcXVhdD1fZ2xNYXRyaXgucXVhdC5jbG9uZShbMCwwLE1hdGguc2luKGFuZ2xlKSxNYXRoLmNvcyhhbmdsZSldKSxfZ2xNYXRyaXgucXVhdC5tdWx0aXBseShfcXVhdCxtVGVtcFJvdGF0aW9uLF9xdWF0KSk6KGFuZ2xlPS10aGlzLl9kaWZmWS52YWx1ZSp0aGlzLl9vZmZzZXQsYW5nbGUqPXRoaXMucHJlTW91c2UueDx0aGlzLl9yb3RhdGVaTWFyZ2luPzE6LTEsX3F1YXQ9X2dsTWF0cml4LnF1YXQuY2xvbmUoWzAsMCxNYXRoLnNpbihhbmdsZSksTWF0aC5jb3MoYW5nbGUpXSksX2dsTWF0cml4LnF1YXQubXVsdGlwbHkoX3F1YXQsbVRlbXBSb3RhdGlvbixfcXVhdCkpO2Vsc2V7dmFyIHY9X2dsTWF0cml4LnZlYzMuY2xvbmUoW3RoaXMuX2RpZmZYLnZhbHVlLHRoaXMuX2RpZmZZLnZhbHVlLDBdKSxheGlzPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpO19nbE1hdHJpeC52ZWMzLmNyb3NzKGF4aXMsdix0aGlzLl96QXhpcyksX2dsTWF0cml4LnZlYzMubm9ybWFsaXplKGF4aXMsYXhpcyksYW5nbGU9X2dsTWF0cml4LnZlYzMubGVuZ3RoKHYpKnRoaXMuX29mZnNldCxfcXVhdD1fZ2xNYXRyaXgucXVhdC5jbG9uZShbTWF0aC5zaW4oYW5nbGUpKmF4aXNbMF0sTWF0aC5zaW4oYW5nbGUpKmF4aXNbMV0sTWF0aC5zaW4oYW5nbGUpKmF4aXNbMl0sTWF0aC5jb3MoYW5nbGUpXSksX2dsTWF0cml4LnF1YXQubXVsdGlwbHkobVRlbXBSb3RhdGlvbixfcXVhdCxtVGVtcFJvdGF0aW9uKX19fSx7a2V5OlwiX2xvb3BcIix2YWx1ZTpmdW5jdGlvbigpe19nbE1hdHJpeC5tYXQ0LmlkZW50aXR5KHRoaXMubSksdm9pZCAwPT09dGhpcy5fdGFyZ2V0UXVhdD8oX2dsTWF0cml4LnF1YXQuc2V0KHRoaXMudGVtcFJvdGF0aW9uLHRoaXMuX3JvdGF0aW9uWzBdLHRoaXMuX3JvdGF0aW9uWzFdLHRoaXMuX3JvdGF0aW9uWzJdLHRoaXMuX3JvdGF0aW9uWzNdKSx0aGlzLl91cGRhdGVSb3RhdGlvbih0aGlzLnRlbXBSb3RhdGlvbikpOih0aGlzLl9zbGVycCs9LjEqKDAtdGhpcy5fc2xlcnApLHRoaXMuX3NsZXJwPDVlLTQ/KF9nbE1hdHJpeC5xdWF0LmNvcHkodGhpcy5fcm90YXRpb24sdGhpcy5fdGFyZ2V0UXVhdCksX2dsTWF0cml4LnF1YXQuY29weSh0aGlzLnRlbXBSb3RhdGlvbix0aGlzLl90YXJnZXRRdWF0KSx0aGlzLl90YXJnZXRRdWF0PXZvaWQgMCx0aGlzLl9kaWZmWC5zZXRUbygwKSx0aGlzLl9kaWZmWS5zZXRUbygwKSx0aGlzLl9zbGVycD0tMSk6KF9nbE1hdHJpeC5xdWF0LnNldCh0aGlzLnRlbXBSb3RhdGlvbiwwLDAsMCwwKSxfZ2xNYXRyaXgucXVhdC5zbGVycCh0aGlzLnRlbXBSb3RhdGlvbix0aGlzLl90YXJnZXRRdWF0LHRoaXMuX3JvdGF0aW9uLHRoaXMuX3NsZXJwKSkpLF9nbE1hdHJpeC52ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5fdlpheGlzLHRoaXMuX3ZaYXhpcyx0aGlzLnRlbXBSb3RhdGlvbiksX2dsTWF0cml4Lm1hdDQuZnJvbVF1YXQodGhpcy5tYXRyaXgsdGhpcy50ZW1wUm90YXRpb24pfX0se2tleTpcImVhc2luZ1wiLHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX2RpZmZYLmVhc2luZz1tVmFsdWUsdGhpcy5fZGlmZlkuZWFzaW5nPW1WYWx1ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpZmZYLmVhc2luZ319XSksUXVhdFJvdGF0aW9ufSgpO2V4cG9ydHMuZGVmYXVsdD1RdWF0Um90YXRpb259LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9ZnVuY3Rpb24gZGlzdGFuY2UoYSxiKXt2YXIgZHg9YS54LWIueCxkeT1hLnktYi55O3JldHVybiBNYXRoLnNxcnQoZHgqZHgrZHkqZHkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9FdmVudERpc3BhdGNoZXIyPV9fd2VicGFja19yZXF1aXJlX18oMjkpLF9FdmVudERpc3BhdGNoZXIzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50RGlzcGF0Y2hlcjIpLF9SYXk9X193ZWJwYWNrX3JlcXVpcmVfXygxMSksX1JheTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmF5KSxfZ2V0TW91c2U9X193ZWJwYWNrX3JlcXVpcmVfXyg1OCksX2dldE1vdXNlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRNb3VzZSksVG91Y2hEZXRlY3Rvcj1mdW5jdGlvbihfRXZlbnREaXNwYXRjaGVyKXtmdW5jdGlvbiBUb3VjaERldGVjdG9yKG1NZXNoLG1DYW1lcmEpe3ZhciBtU2tpcE1vdmVDaGVjaz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLG1MaXN0ZW5lclRhcmdldD1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106d2luZG93O19jbGFzc0NhbGxDaGVjayh0aGlzLFRvdWNoRGV0ZWN0b3IpO3ZhciBfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChUb3VjaERldGVjdG9yLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFRvdWNoRGV0ZWN0b3IpKS5jYWxsKHRoaXMpKTtyZXR1cm4gX3RoaXMuX21lc2g9bU1lc2gsX3RoaXMuX21lc2guZ2VuZXJhdGVGYWNlcygpLF90aGlzLl9jYW1lcmE9bUNhbWVyYSxfdGhpcy5mYWNlVmVydGljZXM9bU1lc2guZmFjZXMubWFwKGZ1bmN0aW9uKGZhY2Upe3JldHVybiBmYWNlLnZlcnRpY2VzfSksX3RoaXMuY2xpY2tUb2xlcmFuY2U9OCxfdGhpcy5fcmF5PW5ldyBfUmF5Mi5kZWZhdWx0KFswLDAsMF0sWzAsMCwtMV0pLF90aGlzLl9oaXQ9dmVjMy5mcm9tVmFsdWVzKC05OTksLTk5OSwtOTk5KSxfdGhpcy5fbGFzdFBvcyxfdGhpcy5fZmlyc3RQb3MsX3RoaXMubXR4TW9kZWw9bWF0NC5jcmVhdGUoKSxfdGhpcy5fbGlzdGVuZXJUYXJnZXQ9bUxpc3RlbmVyVGFyZ2V0LF90aGlzLl9za2lwcGluZ01vdmU9bVNraXBNb3ZlQ2hlY2ssX3RoaXMuX29uTW92ZUJpbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbk1vdmUoZSl9LF90aGlzLl9vbkRvd25CaW5kPWZ1bmN0aW9uKGUpe3JldHVybiBfdGhpcy5fb25Eb3duKGUpfSxfdGhpcy5fb25VcEJpbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX29uVXAoKX0sX3RoaXMuY29ubmVjdCgpLF90aGlzfXJldHVybiBfaW5oZXJpdHMoVG91Y2hEZXRlY3RvcixfRXZlbnREaXNwYXRjaGVyKSxfY3JlYXRlQ2xhc3MoVG91Y2hEZXRlY3Rvcixbe2tleTpcImNvbm5lY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9vbkRvd25CaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9vblVwQmluZCl9fSx7a2V5OlwiZGlzY29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX29uRG93bkJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmVCaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX29uVXBCaW5kKX19LHtrZXk6XCJfY2hlY2tIaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBfdGhpczI9dGhpcyxtVHlwZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJvbkhpdFwiLGNhbWVyYT10aGlzLl9jYW1lcmE7aWYoY2FtZXJhKXt2YXIgbXg9dGhpcy5fbGFzdFBvcy54L19HTFRvb2wyLmRlZmF1bHQud2lkdGgqMi0xLG15PS10aGlzLl9sYXN0UG9zLnkvX0dMVG9vbDIuZGVmYXVsdC5oZWlnaHQqMisxO2NhbWVyYS5nZW5lcmF0ZVJheShbbXgsbXksMF0sdGhpcy5fcmF5KTtmb3IodmFyIGhpdD12b2lkIDAsdjA9dmVjMy5jcmVhdGUoKSx2MT12ZWMzLmNyZWF0ZSgpLHYyPXZlYzMuY3JlYXRlKCksZGlzdD0wLGdldFZlY3Rvcj1mdW5jdGlvbih2LHRhcmdldCl7dmVjMy50cmFuc2Zvcm1NYXQ0KHRhcmdldCx2LF90aGlzMi5tdHhNb2RlbCl9LGk9MDtpPHRoaXMuZmFjZVZlcnRpY2VzLmxlbmd0aDtpKyspe3ZhciB2ZXJ0aWNlcz10aGlzLmZhY2VWZXJ0aWNlc1tpXTtnZXRWZWN0b3IodmVydGljZXNbMF0sdjApLGdldFZlY3Rvcih2ZXJ0aWNlc1sxXSx2MSksZ2V0VmVjdG9yKHZlcnRpY2VzWzJdLHYyKTt2YXIgdD10aGlzLl9yYXkuaW50ZXJzZWN0VHJpYW5nbGUodjAsdjEsdjIpO2lmKHQpaWYoaGl0KXt2YXIgZGlzdFRvQ2FtPXZlYzMuZGlzdCh0LGNhbWVyYS5wb3NpdGlvbik7ZGlzdFRvQ2FtPGRpc3QmJihoaXQ9dmVjMy5jbG9uZSh0KSxkaXN0PWRpc3RUb0NhbSl9ZWxzZSBoaXQ9dmVjMy5jbG9uZSh0KSxkaXN0PXZlYzMuZGlzdChoaXQsY2FtZXJhLnBvc2l0aW9uKX1oaXQ/KHRoaXMuX2hpdD12ZWMzLmNsb25lKGhpdCksdGhpcy5kaXNwYXRjaEN1c3RvbUV2ZW50KG1UeXBlLHtoaXQ6aGl0fSkpOnRoaXMuZGlzcGF0Y2hDdXN0b21FdmVudChcIm9uVXBcIil9fX0se2tleTpcIl9vbkRvd25cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9maXJzdFBvcz0oMCxfZ2V0TW91c2UyLmRlZmF1bHQpKGUpLHRoaXMuX2xhc3RQb3M9KDAsX2dldE1vdXNlMi5kZWZhdWx0KShlKSx0aGlzLl9jaGVja0hpdChcIm9uRG93blwiKX19LHtrZXk6XCJfb25Nb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbGFzdFBvcz0oMCxfZ2V0TW91c2UyLmRlZmF1bHQpKGUpLHRoaXMuX3NraXBwaW5nTW92ZXx8dGhpcy5fY2hlY2tIaXQoKX19LHtrZXk6XCJfb25VcFwiLHZhbHVlOmZ1bmN0aW9uKCl7ZGlzdGFuY2UodGhpcy5fZmlyc3RQb3MsdGhpcy5fbGFzdFBvcyk8dGhpcy5jbGlja1RvbGVyYW5jZSYmdGhpcy5fY2hlY2tIaXQoKX19XSksVG91Y2hEZXRlY3Rvcn0oX0V2ZW50RGlzcGF0Y2hlcjMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PVRvdWNoRGV0ZWN0b3J9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgeD12b2lkIDAseT12b2lkIDA7cmV0dXJuIGUudG91Y2hlcz8oeD1lLnRvdWNoZXNbMF0ucGFnZVgseT1lLnRvdWNoZXNbMF0ucGFnZVkpOih4PWUuY2xpZW50WCx5PWUuY2xpZW50WSkse3g6eCx5Onl9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9DYW1lcmFQZXJzcGVjdGl2ZTI9X193ZWJwYWNrX3JlcXVpcmVfXygxMyksX0NhbWVyYVBlcnNwZWN0aXZlMz1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfQ2FtZXJhUGVyc3BlY3RpdmUyKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxDQU1FUkFfU0VUVElOR1M9W1tfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCwwKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDEsMCwwKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsLTEsMCldLFtfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCwwKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKC0xLDAsMCksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLC0xLDApXSxbX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLDAsMCksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLDEsMCksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLDAsMSldLFtfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCwwKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsLTEsMCksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLDAsLTEpXSxbX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLDAsMCksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLDAsMSksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLC0xLDApXSxbX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLDAsMCksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLDAsLTEpLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwtMSwwKV1dLENhbWVyYUN1YmU9ZnVuY3Rpb24oX0NhbWVyYVBlcnNwZWN0aXZlKXtmdW5jdGlvbiBDYW1lcmFDdWJlKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ2FtZXJhQ3ViZSk7dmFyIF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKENhbWVyYUN1YmUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2FtZXJhQ3ViZSkpLmNhbGwodGhpcykpO3JldHVybiBfdGhpcy5zZXRQZXJzcGVjdGl2ZShNYXRoLlBJLzIsMSwuMSwxZTMpLF90aGlzfXJldHVybiBfaW5oZXJpdHMoQ2FtZXJhQ3ViZSxfQ2FtZXJhUGVyc3BlY3RpdmUpLF9jcmVhdGVDbGFzcyhDYW1lcmFDdWJlLFt7a2V5OlwiZmFjZVwiLHZhbHVlOmZ1bmN0aW9uKG1JbmRleCl7dmFyIG89Q0FNRVJBX1NFVFRJTkdTW21JbmRleF07dGhpcy5sb29rQXQob1swXSxvWzFdLG9bMl0pfX1dKSxDYW1lcmFDdWJlfShfQ2FtZXJhUGVyc3BlY3RpdmUzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1DYW1lcmFDdWJlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXQ9ZnVuY3Rpb24gZ2V0KG9iamVjdCxwcm9wZXJ0eSxyZWNlaXZlcil7bnVsbD09PW9iamVjdCYmKG9iamVjdD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBkZXNjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LHByb3BlcnR5KTtpZih2b2lkIDA9PT1kZXNjKXt2YXIgcGFyZW50PU9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO3JldHVybiBudWxsPT09cGFyZW50P3ZvaWQgMDpnZXQocGFyZW50LHByb3BlcnR5LHJlY2VpdmVyKX1pZihcInZhbHVlXCJpbiBkZXNjKXJldHVybiBkZXNjLnZhbHVlO3ZhciBnZXR0ZXI9ZGVzYy5nZXQ7aWYodm9pZCAwIT09Z2V0dGVyKXJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcil9LF9CaW5hcnlMb2FkZXIyPV9fd2VicGFja19yZXF1aXJlX18oMTQpLF9CaW5hcnlMb2FkZXIzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JpbmFyeUxvYWRlcjIpLF9NZXNoPV9fd2VicGFja19yZXF1aXJlX18oNSksX01lc2gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpLE9iakxvYWRlcj1mdW5jdGlvbihfQmluYXJ5TG9hZGVyKXtmdW5jdGlvbiBPYmpMb2FkZXIoKXtyZXR1cm4gX2NsYXNzQ2FsbENoZWNrKHRoaXMsT2JqTG9hZGVyKSxfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChPYmpMb2FkZXIuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2JqTG9hZGVyKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gX2luaGVyaXRzKE9iakxvYWRlcixfQmluYXJ5TG9hZGVyKSxfY3JlYXRlQ2xhc3MoT2JqTG9hZGVyLFt7a2V5OlwibG9hZFwiLHZhbHVlOmZ1bmN0aW9uKHVybCxjYWxsYmFjayl7dmFyIGRyYXdUeXBlPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTo0O3RoaXMuX2RyYXdUeXBlPWRyYXdUeXBlLF9nZXQoT2JqTG9hZGVyLnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihPYmpMb2FkZXIucHJvdG90eXBlKSxcImxvYWRcIix0aGlzKS5jYWxsKHRoaXMsdXJsLGNhbGxiYWNrKX19LHtrZXk6XCJfb25Mb2FkZWRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGFyc2VPYmoodGhpcy5fcmVxLnJlc3BvbnNlKX19LHtrZXk6XCJwYXJzZU9ialwiLHZhbHVlOmZ1bmN0aW9uKG9ialN0cil7ZnVuY3Rpb24gcGFyc2VWZXJ0ZXhJbmRleCh2YWx1ZSl7dmFyIGluZGV4PXBhcnNlSW50KHZhbHVlKTtyZXR1cm4gMyooaW5kZXg+PTA/aW5kZXgtMTppbmRleCt2ZXJ0aWNlcy5sZW5ndGgvMyl9ZnVuY3Rpb24gcGFyc2VOb3JtYWxJbmRleCh2YWx1ZSl7dmFyIGluZGV4PXBhcnNlSW50KHZhbHVlKTtyZXR1cm4gMyooaW5kZXg+PTA/aW5kZXgtMTppbmRleCtub3JtYWxzLmxlbmd0aC8zKX1mdW5jdGlvbiBwYXJzZVVWSW5kZXgodmFsdWUpe3ZhciBpbmRleD1wYXJzZUludCh2YWx1ZSk7cmV0dXJuIDIqKGluZGV4Pj0wP2luZGV4LTE6aW5kZXgrdXZzLmxlbmd0aC8yKX1mdW5jdGlvbiBhZGRWZXJ0ZXgoYSxiLGMpe3Bvc2l0aW9ucy5wdXNoKFt2ZXJ0aWNlc1thXSx2ZXJ0aWNlc1thKzFdLHZlcnRpY2VzW2ErMl1dKSxwb3NpdGlvbnMucHVzaChbdmVydGljZXNbYl0sdmVydGljZXNbYisxXSx2ZXJ0aWNlc1tiKzJdXSkscG9zaXRpb25zLnB1c2goW3ZlcnRpY2VzW2NdLHZlcnRpY2VzW2MrMV0sdmVydGljZXNbYysyXV0pLGluZGljZXMucHVzaCgzKmNvdW50KzApLGluZGljZXMucHVzaCgzKmNvdW50KzEpLGluZGljZXMucHVzaCgzKmNvdW50KzIpLGNvdW50Kyt9ZnVuY3Rpb24gYWRkVVYoYSxiLGMpe2Nvb3Jkcy5wdXNoKFt1dnNbYV0sdXZzW2ErMV1dKSxjb29yZHMucHVzaChbdXZzW2JdLHV2c1tiKzFdXSksY29vcmRzLnB1c2goW3V2c1tjXSx1dnNbYysxXV0pfWZ1bmN0aW9uIGFkZE5vcm1hbChhLGIsYyl7ZmluYWxOb3JtYWxzLnB1c2goW25vcm1hbHNbYV0sbm9ybWFsc1thKzFdLG5vcm1hbHNbYSsyXV0pLGZpbmFsTm9ybWFscy5wdXNoKFtub3JtYWxzW2JdLG5vcm1hbHNbYisxXSxub3JtYWxzW2IrMl1dKSxmaW5hbE5vcm1hbHMucHVzaChbbm9ybWFsc1tjXSxub3JtYWxzW2MrMV0sbm9ybWFsc1tjKzJdXSl9ZnVuY3Rpb24gYWRkRmFjZShhLGIsYyxkLHVhLHViLHVjLHVkLG5hLG5iLG5jLG5kKXt2YXIgaWE9cGFyc2VWZXJ0ZXhJbmRleChhKSxpYj1wYXJzZVZlcnRleEluZGV4KGIpLGljPXBhcnNlVmVydGV4SW5kZXgoYyksaWQ9dm9pZCAwO3ZvaWQgMD09PWQ/YWRkVmVydGV4KGlhLGliLGljKTooaWQ9cGFyc2VWZXJ0ZXhJbmRleChkKSxhZGRWZXJ0ZXgoaWEsaWIsaWQpLGFkZFZlcnRleChpYixpYyxpZCkpLHZvaWQgMCE9PXVhJiYoaWE9cGFyc2VVVkluZGV4KHVhKSxpYj1wYXJzZVVWSW5kZXgodWIpLGljPXBhcnNlVVZJbmRleCh1Yyksdm9pZCAwPT09ZD9hZGRVVihpYSxpYixpYyk6KGlkPXBhcnNlVVZJbmRleCh1ZCksYWRkVVYoaWEsaWIsaWQpLGFkZFVWKGliLGljLGlkKSkpLHZvaWQgMCE9PW5hJiYoaWE9cGFyc2VOb3JtYWxJbmRleChuYSksaWI9cGFyc2VOb3JtYWxJbmRleChuYiksaWM9cGFyc2VOb3JtYWxJbmRleChuYyksdm9pZCAwPT09ZD9hZGROb3JtYWwoaWEsaWIsaWMpOihpZD1wYXJzZU5vcm1hbEluZGV4KG5kKSxhZGROb3JtYWwoaWEsaWIsaWQpLGFkZE5vcm1hbChpYixpYyxpZCkpKX1mb3IodmFyIGxpbmVzPW9ialN0ci5zcGxpdChcIlxcblwiKSxwb3NpdGlvbnM9W10sY29vcmRzPVtdLGZpbmFsTm9ybWFscz1bXSx2ZXJ0aWNlcz1bXSxub3JtYWxzPVtdLHV2cz1bXSxpbmRpY2VzPVtdLGNvdW50PTAscmVzdWx0PXZvaWQgMCx2ZXJ0ZXhQYXR0ZXJuPS92KCArW1xcZHxcXC58XFwrfFxcLXxlfEVdKykoICtbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKSggK1tcXGR8XFwufFxcK3xcXC18ZXxFXSspLyxub3JtYWxQYXR0ZXJuPS92biggK1tcXGR8XFwufFxcK3xcXC18ZXxFXSspKCArW1xcZHxcXC58XFwrfFxcLXxlfEVdKykoICtbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKS8sdXZQYXR0ZXJuPS92dCggK1tcXGR8XFwufFxcK3xcXC18ZXxFXSspKCArW1xcZHxcXC58XFwrfFxcLXxlfEVdKykvLGZhY2VQYXR0ZXJuMT0vZiggKy0/XFxkKykoICstP1xcZCspKCArLT9cXGQrKSggKy0/XFxkKyk/LyxmYWNlUGF0dGVybjI9L2YoICsoLT9cXGQrKVxcLygtP1xcZCspKSggKygtP1xcZCspXFwvKC0/XFxkKykpKCArKC0/XFxkKylcXC8oLT9cXGQrKSkoICsoLT9cXGQrKVxcLygtP1xcZCspKT8vLGZhY2VQYXR0ZXJuMz0vZiggKygtP1xcZCspXFwvKC0/XFxkKylcXC8oLT9cXGQrKSkoICsoLT9cXGQrKVxcLygtP1xcZCspXFwvKC0/XFxkKykpKCArKC0/XFxkKylcXC8oLT9cXGQrKVxcLygtP1xcZCspKSggKygtP1xcZCspXFwvKC0/XFxkKylcXC8oLT9cXGQrKSk/LyxmYWNlUGF0dGVybjQ9L2YoICsoLT9cXGQrKVxcL1xcLygtP1xcZCspKSggKygtP1xcZCspXFwvXFwvKC0/XFxkKykpKCArKC0/XFxkKylcXC9cXC8oLT9cXGQrKSkoICsoLT9cXGQrKVxcL1xcLygtP1xcZCspKT8vLGk9MDtpPGxpbmVzLmxlbmd0aDtpKyspe3ZhciBsaW5lPWxpbmVzW2ldO2xpbmU9bGluZS50cmltKCksMCE9PWxpbmUubGVuZ3RoJiZcIiNcIiE9PWxpbmUuY2hhckF0KDApJiYobnVsbCE9PShyZXN1bHQ9dmVydGV4UGF0dGVybi5leGVjKGxpbmUpKT92ZXJ0aWNlcy5wdXNoKHBhcnNlRmxvYXQocmVzdWx0WzFdKSxwYXJzZUZsb2F0KHJlc3VsdFsyXSkscGFyc2VGbG9hdChyZXN1bHRbM10pKTpudWxsIT09KHJlc3VsdD1ub3JtYWxQYXR0ZXJuLmV4ZWMobGluZSkpP25vcm1hbHMucHVzaChwYXJzZUZsb2F0KHJlc3VsdFsxXSkscGFyc2VGbG9hdChyZXN1bHRbMl0pLHBhcnNlRmxvYXQocmVzdWx0WzNdKSk6bnVsbCE9PShyZXN1bHQ9dXZQYXR0ZXJuLmV4ZWMobGluZSkpP3V2cy5wdXNoKHBhcnNlRmxvYXQocmVzdWx0WzFdKSxwYXJzZUZsb2F0KHJlc3VsdFsyXSkpOm51bGwhPT0ocmVzdWx0PWZhY2VQYXR0ZXJuMS5leGVjKGxpbmUpKT9hZGRGYWNlKHJlc3VsdFsxXSxyZXN1bHRbMl0scmVzdWx0WzNdLHJlc3VsdFs0XSk6bnVsbCE9PShyZXN1bHQ9ZmFjZVBhdHRlcm4yLmV4ZWMobGluZSkpP2FkZEZhY2UocmVzdWx0WzJdLHJlc3VsdFs1XSxyZXN1bHRbOF0scmVzdWx0WzExXSxyZXN1bHRbM10scmVzdWx0WzZdLHJlc3VsdFs5XSxyZXN1bHRbMTJdKTpudWxsIT09KHJlc3VsdD1mYWNlUGF0dGVybjMuZXhlYyhsaW5lKSk/YWRkRmFjZShyZXN1bHRbMl0scmVzdWx0WzZdLHJlc3VsdFsxMF0scmVzdWx0WzE0XSxyZXN1bHRbM10scmVzdWx0WzddLHJlc3VsdFsxMV0scmVzdWx0WzE1XSxyZXN1bHRbNF0scmVzdWx0WzhdLHJlc3VsdFsxMl0scmVzdWx0WzE2XSk6bnVsbCE9PShyZXN1bHQ9ZmFjZVBhdHRlcm40LmV4ZWMobGluZSkpJiZhZGRGYWNlKHJlc3VsdFsyXSxyZXN1bHRbNV0scmVzdWx0WzhdLHJlc3VsdFsxMV0sdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHJlc3VsdFszXSxyZXN1bHRbNl0scmVzdWx0WzldLHJlc3VsdFsxMl0pKX1yZXR1cm4gdGhpcy5fZ2VuZXJhdGVNZXNoZXMoe3Bvc2l0aW9uczpwb3NpdGlvbnMsY29vcmRzOmNvb3Jkcyxub3JtYWxzOmZpbmFsTm9ybWFscyxpbmRpY2VzOmluZGljZXN9KX19LHtrZXk6XCJfZ2VuZXJhdGVNZXNoZXNcIix2YWx1ZTpmdW5jdGlvbihvKXt2YXIgaGFzTm9ybWFscz1vLm5vcm1hbHMubGVuZ3RoPjAsaGFzVVZzPW8uY29vcmRzLmxlbmd0aD4wLG1lc2g9dm9pZCAwO2lmKG8ucG9zaXRpb25zLmxlbmd0aD42NTUzNSl7dmFyIG1lc2hlcz1bXSxsYXN0SW5kZXg9MCxvQ29weT17fTtmb3Iob0NvcHkucG9zaXRpb25zPW8ucG9zaXRpb25zLmNvbmNhdCgpLG9Db3B5LmNvb3Jkcz1vLmNvb3Jkcy5jb25jYXQoKSxvQ29weS5pbmRpY2VzPW8uaW5kaWNlcy5jb25jYXQoKSxvQ29weS5ub3JtYWxzPW8ubm9ybWFscy5jb25jYXQoKTtvLmluZGljZXMubGVuZ3RoPjA7KXtmb3IodmFyIHNsaWNlTnVtPU1hdGgubWluKDY1NTM1LG8ucG9zaXRpb25zLmxlbmd0aCksaW5kaWNlcz1vLmluZGljZXMuc3BsaWNlKDAsc2xpY2VOdW0pLHBvc2l0aW9ucz1bXSxjb29yZHM9W10sbm9ybWFscz1bXSxpbmRleD12b2lkIDAsdG1wSW5kZXg9MCxpPTA7aTxpbmRpY2VzLmxlbmd0aDtpKyspaW5kaWNlc1tpXT50bXBJbmRleCYmKHRtcEluZGV4PWluZGljZXNbaV0pLGluZGV4PWluZGljZXNbaV0scG9zaXRpb25zLnB1c2gob0NvcHkucG9zaXRpb25zW2luZGV4XSksaGFzVVZzJiZjb29yZHMucHVzaChvQ29weS5jb29yZHNbaW5kZXhdKSxoYXNOb3JtYWxzJiZub3JtYWxzLnB1c2gob0NvcHkubm9ybWFsc1tpbmRleF0pLGluZGljZXNbaV0tPWxhc3RJbmRleDtsYXN0SW5kZXg9dG1wSW5kZXgrMSxtZXNoPW5ldyBfTWVzaDIuZGVmYXVsdCh0aGlzLl9kcmF3VHlwZSksbWVzaC5idWZmZXJWZXJ0ZXgocG9zaXRpb25zKSxoYXNVVnMmJm1lc2guYnVmZmVyVGV4Q29vcmQoY29vcmRzKSxtZXNoLmJ1ZmZlckluZGV4KGluZGljZXMpLGhhc05vcm1hbHMmJm1lc2guYnVmZmVyTm9ybWFsKG5vcm1hbHMpLG1lc2hlcy5wdXNoKG1lc2gpfXJldHVybiB0aGlzLl9jYWxsYmFjayYmdGhpcy5fY2FsbGJhY2sobWVzaGVzLG9Db3B5KSxtZXNoZXN9cmV0dXJuIG1lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KHRoaXMuX2RyYXdUeXBlKSxtZXNoLmJ1ZmZlclZlcnRleChvLnBvc2l0aW9ucyksaGFzVVZzJiZtZXNoLmJ1ZmZlclRleENvb3JkKG8uY29vcmRzKSxtZXNoLmJ1ZmZlckluZGV4KG8uaW5kaWNlcyksaGFzTm9ybWFscyYmbWVzaC5idWZmZXJOb3JtYWwoby5ub3JtYWxzKSx0aGlzLl9jYWxsYmFjayYmdGhpcy5fY2FsbGJhY2sobWVzaCxvKSxtZXNofX1dKSxPYmpMb2FkZXJ9KF9CaW5hcnlMb2FkZXIzLmRlZmF1bHQpO09iakxvYWRlci5wYXJzZT1mdW5jdGlvbihvYmpTdHIpe3JldHVybihuZXcgT2JqTG9hZGVyKS5wYXJzZU9iaihvYmpTdHIpfSxleHBvcnRzLmRlZmF1bHQ9T2JqTG9hZGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9CaW5hcnlMb2FkZXIyPV9fd2VicGFja19yZXF1aXJlX18oMTQpLF9CaW5hcnlMb2FkZXIzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JpbmFyeUxvYWRlcjIpLF9IRFJQYXJzZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg2MiksX0hEUlBhcnNlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSERSUGFyc2VyKSxIRFJMb2FkZXI9ZnVuY3Rpb24oX0JpbmFyeUxvYWRlcil7ZnVuY3Rpb24gSERSTG9hZGVyKCl7cmV0dXJuIF9jbGFzc0NhbGxDaGVjayh0aGlzLEhEUkxvYWRlciksX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoSERSTG9hZGVyLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEhEUkxvYWRlcikpLmNhbGwodGhpcywhMCkpfXJldHVybiBfaW5oZXJpdHMoSERSTG9hZGVyLF9CaW5hcnlMb2FkZXIpLF9jcmVhdGVDbGFzcyhIRFJMb2FkZXIsW3trZXk6XCJwYXJzZVwiLHZhbHVlOmZ1bmN0aW9uKG1BcnJheUJ1ZmZlcil7cmV0dXJuKDAsX0hEUlBhcnNlcjIuZGVmYXVsdCkobUFycmF5QnVmZmVyKX19LHtrZXk6XCJfb25Mb2FkZWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBvPXRoaXMucGFyc2UodGhpcy5fcmVxLnJlc3BvbnNlKTt0aGlzLl9jYWxsYmFjayYmdGhpcy5fY2FsbGJhY2sobyl9fV0pLEhEUkxvYWRlcn0oX0JpbmFyeUxvYWRlcjMuZGVmYXVsdCk7SERSTG9hZGVyLnBhcnNlPWZ1bmN0aW9uKG1BcnJheUJ1ZmZlcil7cmV0dXJuKDAsX0hEUlBhcnNlcjIuZGVmYXVsdCkobUFycmF5QnVmZmVyKX0sZXhwb3J0cy5kZWZhdWx0PUhEUkxvYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcmVhZFBpeGVsc1Jhd1JMRShidWZmZXIsZGF0YSxvZmZzZXQsZmlsZU9mZnNldCxzY2FubGluZVdpZHRoLG51bVNjYW5saW5lcyl7ZnVuY3Rpb24gcmVhZEJ1ZihidWYpe3ZhciBieXRlc1JlYWQ9MDtkb3tidWZbYnl0ZXNSZWFkKytdPWJ1ZmZlcltmaWxlT2Zmc2V0XX13aGlsZSgrK2ZpbGVPZmZzZXQ8YnVmZmVyTGVuZ3RoJiZieXRlc1JlYWQ8YnVmLmxlbmd0aCk7cmV0dXJuIGJ5dGVzUmVhZH1mdW5jdGlvbiByZWFkQnVmT2Zmc2V0KGJ1ZixvZmZzZXQsbGVuZ3RoKXt2YXIgYnl0ZXNSZWFkPTA7ZG97YnVmW29mZnNldCtieXRlc1JlYWQrK109YnVmZmVyW2ZpbGVPZmZzZXRdfXdoaWxlKCsrZmlsZU9mZnNldDxidWZmZXJMZW5ndGgmJmJ5dGVzUmVhZDxsZW5ndGgpO3JldHVybiBieXRlc1JlYWR9Zm9yKHZhciByZ2JlPW5ldyBBcnJheSg0KSxzY2FubGluZUJ1ZmZlcj1udWxsLHB0cj12b2lkIDAscHRyRW5kPXZvaWQgMCxjb3VudD12b2lkIDAsYnVmPW5ldyBBcnJheSgyKSxidWZmZXJMZW5ndGg9YnVmZmVyLmxlbmd0aDtudW1TY2FubGluZXM+MDspe2lmKHJlYWRCdWYocmdiZSk8cmdiZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgcmVhZGluZyBieXRlczogZXhwZWN0ZWQgXCIrcmdiZS5sZW5ndGgpO2lmKDIhPT1yZ2JlWzBdfHwyIT09cmdiZVsxXXx8MCE9KDEyOCZyZ2JlWzJdKSlyZXR1cm4gZGF0YVtvZmZzZXQrK109cmdiZVswXSxkYXRhW29mZnNldCsrXT1yZ2JlWzFdLGRhdGFbb2Zmc2V0KytdPXJnYmVbMl0sZGF0YVtvZmZzZXQrK109cmdiZVszXSx2b2lkIGZ1bmN0aW9uKGJ1ZmZlcixkYXRhLG9mZnNldCxudW1waXhlbHMpe3ZhciBudW1FeHBlY3RlZD00Km51bXBpeGVscyxudW1SZWFkPXJlYWRCdWZPZmZzZXQoZGF0YSxvZmZzZXQsbnVtRXhwZWN0ZWQpO2lmKG51bVJlYWQ8bnVtRXhwZWN0ZWQpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgcmVhZGluZyByYXcgcGl4ZWxzOiBnb3QgXCIrbnVtUmVhZCtcIiBieXRlcywgZXhwZWN0ZWQgXCIrbnVtRXhwZWN0ZWQpfSgwLGRhdGEsb2Zmc2V0LHNjYW5saW5lV2lkdGgqbnVtU2NhbmxpbmVzLTEpO2lmKCgoMjU1JnJnYmVbMl0pPDw4fDI1NSZyZ2JlWzNdKSE9PXNjYW5saW5lV2lkdGgpdGhyb3cgbmV3IEVycm9yKFwiV3Jvbmcgc2NhbmxpbmUgd2lkdGggXCIrKCgyNTUmcmdiZVsyXSk8PDh8MjU1JnJnYmVbM10pK1wiLCBleHBlY3RlZCBcIitzY2FubGluZVdpZHRoKTtudWxsPT09c2NhbmxpbmVCdWZmZXImJihzY2FubGluZUJ1ZmZlcj1uZXcgQXJyYXkoNCpzY2FubGluZVdpZHRoKSkscHRyPTA7Zm9yKHZhciBpPTA7aTw0O2krKylmb3IocHRyRW5kPShpKzEpKnNjYW5saW5lV2lkdGg7cHRyPHB0ckVuZDspe2lmKHJlYWRCdWYoYnVmKTxidWYubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHJlYWRpbmcgMi1ieXRlIGJ1ZmZlclwiKTtpZigoMjU1JmJ1ZlswXSk+MTI4KXtpZigwPT09KGNvdW50PSgyNTUmYnVmWzBdKS0xMjgpfHxjb3VudD5wdHJFbmQtcHRyKXRocm93IG5ldyBFcnJvcihcIkJhZCBzY2FubGluZSBkYXRhXCIpO2Zvcig7Y291bnQtLSA+MDspc2NhbmxpbmVCdWZmZXJbcHRyKytdPWJ1ZlsxXX1lbHNle2lmKDA9PT0oY291bnQ9MjU1JmJ1ZlswXSl8fGNvdW50PnB0ckVuZC1wdHIpdGhyb3cgbmV3IEVycm9yKFwiQmFkIHNjYW5saW5lIGRhdGFcIik7aWYoc2NhbmxpbmVCdWZmZXJbcHRyKytdPWJ1ZlsxXSwtLWNvdW50PjApe2lmKHJlYWRCdWZPZmZzZXQoc2NhbmxpbmVCdWZmZXIscHRyLGNvdW50KTxjb3VudCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciByZWFkaW5nIG5vbi1ydW4gZGF0YVwiKTtwdHIrPWNvdW50fX19Zm9yKHZhciBfaT0wO19pPHNjYW5saW5lV2lkdGg7X2krKylkYXRhW29mZnNldCswXT1zY2FubGluZUJ1ZmZlcltfaV0sZGF0YVtvZmZzZXQrMV09c2NhbmxpbmVCdWZmZXJbX2krc2NhbmxpbmVXaWR0aF0sZGF0YVtvZmZzZXQrMl09c2NhbmxpbmVCdWZmZXJbX2krMipzY2FubGluZVdpZHRoXSxkYXRhW29mZnNldCszXT1zY2FubGluZUJ1ZmZlcltfaSszKnNjYW5saW5lV2lkdGhdLG9mZnNldCs9NDtudW1TY2FubGluZXMtLX19ZnVuY3Rpb24gcGFyc2VIZHIoYnVmZmVyKXtidWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGJ1ZmZlcj1uZXcgVWludDhBcnJheShidWZmZXIpKTtmb3IodmFyIGZpbGVPZmZzZXQ9MCxidWZmZXJMZW5ndGg9YnVmZmVyLmxlbmd0aCxORVdfTElORT0xMCx3aWR0aD0wLGhlaWdodD0wLGV4cG9zdXJlPTEscmxlPSExLGk9MDtpPDIwO2krKyl7dmFyIGxpbmU9ZnVuY3Rpb24oKXt2YXIgYnVmPVwiXCI7ZG97dmFyIGI9YnVmZmVyW2ZpbGVPZmZzZXRdO2lmKGI9PT1ORVdfTElORSl7KytmaWxlT2Zmc2V0O2JyZWFrfWJ1Zis9U3RyaW5nLmZyb21DaGFyQ29kZShiKX13aGlsZSgrK2ZpbGVPZmZzZXQ8YnVmZmVyTGVuZ3RoKTtyZXR1cm4gYnVmfSgpLG1hdGNoPXZvaWQgMDtpZihtYXRjaD1saW5lLm1hdGNoKHJhZGlhbmNlUGF0dGVybikpO2Vsc2UgaWYobWF0Y2g9bGluZS5tYXRjaChmb3JtYXRQYXR0ZXJuKSlybGU9ITA7ZWxzZSBpZihtYXRjaD1saW5lLm1hdGNoKGV4cG9zdXJlUGF0dGVybikpZXhwb3N1cmU9TnVtYmVyKG1hdGNoWzFdKTtlbHNlIGlmKG1hdGNoPWxpbmUubWF0Y2goY29tbWVudFBhdHRlcm4pKTtlbHNlIGlmKG1hdGNoPWxpbmUubWF0Y2god2lkdGhIZWlnaHRQYXR0ZXJuKSl7aGVpZ2h0PU51bWJlcihtYXRjaFsxXSksd2lkdGg9TnVtYmVyKG1hdGNoWzJdKTticmVha319aWYoIXJsZSl0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIGlzIG5vdCBydW4gbGVuZ3RoIGVuY29kZWQhXCIpO3ZhciBkYXRhPW5ldyBVaW50OEFycmF5KHdpZHRoKmhlaWdodCo0KTtyZWFkUGl4ZWxzUmF3UkxFKGJ1ZmZlcixkYXRhLDAsZmlsZU9mZnNldCx3aWR0aCxoZWlnaHQpO2Zvcih2YXIgZmxvYXREYXRhPW5ldyBGbG9hdDMyQXJyYXkod2lkdGgqaGVpZ2h0KjQpLG9mZnNldD0wO29mZnNldDxkYXRhLmxlbmd0aDtvZmZzZXQrPTQpe3ZhciByPWRhdGFbb2Zmc2V0KzBdLzI1NSxnPWRhdGFbb2Zmc2V0KzFdLzI1NSxiPWRhdGFbb2Zmc2V0KzJdLzI1NSxlPWRhdGFbb2Zmc2V0KzNdLGY9TWF0aC5wb3coMixlLTEyOCk7cio9ZixnKj1mLGIqPWY7dmFyIGZsb2F0T2Zmc2V0PW9mZnNldDtmbG9hdERhdGFbZmxvYXRPZmZzZXQrMF09cixmbG9hdERhdGFbZmxvYXRPZmZzZXQrMV09ZyxmbG9hdERhdGFbZmxvYXRPZmZzZXQrMl09YixmbG9hdERhdGFbZmxvYXRPZmZzZXQrM109MX1yZXR1cm57c2hhcGU6W3dpZHRoLGhlaWdodF0sZXhwb3N1cmU6ZXhwb3N1cmUsZ2FtbWE6MSxkYXRhOmZsb2F0RGF0YX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHJhZGlhbmNlUGF0dGVybj1cIiNcXFxcP1JBRElBTkNFXCIsY29tbWVudFBhdHRlcm49XCIjLipcIixleHBvc3VyZVBhdHRlcm49XCJFWFBPU1VSRT1cXFxccyooWzAtOV0qWy5dWzAtOV0qKVwiLGZvcm1hdFBhdHRlcm49XCJGT1JNQVQ9MzItYml0X3JsZV9yZ2JlXCIsd2lkdGhIZWlnaHRQYXR0ZXJuPVwiLVkgKFswLTldKykgXFxcXCtYIChbMC05XSspXCI7ZXhwb3J0cy5kZWZhdWx0PXBhcnNlSGRyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX01lc2g9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxfTWVzaDI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX01lc2gpLEFSUkFZX0NUT1JfTUFQPXs1MTIwOkludDhBcnJheSw1MTIxOlVpbnQ4QXJyYXksNTEyMjpJbnQxNkFycmF5LDUxMjM6VWludDE2QXJyYXksNTEyNTpVaW50MzJBcnJheSw1MTI2OkZsb2F0MzJBcnJheX0sU0laRV9NQVA9e1NDQUxBUjoxLFZFQzI6MixWRUMzOjMsVkVDNDo0LE1BVDI6NCxNQVQzOjksTUFUNDoxNn0sc2VtYW50aWNBdHRyaWJ1dGVNYXA9e05PUk1BTDpcImFOb3JtYWxcIixQT1NJVElPTjpcImFWZXJ0ZXhQb3NpdGlvblwiLFRFWENPT1JEXzA6XCJhVGV4dHVyZUNvb3JkXCIsV0VJR0hUU18wOlwiYVdlaWdodFwiLEpPSU5UU18wOlwiYUpvaW50XCIsQ09MT1I6XCJhQ29sb3JcIn0scGFyc2U9ZnVuY3Rpb24oZ2x0ZixiaW4pe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7Z2x0Zi5vdXRwdXQ9e21lc2hlczpbXSxzY2VuZXM6W10sdGV4dHVyZXM6W119LF9nZXRCdWZmZXJWaWV3RGF0YShnbHRmLGJpbikudGhlbihfcGFyc2VNZXNoKS50aGVuKGZ1bmN0aW9uKGdsdGZJbmZvKXtyZXNvbHZlKGdsdGZJbmZvKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKFwiRXJyb3I6XCIsZSl9KX0pfSxfZ2V0QnVmZmVyVmlld0RhdGE9ZnVuY3Rpb24oZ2x0ZkluZm8sYmluKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3ZhciBidWZmZXJWaWV3cz1nbHRmSW5mby5idWZmZXJWaWV3cztnbHRmSW5mby5idWZmZXJzO2J1ZmZlclZpZXdzLmZvckVhY2goZnVuY3Rpb24oYnVmZmVyVmlld0luZm8saSl7dmFyIGJ1ZmZlcj1iaW47YnVmZmVyVmlld0luZm8uZGF0YT1idWZmZXIuc2xpY2UoYnVmZmVyVmlld0luZm8uYnl0ZU9mZnNldHx8MCwoYnVmZmVyVmlld0luZm8uYnl0ZU9mZnNldHx8MCkrKGJ1ZmZlclZpZXdJbmZvLmJ5dGVMZW5ndGh8fDApKX0pLHJlc29sdmUoZ2x0ZkluZm8pfSl9LF9wYXJzZU1lc2g9ZnVuY3Rpb24oZ2x0Zil7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgbWVzaGVzPWdsdGYubWVzaGVzO2dsdGYuZ2VvbWV0cmllcz1bXSxtZXNoZXMuZm9yRWFjaChmdW5jdGlvbihtZXNoLGkpe3ZhciBwcmltaXRpdmVzPW1lc2gucHJpbWl0aXZlcyxnZW9tZXRyeT17fTtwcmltaXRpdmVzLmZvckVhY2goZnVuY3Rpb24ocHJpbWl0aXZlSW5mbyxpKXt2YXIgc2VtYW50aWNzPU9iamVjdC5rZXlzKHByaW1pdGl2ZUluZm8uYXR0cmlidXRlcyksZGVmaW5lcz17fTtpZihzZW1hbnRpY3MuZm9yRWFjaChmdW5jdGlvbihzZW1hbnRpYyxpKXt2YXIgYWNjZXNzb3JJZHg9cHJpbWl0aXZlSW5mby5hdHRyaWJ1dGVzW3NlbWFudGljXSxhdHRyaWJ1dGVJbmZvPWdsdGYuYWNjZXNzb3JzW2FjY2Vzc29ySWR4XSxhdHRyaWJ1dGVOYW1lPXNlbWFudGljQXR0cmlidXRlTWFwW3NlbWFudGljXTtpZihhdHRyaWJ1dGVOYW1lKXtcIk5PUk1BTFwiPT09c2VtYW50aWMmJihkZWZpbmVzLkhBU19OT1JNQUxTPTEpLHNlbWFudGljLmluZGV4T2YoXCJURVhDT09SRFwiKT4tMSYmKGRlZmluZXMuSEFTX1VWPTEpO3ZhciBzaXplPVNJWkVfTUFQW2F0dHJpYnV0ZUluZm8udHlwZV0sYXR0cmlidXRlQXJyYXk9X2dldEFjY2Vzc29yRGF0YShnbHRmLGFjY2Vzc29ySWR4KTthdHRyaWJ1dGVBcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5JiYoYXR0cmlidXRlQXJyYXk9bmV3IEZsb2F0MzJBcnJheShhdHRyaWJ1dGVBcnJheSkpLFwiVEVYQ09PUkRfMVwiPT09c2VtYW50aWMmJmNvbnNvbGUubG9nKHNpemUsYXR0cmlidXRlQXJyYXkpLGdlb21ldHJ5W2F0dHJpYnV0ZU5hbWVdPXt2YWx1ZTphdHRyaWJ1dGVBcnJheSxzaXplOnNpemV9fX0pLG51bGwhPXByaW1pdGl2ZUluZm8uaW5kaWNlcyl7dmFyIGF0dHJpYnV0ZUFycmF5PV9nZXRBY2Nlc3NvckRhdGEoZ2x0ZixwcmltaXRpdmVJbmZvLmluZGljZXMsITApO2dlb21ldHJ5LmluZGljZXM9e3ZhbHVlOmF0dHJpYnV0ZUFycmF5LHNpemU6MX19dmFyIG09bmV3IF9NZXNoMi5kZWZhdWx0O2Zvcih2YXIgcyBpbiBnZW9tZXRyeSl7dmFyIGRhdGE9Z2VvbWV0cnlbc107XCJpbmRpY2VzXCIhPT1zP20uYnVmZmVyRmxhdHRlbkRhdGEoZGF0YS52YWx1ZSxzLGRhdGEuc2l6ZSk6bS5idWZmZXJJbmRleChkYXRhLnZhbHVlKX1pZihnbHRmLm91dHB1dC5tZXNoZXMucHVzaChtKSxwcmltaXRpdmVJbmZvLm1hdGVyaWFsKXtjb25zb2xlLmxvZyhcImdsdGYub3V0cHV0XCIsZ2x0Zi5vdXRwdXQscHJpbWl0aXZlSW5mby5tYXRlcmlhbCk7dmFyIG1hdGVyaWFsPWdsdGYub3V0cHV0Lm1hdGVyaWFsc1twcmltaXRpdmVJbmZvLm1hdGVyaWFsXTttLm1hdGVyaWFsPW1hdGVyaWFsLGRlZmluZXM9b2JqZWN0QXNzaWduKGRlZmluZXMsbS5tYXRlcmlhbC5kZWZpbmVzKSxtLmRlZmluZXM9ZGVmaW5lczt2YXIgc2hhZGVyPVNoYWRlcnMuZ2V0KFNoYWRlckxpYnMuZ2x0ZlZlcnQsU2hhZGVyTGlicy5nbHRmRnJhZyxkZWZpbmVzKSxlbWlzc2l2ZUZhY290cj1tYXRlcmlhbC5lbWlzc2l2ZUZhY290cixub3JtYWxUZXh0dXJlPW1hdGVyaWFsLm5vcm1hbFRleHR1cmUsb2NjbHVzaW9uVGV4dHVyZT1tYXRlcmlhbC5vY2NsdXNpb25UZXh0dXJlLHBick1ldGFsbGljUm91Z2huZXNzPW1hdGVyaWFsLnBick1ldGFsbGljUm91Z2huZXNzLGJhc2VDb2xvclRleHR1cmU9cGJyTWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSxtZXRhbGxpY1JvdWdobmVzc1RleHR1cmU9cGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLHVuaWZvcm1zPXt1RW1pc3NpdmVGYWN0b3I6ZW1pc3NpdmVGYWNvdHJ8fFswLDAsMF0sdUJhc2VDb2xvcjpwYnJNZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3J8fFsxLDEsMSwxXSx1Um91Z2huZXNzOnBick1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3Rvcnx8MSx1TWV0YWxsaWM6cGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3J8fDEsdVNjYWxlRGlmZkJhc2VNUjpbMCwwLDAsMF0sdVNjYWxlRkdEU3BlYzpbMCwwLDAsMF0sdVNjYWxlSUJMQW1iaWVudDpbMSwxLDEsMV0sdUxpZ2h0RGlyZWN0aW9uOlsxLDEsMV0sdUxpZ2h0Q29sb3I6WzEsMSwxXSx1R2FtbWE6MX07YmFzZUNvbG9yVGV4dHVyZSYmKHVuaWZvcm1zLnVDb2xvck1hcD1iYXNlQ29sb3JUZXh0dXJlLmdsVGV4dHVyZSksbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlJiYodW5pZm9ybXMudU1ldGFsbGljUm91Z2huZXNzTWFwPW1ldGFsbGljUm91Z2huZXNzVGV4dHVyZS5nbFRleHR1cmUpLG5vcm1hbFRleHR1cmUmJih1bmlmb3Jtcy51Tm9ybWFsU2NhbGU9bm9ybWFsVGV4dHVyZS5zY2FsZXx8MSx1bmlmb3Jtcy51Tm9ybWFsTWFwPW5vcm1hbFRleHR1cmUuZ2xUZXh0dXJlKSxvY2NsdXNpb25UZXh0dXJlJiYodW5pZm9ybXMudUFvTWFwPW9jY2x1c2lvblRleHR1cmUuZ2xUZXh0dXJlLHVuaWZvcm1zLnVPY2NsdXNpb25TdHJlbmd0aD1vY2NsdXNpb25UZXh0dXJlLnN0cmVuZ3RofHwxKSxzaGFkZXIuYmluZCgpLHNoYWRlci51bmlmb3JtKHVuaWZvcm1zKSxtLm1hdGVyaWFsLnNoYWRlcj1zaGFkZXIsbS5tYXRlcmlhbC51bmlmb3Jtcz11bmlmb3Jtc31nbHRmLmdlb21ldHJpZXMucHVzaChnZW9tZXRyeSl9KX0pLHJlc29sdmUoZ2x0Zil9KX0sX2dldEFjY2Vzc29yRGF0YT1mdW5jdGlvbihnbHRmLGFjY2Vzc29ySWR4KXt2YXIgaXNJbmRpY2VzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sYWNjZXNzb3JJbmZvPWdsdGYuYWNjZXNzb3JzW2FjY2Vzc29ySWR4XSxidWZmZXI9Z2x0Zi5idWZmZXJWaWV3c1thY2Nlc3NvckluZm8uYnVmZmVyVmlld10uZGF0YSxieXRlT2Zmc2V0PWFjY2Vzc29ySW5mby5ieXRlT2Zmc2V0fHwwLEFycmF5Q3Rvcj1BUlJBWV9DVE9SX01BUFthY2Nlc3NvckluZm8uY29tcG9uZW50VHlwZV18fEZsb2F0MzJBcnJheSxzaXplPVNJWkVfTUFQW2FjY2Vzc29ySW5mby50eXBlXTtudWxsPT1zaXplJiZpc0luZGljZXMmJihzaXplPTEpO3ZhciBhcnI9bmV3IEFycmF5Q3RvcihidWZmZXIsYnl0ZU9mZnNldCxzaXplKmFjY2Vzc29ySW5mby5jb3VudCkscXVhbnRpemVFeHRlbnNpb249YWNjZXNzb3JJbmZvLmV4dGVuc2lvbnMmJmFjY2Vzc29ySW5mby5leHRlbnNpb25zLldFQjNEX3F1YW50aXplZF9hdHRyaWJ1dGVzO2lmKHF1YW50aXplRXh0ZW5zaW9uKXtmb3IodmFyIGRlY29kZWRBcnI9bmV3IEZsb2F0MzJBcnJheShzaXplKmFjY2Vzc29ySW5mby5jb3VudCksZGVjb2RlTWF0cml4PXF1YW50aXplRXh0ZW5zaW9uLmRlY29kZU1hdHJpeCxkZWNvZGVPZmZzZXQ9bmV3IEFycmF5KHNpemUpLGRlY29kZVNjYWxlPW5ldyBBcnJheShzaXplKSxrPTA7azxzaXplO2srKylkZWNvZGVPZmZzZXRba109ZGVjb2RlTWF0cml4W3NpemUqKHNpemUrMSkra10sZGVjb2RlU2NhbGVba109ZGVjb2RlTWF0cml4W2sqKHNpemUrMSkra107Zm9yKHZhciBpPTA7aTxhY2Nlc3NvckluZm8uY291bnQ7aSsrKWZvcih2YXIgX2s9MDtfazxzaXplO19rKyspZGVjb2RlZEFycltpKnNpemUrX2tdPWFycltpKnNpemUrX2tdKmRlY29kZVNjYWxlW19rXStkZWNvZGVPZmZzZXRbX2tdO2Fycj1kZWNvZGVkQXJyfXJldHVybiBhcnJ9O2V4cG9ydHMuZGVmYXVsdD17cGFyc2U6cGFyc2V9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXQ9ZnVuY3Rpb24gZ2V0KG9iamVjdCxwcm9wZXJ0eSxyZWNlaXZlcil7bnVsbD09PW9iamVjdCYmKG9iamVjdD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBkZXNjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LHByb3BlcnR5KTtpZih2b2lkIDA9PT1kZXNjKXt2YXIgcGFyZW50PU9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO3JldHVybiBudWxsPT09cGFyZW50P3ZvaWQgMDpnZXQocGFyZW50LHByb3BlcnR5LHJlY2VpdmVyKX1pZihcInZhbHVlXCJpbiBkZXNjKXJldHVybiBkZXNjLnZhbHVlO3ZhciBnZXR0ZXI9ZGVzYy5nZXQ7aWYodm9pZCAwIT09Z2V0dGVyKXJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcil9LF9HZW9tPV9fd2VicGFja19yZXF1aXJlX18oNyksX0dlb20yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dlb20pLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9CYXRjaDI9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxfQmF0Y2gzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoMiksX2JpZ1RyaWFuZ2xlPV9fd2VicGFja19yZXF1aXJlX18oMTUpLF9iaWdUcmlhbmdsZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmlnVHJpYW5nbGUpLF9jb3B5PV9fd2VicGFja19yZXF1aXJlX18oMTYpLF9jb3B5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb3B5KSxCYXRjaENvcHk9ZnVuY3Rpb24oX0JhdGNoKXtmdW5jdGlvbiBCYXRjaENvcHkoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCYXRjaENvcHkpO3ZhciBtZXNoPV9HZW9tMi5kZWZhdWx0LmJpZ1RyaWFuZ2xlKCksc2hhZGVyPW5ldyBfR0xTaGFkZXIyLmRlZmF1bHQoX2JpZ1RyaWFuZ2xlMi5kZWZhdWx0LF9jb3B5Mi5kZWZhdWx0KSxfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChCYXRjaENvcHkuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hDb3B5KSkuY2FsbCh0aGlzLG1lc2gsc2hhZGVyKSk7cmV0dXJuIHNoYWRlci5iaW5kKCksc2hhZGVyLnVuaWZvcm0oXCJ0ZXh0dXJlXCIsXCJ1bmlmb3JtMWlcIiwwKSxfdGhpc31yZXR1cm4gX2luaGVyaXRzKEJhdGNoQ29weSxfQmF0Y2gpLF9jcmVhdGVDbGFzcyhCYXRjaENvcHksW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odGV4dHVyZSl7dGhpcy5zaGFkZXIuYmluZCgpLHRleHR1cmUuYmluZCgwKSxfZ2V0KEJhdGNoQ29weS5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hDb3B5LnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzKX19XSksQmF0Y2hDb3B5fShfQmF0Y2gzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1CYXRjaENvcHl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9NZXNoPV9fd2VicGFja19yZXF1aXJlX18oNSksX01lc2gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9CYXRjaDI9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxfQmF0Y2gzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoMiksX2F4aXM9X193ZWJwYWNrX3JlcXVpcmVfXyg2NiksX2F4aXMyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aXMpLF9heGlzMz1fX3dlYnBhY2tfcmVxdWlyZV9fKDY3KSxfYXhpczQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpczMpLEJhdGNoQXhpcz1mdW5jdGlvbihfQmF0Y2gpe2Z1bmN0aW9uIEJhdGNoQXhpcygpe19jbGFzc0NhbGxDaGVjayh0aGlzLEJhdGNoQXhpcyk7dmFyIHBvc2l0aW9ucz1bXSxjb2xvcnM9W10saW5kaWNlcz1bMCwxLDIsMyw0LDVdLHI9OTk5OTtwb3NpdGlvbnMucHVzaChbLXIsMCwwXSkscG9zaXRpb25zLnB1c2goW3IsMCwwXSkscG9zaXRpb25zLnB1c2goWzAsLXIsMF0pLHBvc2l0aW9ucy5wdXNoKFswLHIsMF0pLHBvc2l0aW9ucy5wdXNoKFswLDAsLXJdKSxwb3NpdGlvbnMucHVzaChbMCwwLHJdKSxjb2xvcnMucHVzaChbMSwwLDBdKSxjb2xvcnMucHVzaChbMSwwLDBdKSxjb2xvcnMucHVzaChbMCwxLDBdKSxjb2xvcnMucHVzaChbMCwxLDBdKSxjb2xvcnMucHVzaChbMCwwLDFdKSxjb2xvcnMucHVzaChbMCwwLDFdKTt2YXIgbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQoX0dMVG9vbDIuZGVmYXVsdC5MSU5FUyk7bWVzaC5idWZmZXJWZXJ0ZXgocG9zaXRpb25zKSxtZXNoLmJ1ZmZlckluZGV4KGluZGljZXMpLG1lc2guYnVmZmVyRGF0YShjb2xvcnMsXCJhQ29sb3JcIiwzKTt2YXIgc2hhZGVyPW5ldyBfR0xTaGFkZXIyLmRlZmF1bHQoX2F4aXMyLmRlZmF1bHQsX2F4aXM0LmRlZmF1bHQpO3JldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChCYXRjaEF4aXMuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hBeGlzKSkuY2FsbCh0aGlzLG1lc2gsc2hhZGVyKSl9cmV0dXJuIF9pbmhlcml0cyhCYXRjaEF4aXMsX0JhdGNoKSxCYXRjaEF4aXN9KF9CYXRjaDMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PUJhdGNoQXhpc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gYXhpcy52ZXJ0XFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBCQVNJQ19WRVJURVhcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5hdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYUNvbG9yO1xcbmF0dHJpYnV0ZSB2ZWMzIGFOb3JtYWw7XFxuXFxudW5pZm9ybSBtYXQ0IHVNb2RlbE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVZpZXdNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMyB2Q29sb3I7XFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gICAgZ2xfUG9zaXRpb24gPSB1UHJvamVjdGlvbk1hdHJpeCAqIHVWaWV3TWF0cml4ICogdU1vZGVsTWF0cml4ICogdmVjNChhVmVydGV4UG9zaXRpb24sIDEuMCk7XFxuICAgIHZDb2xvciA9IGFDb2xvcjtcXG4gICAgdk5vcm1hbCA9IGFOb3JtYWw7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBheGlzLmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIFNJTVBMRV9URVhUVVJFXFxuXFxucHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG52YXJ5aW5nIHZlYzMgdkNvbG9yO1xcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFx0Ly8gdmVjMyBjb2xvciA9IHZOb3JtYWw7XFxuXFx0dmVjMyBjb2xvciA9IHZDb2xvciArIHZOb3JtYWwgKiAwLjAwMDE7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXQ9ZnVuY3Rpb24gZ2V0KG9iamVjdCxwcm9wZXJ0eSxyZWNlaXZlcil7bnVsbD09PW9iamVjdCYmKG9iamVjdD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBkZXNjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LHByb3BlcnR5KTtpZih2b2lkIDA9PT1kZXNjKXt2YXIgcGFyZW50PU9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO3JldHVybiBudWxsPT09cGFyZW50P3ZvaWQgMDpnZXQocGFyZW50LHByb3BlcnR5LHJlY2VpdmVyKX1pZihcInZhbHVlXCJpbiBkZXNjKXJldHVybiBkZXNjLnZhbHVlO3ZhciBnZXR0ZXI9ZGVzYy5nZXQ7aWYodm9pZCAwIT09Z2V0dGVyKXJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcil9LF9HZW9tPV9fd2VicGFja19yZXF1aXJlX18oNyksX0dlb20yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dlb20pLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9CYXRjaDI9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxfQmF0Y2gzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoMiksX2dlbmVyYWw9X193ZWJwYWNrX3JlcXVpcmVfXygzMyksX2dlbmVyYWwyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYWwpLF9zaW1wbGVDb2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3KSxfc2ltcGxlQ29sb3IyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUNvbG9yKSxCYXRjaEJhbGw9ZnVuY3Rpb24oX0JhdGNoKXtmdW5jdGlvbiBCYXRjaEJhbGwoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCYXRjaEJhbGwpO3ZhciBtZXNoPV9HZW9tMi5kZWZhdWx0LnNwaGVyZSgxLDI0KSxzaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdChfZ2VuZXJhbDIuZGVmYXVsdCxfc2ltcGxlQ29sb3IyLmRlZmF1bHQpO3JldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChCYXRjaEJhbGwuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hCYWxsKSkuY2FsbCh0aGlzLG1lc2gsc2hhZGVyKSl9cmV0dXJuIF9pbmhlcml0cyhCYXRjaEJhbGwsX0JhdGNoKSxfY3JlYXRlQ2xhc3MoQmF0Y2hCYWxsLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHBvc2l0aW9uPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbMCwwLDBdLHNjYWxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMSwxLDFdLGNvbG9yPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpbMSwxLDFdLG9wYWNpdHk9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7dGhpcy5zaGFkZXIuYmluZCgpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJwb3NpdGlvblwiLFwidW5pZm9ybTNmdlwiLHBvc2l0aW9uKSx0aGlzLnNoYWRlci51bmlmb3JtKFwic2NhbGVcIixcInVuaWZvcm0zZnZcIixzY2FsZSksdGhpcy5zaGFkZXIudW5pZm9ybShcImNvbG9yXCIsXCJ1bmlmb3JtM2Z2XCIsY29sb3IpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJvcGFjaXR5XCIsXCJ1bmlmb3JtMWZcIixvcGFjaXR5KSxfZ2V0KEJhdGNoQmFsbC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hCYWxsLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzKX19XSksQmF0Y2hCYWxsfShfQmF0Y2gzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1CYXRjaEJhbGx9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dldD1mdW5jdGlvbiBnZXQob2JqZWN0LHByb3BlcnR5LHJlY2VpdmVyKXtudWxsPT09b2JqZWN0JiYob2JqZWN0PUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGRlc2M9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QscHJvcGVydHkpO2lmKHZvaWQgMD09PWRlc2Mpe3ZhciBwYXJlbnQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7cmV0dXJuIG51bGw9PT1wYXJlbnQ/dm9pZCAwOmdldChwYXJlbnQscHJvcGVydHkscmVjZWl2ZXIpfWlmKFwidmFsdWVcImluIGRlc2MpcmV0dXJuIGRlc2MudmFsdWU7dmFyIGdldHRlcj1kZXNjLmdldDtpZih2b2lkIDAhPT1nZXR0ZXIpcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKX0sX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX01lc2g9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxfTWVzaDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMSksX0dMU2hhZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFNoYWRlciksX0JhdGNoMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLF9CYXRjaDM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2gyKSxfZG90c1BsYW5lPV9fd2VicGFja19yZXF1aXJlX18oNzApLF9kb3RzUGxhbmUyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvdHNQbGFuZSksX2RvdHNQbGFuZTM9X193ZWJwYWNrX3JlcXVpcmVfXyg3MSksX2RvdHNQbGFuZTQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG90c1BsYW5lMyksQmF0Y2hEb3RzUGxhbmU9ZnVuY3Rpb24oX0JhdGNoKXtmdW5jdGlvbiBCYXRjaERvdHNQbGFuZSgpe19jbGFzc0NhbGxDaGVjayh0aGlzLEJhdGNoRG90c1BsYW5lKTt2YXIgcG9zaXRpb25zPVtdLGluZGljZXM9W10saW5kZXg9MCxpPXZvaWQgMCxqPXZvaWQgMDtmb3IoaT0tMTAwO2k8MTAwO2krPTEpZm9yKGo9LTEwMDtqPDEwMDtqKz0xKXBvc2l0aW9ucy5wdXNoKFtpLGosMF0pLGluZGljZXMucHVzaChpbmRleCksaW5kZXgrKyxwb3NpdGlvbnMucHVzaChbaSwwLGpdKSxpbmRpY2VzLnB1c2goaW5kZXgpLGluZGV4Kys7dmFyIG1lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KF9HTFRvb2wyLmRlZmF1bHQuUE9JTlRTKTttZXNoLmJ1ZmZlclZlcnRleChwb3NpdGlvbnMpLG1lc2guYnVmZmVySW5kZXgoaW5kaWNlcyk7dmFyIHNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KF9kb3RzUGxhbmUyLmRlZmF1bHQsX2RvdHNQbGFuZTQuZGVmYXVsdCksX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmF0Y2hEb3RzUGxhbmUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hEb3RzUGxhbmUpKS5jYWxsKHRoaXMsbWVzaCxzaGFkZXIpKTtyZXR1cm4gX3RoaXMuY29sb3I9WzEsMSwxXSxfdGhpcy5vcGFjaXR5PS42NSxfdGhpc31yZXR1cm4gX2luaGVyaXRzKEJhdGNoRG90c1BsYW5lLF9CYXRjaCksX2NyZWF0ZUNsYXNzKEJhdGNoRG90c1BsYW5lLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaGFkZXIuYmluZCgpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJjb2xvclwiLFwidW5pZm9ybTNmdlwiLHRoaXMuY29sb3IpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJvcGFjaXR5XCIsXCJ1bmlmb3JtMWZcIix0aGlzLm9wYWNpdHkpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ2aWV3cG9ydFwiLFwidmVjMlwiLFtfR0xUb29sMi5kZWZhdWx0LndpZHRoLF9HTFRvb2wyLmRlZmF1bHQuaGVpZ2h0XSksX2dldChCYXRjaERvdHNQbGFuZS5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hEb3RzUGxhbmUucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMpfX1dKSxCYXRjaERvdHNQbGFuZX0oX0JhdGNoMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9QmF0Y2hEb3RzUGxhbmV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGJhc2ljLnZlcnRcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIERPVFNfUExBTkVfVkVSVEVYXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMzIGFOb3JtYWw7XFxuXFxudW5pZm9ybSBtYXQ0IHVNb2RlbE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVZpZXdNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gdmVjMiB2aWV3cG9ydDtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG5cXG5jb25zdCBmbG9hdCByYWRpdXMgPSAwLjAwODtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uTWF0cml4ICogdVZpZXdNYXRyaXggKiB1TW9kZWxNYXRyaXggKiB2ZWM0KGFWZXJ0ZXhQb3NpdGlvbiArIGFOb3JtYWwgKiAwLjAwMDAwMSwgMS4wKTtcXG4gICAgLy8gZ2xfUG9pbnRTaXplID0gMS4wO1xcbiAgICB2Tm9ybWFsID0gYU5vcm1hbDtcXG5cXG5cXHRmbG9hdCBkaXN0T2Zmc2V0ID0gdmlld3BvcnQueSAqIHVQcm9qZWN0aW9uTWF0cml4WzFdWzFdICogcmFkaXVzIC8gZ2xfUG9zaXRpb24udztcXG4gICAgZ2xfUG9pbnRTaXplID0gZGlzdE9mZnNldDtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGRvdHNQbGFuZS5mcmFnXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuXFxudW5pZm9ybSB2ZWMzIGNvbG9yO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcdGlmKGRpc3RhbmNlKGdsX1BvaW50Q29vcmQsIHZlYzIoLjUpKSA+IC41KSB7XFxuXFx0XFx0ZGlzY2FyZDtcXG5cXHR9XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIG9wYWNpdHkpO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2V0PWZ1bmN0aW9uIGdldChvYmplY3QscHJvcGVydHkscmVjZWl2ZXIpe251bGw9PT1vYmplY3QmJihvYmplY3Q9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgZGVzYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxwcm9wZXJ0eSk7aWYodm9pZCAwPT09ZGVzYyl7dmFyIHBhcmVudD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtyZXR1cm4gbnVsbD09PXBhcmVudD92b2lkIDA6Z2V0KHBhcmVudCxwcm9wZXJ0eSxyZWNlaXZlcil9aWYoXCJ2YWx1ZVwiaW4gZGVzYylyZXR1cm4gZGVzYy52YWx1ZTt2YXIgZ2V0dGVyPWRlc2MuZ2V0O2lmKHZvaWQgMCE9PWdldHRlcilyZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpfSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfTWVzaD1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLF9NZXNoMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfQmF0Y2gyPV9fd2VicGFja19yZXF1aXJlX18oNiksX0JhdGNoMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaDIpLHZzPV9fd2VicGFja19yZXF1aXJlX18oOSksZnM9X193ZWJwYWNrX3JlcXVpcmVfXygxNyksQmF0Y2hBeGlzPWZ1bmN0aW9uKF9CYXRjaCl7ZnVuY3Rpb24gQmF0Y2hBeGlzKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQmF0Y2hBeGlzKTt2YXIgcG9zaXRpb25zPVtdLGluZGljZXM9WzAsMV0sY29vcmRzPVtbMCwwXSxbMSwxXV07cG9zaXRpb25zLnB1c2goWzAsMCwwXSkscG9zaXRpb25zLnB1c2goWzAsMCwwXSk7dmFyIG1lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KF9HTFRvb2wyLmRlZmF1bHQuTElORVMpO21lc2guYnVmZmVyVmVydGV4KHBvc2l0aW9ucyksbWVzaC5idWZmZXJUZXhDb29yZChjb29yZHMpLG1lc2guYnVmZmVySW5kZXgoaW5kaWNlcyk7dmFyIHNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KHZzLGZzKTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmF0Y2hBeGlzLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoQXhpcykpLmNhbGwodGhpcyxtZXNoLHNoYWRlcikpfXJldHVybiBfaW5oZXJpdHMoQmF0Y2hBeGlzLF9CYXRjaCksX2NyZWF0ZUNsYXNzKEJhdGNoQXhpcyxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbihtUG9zaXRpb25BLG1Qb3NpdGlvbkIpe3ZhciBjb2xvcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06WzEsMSwxXSxvcGFjaXR5PWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxO3RoaXMuX21lc2guYnVmZmVyVmVydGV4KFttUG9zaXRpb25BLG1Qb3NpdGlvbkJdKSx0aGlzLl9zaGFkZXIuYmluZCgpLHRoaXMuX3NoYWRlci51bmlmb3JtKFwiY29sb3JcIixcInZlYzNcIixjb2xvciksdGhpcy5fc2hhZGVyLnVuaWZvcm0oXCJvcGFjaXR5XCIsXCJmbG9hdFwiLG9wYWNpdHkpLF9nZXQoQmF0Y2hBeGlzLnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihCYXRjaEF4aXMucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMpfX1dKSxCYXRjaEF4aXN9KF9CYXRjaDMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PUJhdGNoQXhpc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2V0PWZ1bmN0aW9uIGdldChvYmplY3QscHJvcGVydHkscmVjZWl2ZXIpe251bGw9PT1vYmplY3QmJihvYmplY3Q9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgZGVzYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxwcm9wZXJ0eSk7aWYodm9pZCAwPT09ZGVzYyl7dmFyIHBhcmVudD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtyZXR1cm4gbnVsbD09PXBhcmVudD92b2lkIDA6Z2V0KHBhcmVudCxwcm9wZXJ0eSxyZWNlaXZlcil9aWYoXCJ2YWx1ZVwiaW4gZGVzYylyZXR1cm4gZGVzYy52YWx1ZTt2YXIgZ2V0dGVyPWRlc2MuZ2V0O2lmKHZvaWQgMCE9PWdldHRlcilyZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpfSxfR2VvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9HZW9tMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HZW9tKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfQmF0Y2gyPV9fd2VicGFja19yZXF1aXJlX18oNiksX0JhdGNoMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaDIpLHZzPV9fd2VicGFja19yZXF1aXJlX18oMzQpLGZzPV9fd2VicGFja19yZXF1aXJlX18oMzUpLEJhdGNoU2t5Ym94PWZ1bmN0aW9uKF9CYXRjaCl7ZnVuY3Rpb24gQmF0Y2hTa3lib3goKXt2YXIgc2l6ZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MjA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQmF0Y2hTa3lib3gpO3ZhciBtZXNoPV9HZW9tMi5kZWZhdWx0LnNreWJveChzaXplKSxzaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdCh2cyxmcyk7cmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKEJhdGNoU2t5Ym94Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoU2t5Ym94KSkuY2FsbCh0aGlzLG1lc2gsc2hhZGVyKSl9cmV0dXJuIF9pbmhlcml0cyhCYXRjaFNreWJveCxfQmF0Y2gpLF9jcmVhdGVDbGFzcyhCYXRjaFNreWJveCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0ZXh0dXJlKXt0aGlzLnNoYWRlci5iaW5kKCksdGV4dHVyZS5iaW5kKDApLF9nZXQoQmF0Y2hTa3lib3gucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoU2t5Ym94LnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzKX19XSksQmF0Y2hTa3lib3h9KF9CYXRjaDMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PUJhdGNoU2t5Ym94fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXQ9ZnVuY3Rpb24gZ2V0KG9iamVjdCxwcm9wZXJ0eSxyZWNlaXZlcil7bnVsbD09PW9iamVjdCYmKG9iamVjdD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBkZXNjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LHByb3BlcnR5KTtpZih2b2lkIDA9PT1kZXNjKXt2YXIgcGFyZW50PU9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO3JldHVybiBudWxsPT09cGFyZW50P3ZvaWQgMDpnZXQocGFyZW50LHByb3BlcnR5LHJlY2VpdmVyKX1pZihcInZhbHVlXCJpbiBkZXNjKXJldHVybiBkZXNjLnZhbHVlO3ZhciBnZXR0ZXI9ZGVzYy5nZXQ7aWYodm9pZCAwIT09Z2V0dGVyKXJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcil9LF9HZW9tPV9fd2VicGFja19yZXF1aXJlX18oNyksX0dlb20yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dlb20pLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9CYXRjaDI9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxfQmF0Y2gzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoMiksdnM9X193ZWJwYWNrX3JlcXVpcmVfXyg3NSksZnM9X193ZWJwYWNrX3JlcXVpcmVfXygxNiksQmF0Y2hTa3k9ZnVuY3Rpb24oX0JhdGNoKXtmdW5jdGlvbiBCYXRjaFNreSgpe3ZhciBzaXplPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTo1MCxzZWc9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjI0O19jbGFzc0NhbGxDaGVjayh0aGlzLEJhdGNoU2t5KTt2YXIgbWVzaD1fR2VvbTIuZGVmYXVsdC5zcGhlcmUoc2l6ZSxzZWcsITApLHNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KHZzLGZzKTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmF0Y2hTa3kuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hTa3kpKS5jYWxsKHRoaXMsbWVzaCxzaGFkZXIpKX1yZXR1cm4gX2luaGVyaXRzKEJhdGNoU2t5LF9CYXRjaCksX2NyZWF0ZUNsYXNzKEJhdGNoU2t5LFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHRleHR1cmUpe3RoaXMuc2hhZGVyLmJpbmQoKSx0ZXh0dXJlLmJpbmQoMCksX2dldChCYXRjaFNreS5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hTa3kucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMpfX1dKSxCYXRjaFNreX0oX0JhdGNoMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9QmF0Y2hTa3l9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIHNreS52ZXJ0XFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Vmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXHRtYXQ0IG1hdFZpZXcgPSB1Vmlld01hdHJpeDtcXG5cXHRtYXRWaWV3WzNdWzBdID0gMC4wO1xcblxcdG1hdFZpZXdbM11bMV0gPSAwLjA7XFxuXFx0bWF0Vmlld1szXVsyXSA9IDAuMDtcXG5cXHRcXG4gICAgZ2xfUG9zaXRpb24gPSB1UHJvamVjdGlvbk1hdHJpeCAqIG1hdFZpZXcgKiB1TW9kZWxNYXRyaXggKiB2ZWM0KGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZOb3JtYWwgPSBhTm9ybWFsO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2V0PWZ1bmN0aW9uIGdldChvYmplY3QscHJvcGVydHkscmVjZWl2ZXIpe251bGw9PT1vYmplY3QmJihvYmplY3Q9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgZGVzYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxwcm9wZXJ0eSk7aWYodm9pZCAwPT09ZGVzYyl7dmFyIHBhcmVudD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtyZXR1cm4gbnVsbD09PXBhcmVudD92b2lkIDA6Z2V0KHBhcmVudCxwcm9wZXJ0eSxyZWNlaXZlcil9aWYoXCJ2YWx1ZVwiaW4gZGVzYylyZXR1cm4gZGVzYy52YWx1ZTt2YXIgZ2V0dGVyPWRlc2MuZ2V0O2lmKHZvaWQgMCE9PWdldHRlcilyZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpfSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfR2VvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9HZW9tMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HZW9tKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfQmF0Y2gyPV9fd2VicGFja19yZXF1aXJlX18oNiksX0JhdGNoMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaDIpLHZzPV9fd2VicGFja19yZXF1aXJlX18oMTUpLGZzPV9fd2VicGFja19yZXF1aXJlX18oNzcpLEJhdGNoRlhBQT1mdW5jdGlvbihfQmF0Y2gpe2Z1bmN0aW9uIEJhdGNoRlhBQSgpe19jbGFzc0NhbGxDaGVjayh0aGlzLEJhdGNoRlhBQSk7dmFyIG1lc2g9X0dlb20yLmRlZmF1bHQuYmlnVHJpYW5nbGUoKSxzaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdCh2cyxmcyksX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmF0Y2hGWEFBLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoRlhBQSkpLmNhbGwodGhpcyxtZXNoLHNoYWRlcikpO3JldHVybiBzaGFkZXIuYmluZCgpLHNoYWRlci51bmlmb3JtKFwidGV4dHVyZVwiLFwidW5pZm9ybTFpXCIsMCksX3RoaXN9cmV0dXJuIF9pbmhlcml0cyhCYXRjaEZYQUEsX0JhdGNoKSxfY3JlYXRlQ2xhc3MoQmF0Y2hGWEFBLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHRleHR1cmUpe3RoaXMuc2hhZGVyLmJpbmQoKSx0ZXh0dXJlLmJpbmQoMCksdGhpcy5zaGFkZXIudW5pZm9ybShcInVSZXNvbHV0aW9uXCIsXCJ2ZWMyXCIsWzEvX0dMVG9vbDIuZGVmYXVsdC53aWR0aCwxL19HTFRvb2wyLmRlZmF1bHQuaGVpZ2h0XSksX2dldChCYXRjaEZYQUEucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoRlhBQS5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyl9fV0pLEJhdGNoRlhBQX0oX0JhdGNoMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9QmF0Y2hGWEFBfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBmeGFhLmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIEZYQUFcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlO1xcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcXG5cXG5cXG5mbG9hdCBGWEFBX1NVQlBJWF9TSElGVCA9IDEuMC80LjA7XFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NSU4gICAoMS4wLyAxMjguMClcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAgLyA4LjApXFxuI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcXG5cXG5cXG52ZWM0IGFwcGx5RlhBQShzYW1wbGVyMkQgdGV4KSB7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgIHZlYzIgZnJhZ0Nvb3JkID0gZ2xfRnJhZ0Nvb3JkLnh5O1xcbiAgICB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgLTEuMCkpICogdVJlc29sdXRpb24pLnh5ejtcXG4gICAgdmVjMyByZ2JORSA9IHRleHR1cmUyRCh0ZXgsIChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgLTEuMCkpICogdVJlc29sdXRpb24pLnh5ejtcXG4gICAgdmVjMyByZ2JTVyA9IHRleHR1cmUyRCh0ZXgsIChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIDEuMCkpICogdVJlc29sdXRpb24pLnh5ejtcXG4gICAgdmVjMyByZ2JTRSA9IHRleHR1cmUyRCh0ZXgsIChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgMS4wKSkgKiB1UmVzb2x1dGlvbikueHl6O1xcbiAgICB2ZWMzIHJnYk0gID0gdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICAqIHVSZXNvbHV0aW9uKS54eXo7XFxuICAgIHZlYzMgbHVtYSA9IHZlYzMoMC4yOTksIDAuNTg3LCAwLjExNCk7XFxuICAgIGZsb2F0IGx1bWFOVyA9IGRvdChyZ2JOVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFORSA9IGRvdChyZ2JORSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTVyA9IGRvdChyZ2JTVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTRSA9IGRvdChyZ2JTRSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNICA9IGRvdChyZ2JNLCAgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNaW4gPSBtaW4obHVtYU0sIG1pbihtaW4obHVtYU5XLCBsdW1hTkUpLCBtaW4obHVtYVNXLCBsdW1hU0UpKSk7XFxuICAgIGZsb2F0IGx1bWFNYXggPSBtYXgobHVtYU0sIG1heChtYXgobHVtYU5XLCBsdW1hTkUpLCBtYXgobHVtYVNXLCBsdW1hU0UpKSk7XFxuXFxuICAgIHZlYzIgZGlyO1xcbiAgICBkaXIueCA9IC0oKGx1bWFOVyArIGx1bWFORSkgLSAobHVtYVNXICsgbHVtYVNFKSk7XFxuICAgIGRpci55ID0gICgobHVtYU5XICsgbHVtYVNXKSAtIChsdW1hTkUgKyBsdW1hU0UpKTtcXG5cXG4gICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KChsdW1hTlcgKyBsdW1hTkUgKyBsdW1hU1cgKyBsdW1hU0UpICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgwLjI1ICogRlhBQV9SRURVQ0VfTVVMKSwgRlhBQV9SRURVQ0VfTUlOKTtcXG5cXG4gICAgZmxvYXQgcmNwRGlyTWluID0gMS4wIC8gKG1pbihhYnMoZGlyLngpLCBhYnMoZGlyLnkpKSArIGRpclJlZHVjZSk7XFxuICAgIGRpciA9IG1pbih2ZWMyKEZYQUFfU1BBTl9NQVgsIEZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgbWF4KHZlYzIoLUZYQUFfU1BBTl9NQVgsIC1GWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgIGRpciAqIHJjcERpck1pbikpICogdVJlc29sdXRpb247XFxuXFxuICAgIHZlYzMgcmdiQSA9IDAuNSAqIChcXG4gICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIHVSZXNvbHV0aW9uICsgZGlyICogKDEuMCAvIDMuMCAtIDAuNSkpLnh5eiArXFxuICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiB1UmVzb2x1dGlvbiArIGRpciAqICgyLjAgLyAzLjAgLSAwLjUpKS54eXopO1xcbiAgICB2ZWMzIHJnYkIgPSByZ2JBICogMC41ICsgMC4yNSAqIChcXG4gICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIHVSZXNvbHV0aW9uICsgZGlyICogLTAuNSkueHl6ICtcXG4gICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIHVSZXNvbHV0aW9uICsgZGlyICogMC41KS54eXopO1xcblxcbiAgICBmbG9hdCBsdW1hQiA9IGRvdChyZ2JCLCBsdW1hKTtcXG4gICAgaWYgKChsdW1hQiA8IGx1bWFNaW4pIHx8IChsdW1hQiA+IGx1bWFNYXgpKVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkEsIDEuMCk7XFxuICAgIGVsc2VcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JCLCAxLjApO1xcbiAgICByZXR1cm4gY29sb3I7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuIFxcdHZlYzQgY29sb3IgPSBhcHBseUZYQUEodGV4dHVyZSk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9zY2hlZHVsaW5nPV9fd2VicGFja19yZXF1aXJlX18oNCksX3NjaGVkdWxpbmcyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NjaGVkdWxpbmcpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9DYW1lcmFQZXJzcGVjdGl2ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSxfQ2FtZXJhUGVyc3BlY3RpdmUyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbWVyYVBlcnNwZWN0aXZlKSxfQ2FtZXJhT3J0aG89X193ZWJwYWNrX3JlcXVpcmVfXygzMSksX0NhbWVyYU9ydGhvMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW1lcmFPcnRobyksX09yYml0YWxDb250cm9sPV9fd2VicGFja19yZXF1aXJlX18oMzApLF9PcmJpdGFsQ29udHJvbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3JiaXRhbENvbnRyb2wpLFNjZW5lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU2NlbmUoKXt2YXIgX3RoaXM9dGhpcztfY2xhc3NDYWxsQ2hlY2sodGhpcyxTY2VuZSksdGhpcy5fY2hpbGRyZW49W10sdGhpcy5fbWF0cml4SWRlbnRpdHk9bWF0NC5jcmVhdGUoKSxfR0xUb29sMi5kZWZhdWx0LmVuYWJsZUFscGhhQmxlbmRpbmcoKSx0aGlzLl9pbml0KCksdGhpcy5faW5pdFRleHR1cmVzKCksdGhpcy5faW5pdFZpZXdzKCksdGhpcy5fZWZJbmRleD1fc2NoZWR1bGluZzIuZGVmYXVsdC5hZGRFRihmdW5jdGlvbigpe3JldHVybiBfdGhpcy5fbG9vcCgpfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixmdW5jdGlvbigpe3JldHVybiBfdGhpcy5yZXNpemUoKX0pfXJldHVybiBfY3JlYXRlQ2xhc3MoU2NlbmUsW3trZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJzdG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXstMSE9PXRoaXMuX2VmSW5kZXgmJih0aGlzLl9lZkluZGV4PV9zY2hlZHVsaW5nMi5kZWZhdWx0LnJlbW92ZUVGKHRoaXMuX2VmSW5kZXgpKX19LHtrZXk6XCJzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIF90aGlzMj10aGlzOy0xPT09dGhpcy5fZWZJbmRleCYmKHRoaXMuX2VmSW5kZXg9X3NjaGVkdWxpbmcyLmRlZmF1bHQuYWRkRUYoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMyLl9sb29wKCl9KSl9fSx7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXtfR0xUb29sMi5kZWZhdWx0LnNldFNpemUod2luZG93LmlubmVyV2lkdGgsd2luZG93LmlubmVySGVpZ2h0KSx0aGlzLmNhbWVyYS5zZXRBc3BlY3RSYXRpbyhfR0xUb29sMi5kZWZhdWx0LmFzcGVjdFJhdGlvKX19LHtrZXk6XCJhZGRDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKG1DaGlsZCl7dGhpcy5fY2hpbGRyZW4ucHVzaChtQ2hpbGQpfX0se2tleTpcInJlbW92ZUNoaWxkXCIsdmFsdWU6ZnVuY3Rpb24obUNoaWxkKXt2YXIgaW5kZXg9dGhpcy5fY2hpbGRyZW4uaW5kZXhPZihtQ2hpbGQpO2lmKC0xPT1pbmRleClyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJDaGlsZCBubyBleGlzdFwiKTt0aGlzLl9jaGlsZHJlbi5zcGxpY2UoaW5kZXgsMSl9fSx7a2V5OlwiX2luaXRUZXh0dXJlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcIl9pbml0Vmlld3NcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJfcmVuZGVyQ2hpbGRyZW5cIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgY2hpbGQ9dm9pZCAwLGk9MDtpPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpKyspY2hpbGQ9dGhpcy5fY2hpbGRyZW5baV0sY2hpbGQudG9SZW5kZXIoKTtfR0xUb29sMi5kZWZhdWx0LnJvdGF0ZSh0aGlzLl9tYXRyaXhJZGVudGl0eSl9fSx7a2V5OlwiX2luaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2FtZXJhPW5ldyBfQ2FtZXJhUGVyc3BlY3RpdmUyLmRlZmF1bHQsdGhpcy5jYW1lcmEuc2V0UGVyc3BlY3RpdmUoNDUqTWF0aC5QSS8xODAsX0dMVG9vbDIuZGVmYXVsdC5hc3BlY3RSYXRpbywuMSwxMDApLHRoaXMub3JiaXRhbENvbnRyb2w9bmV3IF9PcmJpdGFsQ29udHJvbDIuZGVmYXVsdCh0aGlzLmNhbWVyYSx3aW5kb3csMTUpLHRoaXMub3JiaXRhbENvbnRyb2wucmFkaXVzLnZhbHVlPTEwLHRoaXMuY2FtZXJhT3J0aG89bmV3IF9DYW1lcmFPcnRobzIuZGVmYXVsdH19LHtrZXk6XCJfbG9vcFwiLHZhbHVlOmZ1bmN0aW9uKCl7X0dMVG9vbDIuZGVmYXVsdC52aWV3cG9ydCgwLDAsX0dMVG9vbDIuZGVmYXVsdC53aWR0aCxfR0xUb29sMi5kZWZhdWx0LmhlaWdodCksX0dMVG9vbDIuZGVmYXVsdC5zZXRNYXRyaWNlcyh0aGlzLmNhbWVyYSksdGhpcy51cGRhdGUoKSx0aGlzLl9yZW5kZXJDaGlsZHJlbigpLHRoaXMucmVuZGVyKCl9fV0pLFNjZW5lfSgpO2V4cG9ydHMuZGVmYXVsdD1TY2VuZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMSksX0dMU2hhZGVyMj1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfR0xTaGFkZXIpLFZpZXc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBWaWV3KG1TdHJWZXJ0ZXgsbVN0ckZyYWcpe19jbGFzc0NhbGxDaGVjayh0aGlzLFZpZXcpLHRoaXMuc2hhZGVyPW5ldyBfR0xTaGFkZXIyLmRlZmF1bHQobVN0clZlcnRleCxtU3RyRnJhZyksdGhpcy5faW5pdCgpfXJldHVybiBfY3JlYXRlQ2xhc3MoVmlldyxbe2tleTpcIl9pbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pLFZpZXd9KCk7ZXhwb3J0cy5kZWZhdWx0PVZpZXd9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX09iamVjdDNEMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSxfT2JqZWN0M0QzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdDNEMiksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMSksX0dMU2hhZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFNoYWRlciksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLFZpZXczRD0oX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxmdW5jdGlvbihfT2JqZWN0M0Qpe2Z1bmN0aW9uIFZpZXczRChtU3RyVmVydGV4LG1TdHJGcmFnKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxWaWV3M0QpO3ZhciBfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChWaWV3M0QuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoVmlldzNEKSkuY2FsbCh0aGlzKSk7cmV0dXJuIF90aGlzLl9jaGlsZHJlbj1bXSxfdGhpcy5zaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdChtU3RyVmVydGV4LG1TdHJGcmFnKSxfdGhpcy5faW5pdCgpLF90aGlzfXJldHVybiBfaW5oZXJpdHMoVmlldzNELF9PYmplY3QzRCksX2NyZWF0ZUNsYXNzKFZpZXczRCxbe2tleTpcIl9pbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pLFZpZXczRH0oX09iamVjdDNEMy5kZWZhdWx0KSk7ZXhwb3J0cy5kZWZhdWx0PVZpZXczRH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9NZXNoPV9fd2VicGFja19yZXF1aXJlX18oNSksX01lc2gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLERyYXc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBEcmF3KCl7cmV0dXJuIF9jbGFzc0NhbGxDaGVjayh0aGlzLERyYXcpLHRoaXMuX3VuaWZvcm1zPXt9LHRoaXMuX3VuaWZvcm1UZXh0dXJlcz1bXSx0aGlzLl9mYm8sdGhpcy5fY2xlYXJDb2xvcj17cjowLGc6MCxiOjAsYTowfSx0aGlzfXJldHVybiBfY3JlYXRlQ2xhc3MoRHJhdyxbe2tleTpcInNldENsZWFyQ29sb3JcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGc9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsYj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxhPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTowO3JldHVybiB0aGlzLl9jbGVhckNvbG9yLnI9cix0aGlzLl9jbGVhckNvbG9yLmc9Zyx0aGlzLl9jbGVhckNvbG9yLmI9Yix0aGlzLl9jbGVhckNvbG9yLmE9YSx0aGlzfX0se2tleTpcInVzZVByb2dyYW1cIix2YWx1ZTpmdW5jdGlvbih2cyxmcyl7cmV0dXJuIHZzIGluc3RhbmNlb2YgX0dMU2hhZGVyMi5kZWZhdWx0P3RoaXMuX3NoYWRlcj12czp0aGlzLl9zaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdCh2cyxmcyksdGhpc319LHtrZXk6XCJzZXRNZXNoXCIsdmFsdWU6ZnVuY3Rpb24obU1lc2gpe3JldHVybiB0aGlzLl9tZXNoPW1NZXNoLHRoaXN9fSx7a2V5OlwiY3JlYXRlTWVzaFwiLHZhbHVlOmZ1bmN0aW9uKG1UeXBlKXtyZXR1cm4gdGhpcy5fbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQobVR5cGUpLHRoaXN9fSx7a2V5OlwiYnVmZmVyVmVydGV4XCIsdmFsdWU6ZnVuY3Rpb24obUFycmF5VmVydGljZXMpe3JldHVybiB0aGlzLl9tZXNofHwodGhpcy5fbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQpLHRoaXMuX21lc2guYnVmZmVyVmVydGV4KG1BcnJheVZlcnRpY2VzKSx0aGlzfX0se2tleTpcImJ1ZmZlclRleENvb3JkXCIsdmFsdWU6ZnVuY3Rpb24obUFycmF5VGV4Q29vcmRzKXtyZXR1cm4gdGhpcy5fbWVzaHx8KHRoaXMuX21lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KSx0aGlzLl9tZXNoLmJ1ZmZlclRleENvb3JkKG1BcnJheVRleENvb3JkcyksdGhpc319LHtrZXk6XCJidWZmZXJOb3JtYWxcIix2YWx1ZTpmdW5jdGlvbihtQXJyYXlOb3JtYWxzKXtyZXR1cm4gdGhpcy5fbWVzaHx8KHRoaXMuX21lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KSx0aGlzLl9tZXNoLmJ1ZmZlck5vcm1hbChtQXJyYXlOb3JtYWxzKSx0aGlzfX0se2tleTpcImJ1ZmZlckluZGV4XCIsdmFsdWU6ZnVuY3Rpb24obUluZGljZXMpe3JldHVybiB0aGlzLl9tZXNofHwodGhpcy5fbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQpLHRoaXMuX21lc2guYnVmZmVySW5kZXgobUluZGljZXMpLHRoaXN9fSx7a2V5OlwiYnVmZmVySW5zdGFuY2VcIix2YWx1ZTpmdW5jdGlvbihtRGF0YSxtTmFtZSl7cmV0dXJuIHRoaXMuX21lc2g/KHRoaXMuX21lc2guYnVmZmVySW5zdGFuY2UobURhdGEsbU5hbWUpLHRoaXMpOihjb25zb2xlLndhcm4oXCJOZWVkIHRvIGNyZWF0ZSBtZXNoIGZpcnN0XCIpLHRoaXMpfX0se2tleTpcImJ1ZmZlckRhdGFcIix2YWx1ZTpmdW5jdGlvbihtQXJyYXlEYXRhLG1OYW1lKXtyZXR1cm4gdGhpcy5fbWVzaHx8KHRoaXMuX21lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KSx0aGlzLl9tZXNoLmJ1ZmZlckRhdGEobUFycmF5RGF0YSxtTmFtZSksdGhpc319LHtrZXk6XCJ1bmlmb3JtXCIsdmFsdWU6ZnVuY3Rpb24obmFtZSx0eXBlLHZhbHVlKXtyZXR1cm4gdGhpcy5fdW5pZm9ybXNbbmFtZV09e3R5cGU6dHlwZSx2YWx1ZTp2YWx1ZX0sdGhpc319LHtrZXk6XCJ1bmlmb3JtVGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKG5hbWUsdGV4dHVyZSxpbmRleCl7cmV0dXJuIHZvaWQgMCE9PWluZGV4P3RoaXMuX3VuaWZvcm1UZXh0dXJlc1tpbmRleF09e25hbWU6bmFtZSx0ZXh0dXJlOnRleHR1cmV9OnRoaXMuX3VuaWZvcm1UZXh0dXJlcy5wdXNoKHtuYW1lOm5hbWUsdGV4dHVyZTp0ZXh0dXJlfSksdGhpc319LHtrZXk6XCJiaW5kRnJhbWVCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbihmYm8pe3JldHVybiB0aGlzLl9mYm89ZmJvLHRoaXN9fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7aWYodGhpcy5fc2hhZGVyJiZ0aGlzLl9tZXNoKXtpZih0aGlzLl9mYm8pe3ZhciBfY2xlYXJDb2xvcj10aGlzLl9jbGVhckNvbG9yLHI9X2NsZWFyQ29sb3IucixnPV9jbGVhckNvbG9yLmcsYj1fY2xlYXJDb2xvci5iLGE9X2NsZWFyQ29sb3IuYTt0aGlzLl9mYm8uYmluZCgpLF9HTFRvb2wyLmRlZmF1bHQuY2xlYXIocixnLGIsYSl9dGhpcy5fc2hhZGVyLmJpbmQoKTtmb3IodmFyIHMgaW4gdGhpcy5fdW5pZm9ybXMpe3ZhciBvPXRoaXMuX3VuaWZvcm1zW3NdO3RoaXMuX3NoYWRlci51bmlmb3JtKHMsby50eXBlLG8udmFsdWUpfXJldHVybiB0aGlzLl91bmlmb3JtVGV4dHVyZXMuZm9yRWFjaChmdW5jdGlvbihvLGkpe3ZvaWQgMCE9PW8mJihfdGhpcy5fc2hhZGVyLnVuaWZvcm0oby5uYW1lLFwidW5pZm9ybTFpXCIsaSksby50ZXh0dXJlLmJpbmQoaSkpfSksX0dMVG9vbDIuZGVmYXVsdC5kcmF3KHRoaXMuX21lc2gpLHRoaXMuX2ZibyYmdGhpcy5fZmJvLnVuYmluZCgpLHRoaXN9fX0se2tleTpcInNoYWRlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkZXJ9fSx7a2V5OlwiZnJhbWVidWZmZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmJvfX1dKSxEcmF3fSgpO2V4cG9ydHMuZGVmYXVsdD1EcmF3fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9zaW1wbGVDb2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3KSxfc2ltcGxlQ29sb3IyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUNvbG9yKSxfYmlnVHJpYW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXygxNSksX2JpZ1RyaWFuZ2xlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaWdUcmlhbmdsZSksX2dlbmVyYWw9X193ZWJwYWNrX3JlcXVpcmVfXygzMyksX2dlbmVyYWwyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYWwpLF9jb3B5PV9fd2VicGFja19yZXF1aXJlX18oMTYpLF9jb3B5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb3B5KSxfYmFzaWM9X193ZWJwYWNrX3JlcXVpcmVfXyg5KSxfYmFzaWMyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jhc2ljKSxfc2t5Ym94PV9fd2VicGFja19yZXF1aXJlX18oMzQpLF9za3lib3gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NreWJveCksX3NreWJveDM9X193ZWJwYWNrX3JlcXVpcmVfXygzNSksX3NreWJveDQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2t5Ym94MyksU2hhZGVyTGlicz17c2ltcGxlQ29sb3JGcmFnOl9zaW1wbGVDb2xvcjIuZGVmYXVsdCxiaWdUcmlhbmdsZVZlcnQ6X2JpZ1RyaWFuZ2xlMi5kZWZhdWx0LGdlbmVyYWxWZXJ0Ol9nZW5lcmFsMi5kZWZhdWx0LGNvcHlGcmFnOl9jb3B5Mi5kZWZhdWx0LGJhc2ljVmVydDpfYmFzaWMyLmRlZmF1bHQsc2t5Ym94VmVydDpfc2t5Ym94Mi5kZWZhdWx0LHNreWJveEZyYWc6X3NreWJveDQuZGVmYXVsdH07ZXhwb3J0cy5kZWZhdWx0PVNoYWRlckxpYnN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX0Zib0FycmF5PV9fd2VicGFja19yZXF1aXJlX18oMzYpLF9GYm9BcnJheTI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX0Zib0FycmF5KSxGYm9QaW5nUG9uZz1mdW5jdGlvbihfRmJvRmFycmF5KXtmdW5jdGlvbiBGYm9QaW5nUG9uZyh3aWR0aCxoZWlnaHQpe3ZhciBwYXJhbXM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG1OdW1UYXJnZXRzPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxO3JldHVybiBfY2xhc3NDYWxsQ2hlY2sodGhpcyxGYm9QaW5nUG9uZyksX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoRmJvUGluZ1BvbmcuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoRmJvUGluZ1BvbmcpKS5jYWxsKHRoaXMsMix3aWR0aCxoZWlnaHQscGFyYW1zLG1OdW1UYXJnZXRzKSl9cmV0dXJuIF9pbmhlcml0cyhGYm9QaW5nUG9uZyxfRmJvRmFycmF5KSxGYm9QaW5nUG9uZ30oX0Zib0FycmF5Mi5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9RmJvUGluZ1Bvbmd9XSl9KTsiLCIvKipcbiAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcbiAqIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9kYXQtZ3VpXG4gKlxuICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKi9cblxuZnVuY3Rpb24gX19fJGluc2VydFN0eWxlKGNzcykge1xuICBpZiAoIWNzcykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXG4gIHN0eWxlLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuICBzdHlsZS5pbm5lckhUTUwgPSBjc3M7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG4gIHJldHVybiBjc3M7XG59XG5cbmZ1bmN0aW9uIGNvbG9yVG9TdHJpbmcgKGNvbG9yLCBmb3JjZUNTU0hleCkge1xuICB2YXIgY29sb3JGb3JtYXQgPSBjb2xvci5fX3N0YXRlLmNvbnZlcnNpb25OYW1lLnRvU3RyaW5nKCk7XG4gIHZhciByID0gTWF0aC5yb3VuZChjb2xvci5yKTtcbiAgdmFyIGcgPSBNYXRoLnJvdW5kKGNvbG9yLmcpO1xuICB2YXIgYiA9IE1hdGgucm91bmQoY29sb3IuYik7XG4gIHZhciBhID0gY29sb3IuYTtcbiAgdmFyIGggPSBNYXRoLnJvdW5kKGNvbG9yLmgpO1xuICB2YXIgcyA9IGNvbG9yLnMudG9GaXhlZCgxKTtcbiAgdmFyIHYgPSBjb2xvci52LnRvRml4ZWQoMSk7XG4gIGlmIChmb3JjZUNTU0hleCB8fCBjb2xvckZvcm1hdCA9PT0gJ1RIUkVFX0NIQVJfSEVYJyB8fCBjb2xvckZvcm1hdCA9PT0gJ1NJWF9DSEFSX0hFWCcpIHtcbiAgICB2YXIgc3RyID0gY29sb3IuaGV4LnRvU3RyaW5nKDE2KTtcbiAgICB3aGlsZSAoc3RyLmxlbmd0aCA8IDYpIHtcbiAgICAgIHN0ciA9ICcwJyArIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuICcjJyArIHN0cjtcbiAgfSBlbHNlIGlmIChjb2xvckZvcm1hdCA9PT0gJ0NTU19SR0InKSB7XG4gICAgcmV0dXJuICdyZ2IoJyArIHIgKyAnLCcgKyBnICsgJywnICsgYiArICcpJztcbiAgfSBlbHNlIGlmIChjb2xvckZvcm1hdCA9PT0gJ0NTU19SR0JBJykge1xuICAgIHJldHVybiAncmdiYSgnICsgciArICcsJyArIGcgKyAnLCcgKyBiICsgJywnICsgYSArICcpJztcbiAgfSBlbHNlIGlmIChjb2xvckZvcm1hdCA9PT0gJ0hFWCcpIHtcbiAgICByZXR1cm4gJzB4JyArIGNvbG9yLmhleC50b1N0cmluZygxNik7XG4gIH0gZWxzZSBpZiAoY29sb3JGb3JtYXQgPT09ICdSR0JfQVJSQVknKSB7XG4gICAgcmV0dXJuICdbJyArIHIgKyAnLCcgKyBnICsgJywnICsgYiArICddJztcbiAgfSBlbHNlIGlmIChjb2xvckZvcm1hdCA9PT0gJ1JHQkFfQVJSQVknKSB7XG4gICAgcmV0dXJuICdbJyArIHIgKyAnLCcgKyBnICsgJywnICsgYiArICcsJyArIGEgKyAnXSc7XG4gIH0gZWxzZSBpZiAoY29sb3JGb3JtYXQgPT09ICdSR0JfT0JKJykge1xuICAgIHJldHVybiAne3I6JyArIHIgKyAnLGc6JyArIGcgKyAnLGI6JyArIGIgKyAnfSc7XG4gIH0gZWxzZSBpZiAoY29sb3JGb3JtYXQgPT09ICdSR0JBX09CSicpIHtcbiAgICByZXR1cm4gJ3tyOicgKyByICsgJyxnOicgKyBnICsgJyxiOicgKyBiICsgJyxhOicgKyBhICsgJ30nO1xuICB9IGVsc2UgaWYgKGNvbG9yRm9ybWF0ID09PSAnSFNWX09CSicpIHtcbiAgICByZXR1cm4gJ3toOicgKyBoICsgJyxzOicgKyBzICsgJyx2OicgKyB2ICsgJ30nO1xuICB9IGVsc2UgaWYgKGNvbG9yRm9ybWF0ID09PSAnSFNWQV9PQkonKSB7XG4gICAgcmV0dXJuICd7aDonICsgaCArICcsczonICsgcyArICcsdjonICsgdiArICcsYTonICsgYSArICd9JztcbiAgfVxuICByZXR1cm4gJ3Vua25vd24gZm9ybWF0Jztcbn1cblxudmFyIEFSUl9FQUNIID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2g7XG52YXIgQVJSX1NMSUNFID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIENvbW1vbiA9IHtcbiAgQlJFQUs6IHt9LFxuICBleHRlbmQ6IGZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQpIHtcbiAgICB0aGlzLmVhY2goQVJSX1NMSUNFLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgdmFyIGtleXMgPSB0aGlzLmlzT2JqZWN0KG9iaikgPyBPYmplY3Qua2V5cyhvYmopIDogW107XG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNVbmRlZmluZWQob2JqW2tleV0pKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LCB0aGlzKTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9LFxuICBkZWZhdWx0czogZnVuY3Rpb24gZGVmYXVsdHModGFyZ2V0KSB7XG4gICAgdGhpcy5lYWNoKEFSUl9TTElDRS5jYWxsKGFyZ3VtZW50cywgMSksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHZhciBrZXlzID0gdGhpcy5pc09iamVjdChvYmopID8gT2JqZWN0LmtleXMob2JqKSA6IFtdO1xuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNVbmRlZmluZWQodGFyZ2V0W2tleV0pKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LCB0aGlzKTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9LFxuICBjb21wb3NlOiBmdW5jdGlvbiBjb21wb3NlKCkge1xuICAgIHZhciB0b0NhbGwgPSBBUlJfU0xJQ0UuY2FsbChhcmd1bWVudHMpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXJncyA9IEFSUl9TTElDRS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICBmb3IgKHZhciBpID0gdG9DYWxsLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGFyZ3MgPSBbdG9DYWxsW2ldLmFwcGx5KHRoaXMsIGFyZ3MpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcmdzWzBdO1xuICAgIH07XG4gIH0sXG4gIGVhY2g6IGZ1bmN0aW9uIGVhY2gob2JqLCBpdHIsIHNjb3BlKSB7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKEFSUl9FQUNIICYmIG9iai5mb3JFYWNoICYmIG9iai5mb3JFYWNoID09PSBBUlJfRUFDSCkge1xuICAgICAgb2JqLmZvckVhY2goaXRyLCBzY29wZSk7XG4gICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoID09PSBvYmoubGVuZ3RoICsgMCkge1xuICAgICAgdmFyIGtleSA9IHZvaWQgMDtcbiAgICAgIHZhciBsID0gdm9pZCAwO1xuICAgICAgZm9yIChrZXkgPSAwLCBsID0gb2JqLmxlbmd0aDsga2V5IDwgbDsga2V5KyspIHtcbiAgICAgICAgaWYgKGtleSBpbiBvYmogJiYgaXRyLmNhbGwoc2NvcGUsIG9ialtrZXldLCBrZXkpID09PSB0aGlzLkJSRUFLKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIF9rZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChpdHIuY2FsbChzY29wZSwgb2JqW19rZXldLCBfa2V5KSA9PT0gdGhpcy5CUkVBSykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZGVmZXI6IGZ1bmN0aW9uIGRlZmVyKGZuYykge1xuICAgIHNldFRpbWVvdXQoZm5jLCAwKTtcbiAgfSxcbiAgZGVib3VuY2U6IGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHRocmVzaG9sZCwgY2FsbEltbWVkaWF0ZWx5KSB7XG4gICAgdmFyIHRpbWVvdXQgPSB2b2lkIDA7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBmdW5jdGlvbiBkZWxheWVkKCkge1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFjYWxsSW1tZWRpYXRlbHkpIGZ1bmMuYXBwbHkob2JqLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHZhciBjYWxsTm93ID0gY2FsbEltbWVkaWF0ZWx5IHx8ICF0aW1lb3V0O1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZGVsYXllZCwgdGhyZXNob2xkKTtcbiAgICAgIGlmIChjYWxsTm93KSB7XG4gICAgICAgIGZ1bmMuYXBwbHkob2JqLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICB0b0FycmF5OiBmdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICAgIGlmIChvYmoudG9BcnJheSkgcmV0dXJuIG9iai50b0FycmF5KCk7XG4gICAgcmV0dXJuIEFSUl9TTElDRS5jYWxsKG9iaik7XG4gIH0sXG4gIGlzVW5kZWZpbmVkOiBmdW5jdGlvbiBpc1VuZGVmaW5lZChvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQ7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24gaXNOdWxsKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IG51bGw7XG4gIH0sXG4gIGlzTmFOOiBmdW5jdGlvbiAoX2lzTmFOKSB7XG4gICAgZnVuY3Rpb24gaXNOYU4oX3gpIHtcbiAgICAgIHJldHVybiBfaXNOYU4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgaXNOYU4udG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX2lzTmFOLnRvU3RyaW5nKCk7XG4gICAgfTtcbiAgICByZXR1cm4gaXNOYU47XG4gIH0oZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBpc05hTihvYmopO1xuICB9KSxcbiAgaXNBcnJheTogQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iai5jb25zdHJ1Y3RvciA9PT0gQXJyYXk7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBPYmplY3Qob2JqKTtcbiAgfSxcbiAgaXNOdW1iZXI6IGZ1bmN0aW9uIGlzTnVtYmVyKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IG9iaiArIDA7XG4gIH0sXG4gIGlzU3RyaW5nOiBmdW5jdGlvbiBpc1N0cmluZyhvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBvYmogKyAnJztcbiAgfSxcbiAgaXNCb29sZWFuOiBmdW5jdGlvbiBpc0Jvb2xlYW4ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gZmFsc2UgfHwgb2JqID09PSB0cnVlO1xuICB9LFxuICBpc0Z1bmN0aW9uOiBmdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgfVxufTtcblxudmFyIElOVEVSUFJFVEFUSU9OUyA9IFtcbntcbiAgbGl0bXVzOiBDb21tb24uaXNTdHJpbmcsXG4gIGNvbnZlcnNpb25zOiB7XG4gICAgVEhSRUVfQ0hBUl9IRVg6IHtcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQob3JpZ2luYWwpIHtcbiAgICAgICAgdmFyIHRlc3QgPSBvcmlnaW5hbC5tYXRjaCgvXiMoW0EtRjAtOV0pKFtBLUYwLTldKShbQS1GMC05XSkkL2kpO1xuICAgICAgICBpZiAodGVzdCA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNwYWNlOiAnSEVYJyxcbiAgICAgICAgICBoZXg6IHBhcnNlSW50KCcweCcgKyB0ZXN0WzFdLnRvU3RyaW5nKCkgKyB0ZXN0WzFdLnRvU3RyaW5nKCkgKyB0ZXN0WzJdLnRvU3RyaW5nKCkgKyB0ZXN0WzJdLnRvU3RyaW5nKCkgKyB0ZXN0WzNdLnRvU3RyaW5nKCkgKyB0ZXN0WzNdLnRvU3RyaW5nKCksIDApXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgd3JpdGU6IGNvbG9yVG9TdHJpbmdcbiAgICB9LFxuICAgIFNJWF9DSEFSX0hFWDoge1xuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChvcmlnaW5hbCkge1xuICAgICAgICB2YXIgdGVzdCA9IG9yaWdpbmFsLm1hdGNoKC9eIyhbQS1GMC05XXs2fSkkL2kpO1xuICAgICAgICBpZiAodGVzdCA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNwYWNlOiAnSEVYJyxcbiAgICAgICAgICBoZXg6IHBhcnNlSW50KCcweCcgKyB0ZXN0WzFdLnRvU3RyaW5nKCksIDApXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgd3JpdGU6IGNvbG9yVG9TdHJpbmdcbiAgICB9LFxuICAgIENTU19SR0I6IHtcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQob3JpZ2luYWwpIHtcbiAgICAgICAgdmFyIHRlc3QgPSBvcmlnaW5hbC5tYXRjaCgvXnJnYlxcKFxccyooLispXFxzKixcXHMqKC4rKVxccyosXFxzKiguKylcXHMqXFwpLyk7XG4gICAgICAgIGlmICh0ZXN0ID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3BhY2U6ICdSR0InLFxuICAgICAgICAgIHI6IHBhcnNlRmxvYXQodGVzdFsxXSksXG4gICAgICAgICAgZzogcGFyc2VGbG9hdCh0ZXN0WzJdKSxcbiAgICAgICAgICBiOiBwYXJzZUZsb2F0KHRlc3RbM10pXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgd3JpdGU6IGNvbG9yVG9TdHJpbmdcbiAgICB9LFxuICAgIENTU19SR0JBOiB7XG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG9yaWdpbmFsKSB7XG4gICAgICAgIHZhciB0ZXN0ID0gb3JpZ2luYWwubWF0Y2goL15yZ2JhXFwoXFxzKiguKylcXHMqLFxccyooLispXFxzKixcXHMqKC4rKVxccyosXFxzKiguKylcXHMqXFwpLyk7XG4gICAgICAgIGlmICh0ZXN0ID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3BhY2U6ICdSR0InLFxuICAgICAgICAgIHI6IHBhcnNlRmxvYXQodGVzdFsxXSksXG4gICAgICAgICAgZzogcGFyc2VGbG9hdCh0ZXN0WzJdKSxcbiAgICAgICAgICBiOiBwYXJzZUZsb2F0KHRlc3RbM10pLFxuICAgICAgICAgIGE6IHBhcnNlRmxvYXQodGVzdFs0XSlcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICB3cml0ZTogY29sb3JUb1N0cmluZ1xuICAgIH1cbiAgfVxufSxcbntcbiAgbGl0bXVzOiBDb21tb24uaXNOdW1iZXIsXG4gIGNvbnZlcnNpb25zOiB7XG4gICAgSEVYOiB7XG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG9yaWdpbmFsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3BhY2U6ICdIRVgnLFxuICAgICAgICAgIGhleDogb3JpZ2luYWwsXG4gICAgICAgICAgY29udmVyc2lvbk5hbWU6ICdIRVgnXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKGNvbG9yKSB7XG4gICAgICAgIHJldHVybiBjb2xvci5oZXg7XG4gICAgICB9XG4gICAgfVxuICB9XG59LFxue1xuICBsaXRtdXM6IENvbW1vbi5pc0FycmF5LFxuICBjb252ZXJzaW9uczoge1xuICAgIFJHQl9BUlJBWToge1xuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChvcmlnaW5hbCkge1xuICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoICE9PSAzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3BhY2U6ICdSR0InLFxuICAgICAgICAgIHI6IG9yaWdpbmFsWzBdLFxuICAgICAgICAgIGc6IG9yaWdpbmFsWzFdLFxuICAgICAgICAgIGI6IG9yaWdpbmFsWzJdXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKGNvbG9yKSB7XG4gICAgICAgIHJldHVybiBbY29sb3IuciwgY29sb3IuZywgY29sb3IuYl07XG4gICAgICB9XG4gICAgfSxcbiAgICBSR0JBX0FSUkFZOiB7XG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG9yaWdpbmFsKSB7XG4gICAgICAgIGlmIChvcmlnaW5hbC5sZW5ndGggIT09IDQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzcGFjZTogJ1JHQicsXG4gICAgICAgICAgcjogb3JpZ2luYWxbMF0sXG4gICAgICAgICAgZzogb3JpZ2luYWxbMV0sXG4gICAgICAgICAgYjogb3JpZ2luYWxbMl0sXG4gICAgICAgICAgYTogb3JpZ2luYWxbM11cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIFtjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iLCBjb2xvci5hXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sXG57XG4gIGxpdG11czogQ29tbW9uLmlzT2JqZWN0LFxuICBjb252ZXJzaW9uczoge1xuICAgIFJHQkFfT0JKOiB7XG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG9yaWdpbmFsKSB7XG4gICAgICAgIGlmIChDb21tb24uaXNOdW1iZXIob3JpZ2luYWwucikgJiYgQ29tbW9uLmlzTnVtYmVyKG9yaWdpbmFsLmcpICYmIENvbW1vbi5pc051bWJlcihvcmlnaW5hbC5iKSAmJiBDb21tb24uaXNOdW1iZXIob3JpZ2luYWwuYSkpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3BhY2U6ICdSR0InLFxuICAgICAgICAgICAgcjogb3JpZ2luYWwucixcbiAgICAgICAgICAgIGc6IG9yaWdpbmFsLmcsXG4gICAgICAgICAgICBiOiBvcmlnaW5hbC5iLFxuICAgICAgICAgICAgYTogb3JpZ2luYWwuYVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShjb2xvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHI6IGNvbG9yLnIsXG4gICAgICAgICAgZzogY29sb3IuZyxcbiAgICAgICAgICBiOiBjb2xvci5iLFxuICAgICAgICAgIGE6IGNvbG9yLmFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFJHQl9PQko6IHtcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQob3JpZ2luYWwpIHtcbiAgICAgICAgaWYgKENvbW1vbi5pc051bWJlcihvcmlnaW5hbC5yKSAmJiBDb21tb24uaXNOdW1iZXIob3JpZ2luYWwuZykgJiYgQ29tbW9uLmlzTnVtYmVyKG9yaWdpbmFsLmIpKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNwYWNlOiAnUkdCJyxcbiAgICAgICAgICAgIHI6IG9yaWdpbmFsLnIsXG4gICAgICAgICAgICBnOiBvcmlnaW5hbC5nLFxuICAgICAgICAgICAgYjogb3JpZ2luYWwuYlxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShjb2xvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHI6IGNvbG9yLnIsXG4gICAgICAgICAgZzogY29sb3IuZyxcbiAgICAgICAgICBiOiBjb2xvci5iXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBIU1ZBX09CSjoge1xuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChvcmlnaW5hbCkge1xuICAgICAgICBpZiAoQ29tbW9uLmlzTnVtYmVyKG9yaWdpbmFsLmgpICYmIENvbW1vbi5pc051bWJlcihvcmlnaW5hbC5zKSAmJiBDb21tb24uaXNOdW1iZXIob3JpZ2luYWwudikgJiYgQ29tbW9uLmlzTnVtYmVyKG9yaWdpbmFsLmEpKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNwYWNlOiAnSFNWJyxcbiAgICAgICAgICAgIGg6IG9yaWdpbmFsLmgsXG4gICAgICAgICAgICBzOiBvcmlnaW5hbC5zLFxuICAgICAgICAgICAgdjogb3JpZ2luYWwudixcbiAgICAgICAgICAgIGE6IG9yaWdpbmFsLmFcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBoOiBjb2xvci5oLFxuICAgICAgICAgIHM6IGNvbG9yLnMsXG4gICAgICAgICAgdjogY29sb3IudixcbiAgICAgICAgICBhOiBjb2xvci5hXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBIU1ZfT0JKOiB7XG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG9yaWdpbmFsKSB7XG4gICAgICAgIGlmIChDb21tb24uaXNOdW1iZXIob3JpZ2luYWwuaCkgJiYgQ29tbW9uLmlzTnVtYmVyKG9yaWdpbmFsLnMpICYmIENvbW1vbi5pc051bWJlcihvcmlnaW5hbC52KSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzcGFjZTogJ0hTVicsXG4gICAgICAgICAgICBoOiBvcmlnaW5hbC5oLFxuICAgICAgICAgICAgczogb3JpZ2luYWwucyxcbiAgICAgICAgICAgIHY6IG9yaWdpbmFsLnZcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBoOiBjb2xvci5oLFxuICAgICAgICAgIHM6IGNvbG9yLnMsXG4gICAgICAgICAgdjogY29sb3IudlxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxufV07XG52YXIgcmVzdWx0ID0gdm9pZCAwO1xudmFyIHRvUmV0dXJuID0gdm9pZCAwO1xudmFyIGludGVycHJldCA9IGZ1bmN0aW9uIGludGVycHJldCgpIHtcbiAgdG9SZXR1cm4gPSBmYWxzZTtcbiAgdmFyIG9yaWdpbmFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBDb21tb24udG9BcnJheShhcmd1bWVudHMpIDogYXJndW1lbnRzWzBdO1xuICBDb21tb24uZWFjaChJTlRFUlBSRVRBVElPTlMsIGZ1bmN0aW9uIChmYW1pbHkpIHtcbiAgICBpZiAoZmFtaWx5LmxpdG11cyhvcmlnaW5hbCkpIHtcbiAgICAgIENvbW1vbi5lYWNoKGZhbWlseS5jb252ZXJzaW9ucywgZnVuY3Rpb24gKGNvbnZlcnNpb24sIGNvbnZlcnNpb25OYW1lKSB7XG4gICAgICAgIHJlc3VsdCA9IGNvbnZlcnNpb24ucmVhZChvcmlnaW5hbCk7XG4gICAgICAgIGlmICh0b1JldHVybiA9PT0gZmFsc2UgJiYgcmVzdWx0ICE9PSBmYWxzZSkge1xuICAgICAgICAgIHRvUmV0dXJuID0gcmVzdWx0O1xuICAgICAgICAgIHJlc3VsdC5jb252ZXJzaW9uTmFtZSA9IGNvbnZlcnNpb25OYW1lO1xuICAgICAgICAgIHJlc3VsdC5jb252ZXJzaW9uID0gY29udmVyc2lvbjtcbiAgICAgICAgICByZXR1cm4gQ29tbW9uLkJSRUFLO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBDb21tb24uQlJFQUs7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRvUmV0dXJuO1xufTtcblxudmFyIHRtcENvbXBvbmVudCA9IHZvaWQgMDtcbnZhciBDb2xvck1hdGggPSB7XG4gIGhzdl90b19yZ2I6IGZ1bmN0aW9uIGhzdl90b19yZ2IoaCwgcywgdikge1xuICAgIHZhciBoaSA9IE1hdGguZmxvb3IoaCAvIDYwKSAlIDY7XG4gICAgdmFyIGYgPSBoIC8gNjAgLSBNYXRoLmZsb29yKGggLyA2MCk7XG4gICAgdmFyIHAgPSB2ICogKDEuMCAtIHMpO1xuICAgIHZhciBxID0gdiAqICgxLjAgLSBmICogcyk7XG4gICAgdmFyIHQgPSB2ICogKDEuMCAtICgxLjAgLSBmKSAqIHMpO1xuICAgIHZhciBjID0gW1t2LCB0LCBwXSwgW3EsIHYsIHBdLCBbcCwgdiwgdF0sIFtwLCBxLCB2XSwgW3QsIHAsIHZdLCBbdiwgcCwgcV1dW2hpXTtcbiAgICByZXR1cm4ge1xuICAgICAgcjogY1swXSAqIDI1NSxcbiAgICAgIGc6IGNbMV0gKiAyNTUsXG4gICAgICBiOiBjWzJdICogMjU1XG4gICAgfTtcbiAgfSxcbiAgcmdiX3RvX2hzdjogZnVuY3Rpb24gcmdiX3RvX2hzdihyLCBnLCBiKSB7XG4gICAgdmFyIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICAgIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICB2YXIgZGVsdGEgPSBtYXggLSBtaW47XG4gICAgdmFyIGggPSB2b2lkIDA7XG4gICAgdmFyIHMgPSB2b2lkIDA7XG4gICAgaWYgKG1heCAhPT0gMCkge1xuICAgICAgcyA9IGRlbHRhIC8gbWF4O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoOiBOYU4sXG4gICAgICAgIHM6IDAsXG4gICAgICAgIHY6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChyID09PSBtYXgpIHtcbiAgICAgIGggPSAoZyAtIGIpIC8gZGVsdGE7XG4gICAgfSBlbHNlIGlmIChnID09PSBtYXgpIHtcbiAgICAgIGggPSAyICsgKGIgLSByKSAvIGRlbHRhO1xuICAgIH0gZWxzZSB7XG4gICAgICBoID0gNCArIChyIC0gZykgLyBkZWx0YTtcbiAgICB9XG4gICAgaCAvPSA2O1xuICAgIGlmIChoIDwgMCkge1xuICAgICAgaCArPSAxO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaDogaCAqIDM2MCxcbiAgICAgIHM6IHMsXG4gICAgICB2OiBtYXggLyAyNTVcbiAgICB9O1xuICB9LFxuICByZ2JfdG9faGV4OiBmdW5jdGlvbiByZ2JfdG9faGV4KHIsIGcsIGIpIHtcbiAgICB2YXIgaGV4ID0gdGhpcy5oZXhfd2l0aF9jb21wb25lbnQoMCwgMiwgcik7XG4gICAgaGV4ID0gdGhpcy5oZXhfd2l0aF9jb21wb25lbnQoaGV4LCAxLCBnKTtcbiAgICBoZXggPSB0aGlzLmhleF93aXRoX2NvbXBvbmVudChoZXgsIDAsIGIpO1xuICAgIHJldHVybiBoZXg7XG4gIH0sXG4gIGNvbXBvbmVudF9mcm9tX2hleDogZnVuY3Rpb24gY29tcG9uZW50X2Zyb21faGV4KGhleCwgY29tcG9uZW50SW5kZXgpIHtcbiAgICByZXR1cm4gaGV4ID4+IGNvbXBvbmVudEluZGV4ICogOCAmIDB4RkY7XG4gIH0sXG4gIGhleF93aXRoX2NvbXBvbmVudDogZnVuY3Rpb24gaGV4X3dpdGhfY29tcG9uZW50KGhleCwgY29tcG9uZW50SW5kZXgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIDw8ICh0bXBDb21wb25lbnQgPSBjb21wb25lbnRJbmRleCAqIDgpIHwgaGV4ICYgfigweEZGIDw8IHRtcENvbXBvbmVudCk7XG4gIH1cbn07XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cblxuXG5cblxuXG5cbnZhciBnZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7XG5cbiAgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcblxuICAgIGlmIChwYXJlbnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykge1xuICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHZhciBnZXR0ZXIgPSBkZXNjLmdldDtcblxuICAgIGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpO1xuICB9XG59O1xuXG52YXIgaW5oZXJpdHMgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG52YXIgQ29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvbG9yKCkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENvbG9yKTtcbiAgICB0aGlzLl9fc3RhdGUgPSBpbnRlcnByZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodGhpcy5fX3N0YXRlID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gaW50ZXJwcmV0IGNvbG9yIGFyZ3VtZW50cycpO1xuICAgIH1cbiAgICB0aGlzLl9fc3RhdGUuYSA9IHRoaXMuX19zdGF0ZS5hIHx8IDE7XG4gIH1cbiAgY3JlYXRlQ2xhc3MoQ29sb3IsIFt7XG4gICAga2V5OiAndG9TdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiBjb2xvclRvU3RyaW5nKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RvSGV4U3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9IZXhTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gY29sb3JUb1N0cmluZyh0aGlzLCB0cnVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0b09yaWdpbmFsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9PcmlnaW5hbCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc3RhdGUuY29udmVyc2lvbi53cml0ZSh0aGlzKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENvbG9yO1xufSgpO1xuZnVuY3Rpb24gZGVmaW5lUkdCQ29tcG9uZW50KHRhcmdldCwgY29tcG9uZW50LCBjb21wb25lbnRIZXhJbmRleCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb21wb25lbnQsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgIGlmICh0aGlzLl9fc3RhdGUuc3BhY2UgPT09ICdSR0InKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fc3RhdGVbY29tcG9uZW50XTtcbiAgICAgIH1cbiAgICAgIENvbG9yLnJlY2FsY3VsYXRlUkdCKHRoaXMsIGNvbXBvbmVudCwgY29tcG9uZW50SGV4SW5kZXgpO1xuICAgICAgcmV0dXJuIHRoaXMuX19zdGF0ZVtjb21wb25lbnRdO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodikge1xuICAgICAgaWYgKHRoaXMuX19zdGF0ZS5zcGFjZSAhPT0gJ1JHQicpIHtcbiAgICAgICAgQ29sb3IucmVjYWxjdWxhdGVSR0IodGhpcywgY29tcG9uZW50LCBjb21wb25lbnRIZXhJbmRleCk7XG4gICAgICAgIHRoaXMuX19zdGF0ZS5zcGFjZSA9ICdSR0InO1xuICAgICAgfVxuICAgICAgdGhpcy5fX3N0YXRlW2NvbXBvbmVudF0gPSB2O1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBkZWZpbmVIU1ZDb21wb25lbnQodGFyZ2V0LCBjb21wb25lbnQpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29tcG9uZW50LCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICBpZiAodGhpcy5fX3N0YXRlLnNwYWNlID09PSAnSFNWJykge1xuICAgICAgICByZXR1cm4gdGhpcy5fX3N0YXRlW2NvbXBvbmVudF07XG4gICAgICB9XG4gICAgICBDb2xvci5yZWNhbGN1bGF0ZUhTVih0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzLl9fc3RhdGVbY29tcG9uZW50XTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHYpIHtcbiAgICAgIGlmICh0aGlzLl9fc3RhdGUuc3BhY2UgIT09ICdIU1YnKSB7XG4gICAgICAgIENvbG9yLnJlY2FsY3VsYXRlSFNWKHRoaXMpO1xuICAgICAgICB0aGlzLl9fc3RhdGUuc3BhY2UgPSAnSFNWJztcbiAgICAgIH1cbiAgICAgIHRoaXMuX19zdGF0ZVtjb21wb25lbnRdID0gdjtcbiAgICB9XG4gIH0pO1xufVxuQ29sb3IucmVjYWxjdWxhdGVSR0IgPSBmdW5jdGlvbiAoY29sb3IsIGNvbXBvbmVudCwgY29tcG9uZW50SGV4SW5kZXgpIHtcbiAgaWYgKGNvbG9yLl9fc3RhdGUuc3BhY2UgPT09ICdIRVgnKSB7XG4gICAgY29sb3IuX19zdGF0ZVtjb21wb25lbnRdID0gQ29sb3JNYXRoLmNvbXBvbmVudF9mcm9tX2hleChjb2xvci5fX3N0YXRlLmhleCwgY29tcG9uZW50SGV4SW5kZXgpO1xuICB9IGVsc2UgaWYgKGNvbG9yLl9fc3RhdGUuc3BhY2UgPT09ICdIU1YnKSB7XG4gICAgQ29tbW9uLmV4dGVuZChjb2xvci5fX3N0YXRlLCBDb2xvck1hdGguaHN2X3RvX3JnYihjb2xvci5fX3N0YXRlLmgsIGNvbG9yLl9fc3RhdGUucywgY29sb3IuX19zdGF0ZS52KSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDb3JydXB0ZWQgY29sb3Igc3RhdGUnKTtcbiAgfVxufTtcbkNvbG9yLnJlY2FsY3VsYXRlSFNWID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gIHZhciByZXN1bHQgPSBDb2xvck1hdGgucmdiX3RvX2hzdihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcbiAgQ29tbW9uLmV4dGVuZChjb2xvci5fX3N0YXRlLCB7XG4gICAgczogcmVzdWx0LnMsXG4gICAgdjogcmVzdWx0LnZcbiAgfSk7XG4gIGlmICghQ29tbW9uLmlzTmFOKHJlc3VsdC5oKSkge1xuICAgIGNvbG9yLl9fc3RhdGUuaCA9IHJlc3VsdC5oO1xuICB9IGVsc2UgaWYgKENvbW1vbi5pc1VuZGVmaW5lZChjb2xvci5fX3N0YXRlLmgpKSB7XG4gICAgY29sb3IuX19zdGF0ZS5oID0gMDtcbiAgfVxufTtcbkNvbG9yLkNPTVBPTkVOVFMgPSBbJ3InLCAnZycsICdiJywgJ2gnLCAncycsICd2JywgJ2hleCcsICdhJ107XG5kZWZpbmVSR0JDb21wb25lbnQoQ29sb3IucHJvdG90eXBlLCAncicsIDIpO1xuZGVmaW5lUkdCQ29tcG9uZW50KENvbG9yLnByb3RvdHlwZSwgJ2cnLCAxKTtcbmRlZmluZVJHQkNvbXBvbmVudChDb2xvci5wcm90b3R5cGUsICdiJywgMCk7XG5kZWZpbmVIU1ZDb21wb25lbnQoQ29sb3IucHJvdG90eXBlLCAnaCcpO1xuZGVmaW5lSFNWQ29tcG9uZW50KENvbG9yLnByb3RvdHlwZSwgJ3MnKTtcbmRlZmluZUhTVkNvbXBvbmVudChDb2xvci5wcm90b3R5cGUsICd2Jyk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQ29sb3IucHJvdG90eXBlLCAnYScsIHtcbiAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19zdGF0ZS5hO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2KSB7XG4gICAgdGhpcy5fX3N0YXRlLmEgPSB2O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xvci5wcm90b3R5cGUsICdoZXgnLCB7XG4gIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgIGlmICghdGhpcy5fX3N0YXRlLnNwYWNlICE9PSAnSEVYJykge1xuICAgICAgdGhpcy5fX3N0YXRlLmhleCA9IENvbG9yTWF0aC5yZ2JfdG9faGV4KHRoaXMuciwgdGhpcy5nLCB0aGlzLmIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fX3N0YXRlLmhleDtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodikge1xuICAgIHRoaXMuX19zdGF0ZS5zcGFjZSA9ICdIRVgnO1xuICAgIHRoaXMuX19zdGF0ZS5oZXggPSB2O1xuICB9XG59KTtcblxudmFyIENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRyb2xsZXIpO1xuICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gb2JqZWN0W3Byb3BlcnR5XTtcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcbiAgICB0aGlzLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgdGhpcy5fX29uQ2hhbmdlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX19vbkZpbmlzaENoYW5nZSA9IHVuZGVmaW5lZDtcbiAgfVxuICBjcmVhdGVDbGFzcyhDb250cm9sbGVyLCBbe1xuICAgIGtleTogJ29uQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2UoZm5jKSB7XG4gICAgICB0aGlzLl9fb25DaGFuZ2UgPSBmbmM7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkZpbmlzaENoYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRmluaXNoQ2hhbmdlKGZuYykge1xuICAgICAgdGhpcy5fX29uRmluaXNoQ2hhbmdlID0gZm5jO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0VmFsdWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZShuZXdWYWx1ZSkge1xuICAgICAgdGhpcy5vYmplY3RbdGhpcy5wcm9wZXJ0eV0gPSBuZXdWYWx1ZTtcbiAgICAgIGlmICh0aGlzLl9fb25DaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fX29uQ2hhbmdlLmNhbGwodGhpcywgbmV3VmFsdWUpO1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVEaXNwbGF5KCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMub2JqZWN0W3RoaXMucHJvcGVydHldO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZURpc3BsYXknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5KCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNNb2RpZmllZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzTW9kaWZpZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbml0aWFsVmFsdWUgIT09IHRoaXMuZ2V0VmFsdWUoKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENvbnRyb2xsZXI7XG59KCk7XG5cbnZhciBFVkVOVF9NQVAgPSB7XG4gIEhUTUxFdmVudHM6IFsnY2hhbmdlJ10sXG4gIE1vdXNlRXZlbnRzOiBbJ2NsaWNrJywgJ21vdXNlbW92ZScsICdtb3VzZWRvd24nLCAnbW91c2V1cCcsICdtb3VzZW92ZXInXSxcbiAgS2V5Ym9hcmRFdmVudHM6IFsna2V5ZG93biddXG59O1xudmFyIEVWRU5UX01BUF9JTlYgPSB7fTtcbkNvbW1vbi5lYWNoKEVWRU5UX01BUCwgZnVuY3Rpb24gKHYsIGspIHtcbiAgQ29tbW9uLmVhY2godiwgZnVuY3Rpb24gKGUpIHtcbiAgICBFVkVOVF9NQVBfSU5WW2VdID0gaztcbiAgfSk7XG59KTtcbnZhciBDU1NfVkFMVUVfUElYRUxTID0gLyhcXGQrKFxcLlxcZCspPylweC87XG5mdW5jdGlvbiBjc3NWYWx1ZVRvUGl4ZWxzKHZhbCkge1xuICBpZiAodmFsID09PSAnMCcgfHwgQ29tbW9uLmlzVW5kZWZpbmVkKHZhbCkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICB2YXIgbWF0Y2ggPSB2YWwubWF0Y2goQ1NTX1ZBTFVFX1BJWEVMUyk7XG4gIGlmICghQ29tbW9uLmlzTnVsbChtYXRjaCkpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG52YXIgZG9tID0ge1xuICBtYWtlU2VsZWN0YWJsZTogZnVuY3Rpb24gbWFrZVNlbGVjdGFibGUoZWxlbSwgc2VsZWN0YWJsZSkge1xuICAgIGlmIChlbGVtID09PSB1bmRlZmluZWQgfHwgZWxlbS5zdHlsZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgZWxlbS5vbnNlbGVjdHN0YXJ0ID0gc2VsZWN0YWJsZSA/IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IDogZnVuY3Rpb24gKCkge307XG4gICAgZWxlbS5zdHlsZS5Nb3pVc2VyU2VsZWN0ID0gc2VsZWN0YWJsZSA/ICdhdXRvJyA6ICdub25lJztcbiAgICBlbGVtLnN0eWxlLktodG1sVXNlclNlbGVjdCA9IHNlbGVjdGFibGUgPyAnYXV0bycgOiAnbm9uZSc7XG4gICAgZWxlbS51bnNlbGVjdGFibGUgPSBzZWxlY3RhYmxlID8gJ29uJyA6ICdvZmYnO1xuICB9LFxuICBtYWtlRnVsbHNjcmVlbjogZnVuY3Rpb24gbWFrZUZ1bGxzY3JlZW4oZWxlbSwgaG9yLCB2ZXJ0KSB7XG4gICAgdmFyIHZlcnRpY2FsID0gdmVydDtcbiAgICB2YXIgaG9yaXpvbnRhbCA9IGhvcjtcbiAgICBpZiAoQ29tbW9uLmlzVW5kZWZpbmVkKGhvcml6b250YWwpKSB7XG4gICAgICBob3Jpem9udGFsID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKENvbW1vbi5pc1VuZGVmaW5lZCh2ZXJ0aWNhbCkpIHtcbiAgICAgIHZlcnRpY2FsID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgaWYgKGhvcml6b250YWwpIHtcbiAgICAgIGVsZW0uc3R5bGUubGVmdCA9IDA7XG4gICAgICBlbGVtLnN0eWxlLnJpZ2h0ID0gMDtcbiAgICB9XG4gICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICBlbGVtLnN0eWxlLnRvcCA9IDA7XG4gICAgICBlbGVtLnN0eWxlLmJvdHRvbSA9IDA7XG4gICAgfVxuICB9LFxuICBmYWtlRXZlbnQ6IGZ1bmN0aW9uIGZha2VFdmVudChlbGVtLCBldmVudFR5cGUsIHBhcnMsIGF1eCkge1xuICAgIHZhciBwYXJhbXMgPSBwYXJzIHx8IHt9O1xuICAgIHZhciBjbGFzc05hbWUgPSBFVkVOVF9NQVBfSU5WW2V2ZW50VHlwZV07XG4gICAgaWYgKCFjbGFzc05hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXZlbnQgdHlwZSAnICsgZXZlbnRUeXBlICsgJyBub3Qgc3VwcG9ydGVkLicpO1xuICAgIH1cbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoY2xhc3NOYW1lKTtcbiAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgY2FzZSAnTW91c2VFdmVudHMnOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGNsaWVudFggPSBwYXJhbXMueCB8fCBwYXJhbXMuY2xpZW50WCB8fCAwO1xuICAgICAgICAgIHZhciBjbGllbnRZID0gcGFyYW1zLnkgfHwgcGFyYW1zLmNsaWVudFkgfHwgMDtcbiAgICAgICAgICBldnQuaW5pdE1vdXNlRXZlbnQoZXZlbnRUeXBlLCBwYXJhbXMuYnViYmxlcyB8fCBmYWxzZSwgcGFyYW1zLmNhbmNlbGFibGUgfHwgdHJ1ZSwgd2luZG93LCBwYXJhbXMuY2xpY2tDb3VudCB8fCAxLCAwLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgY2xpZW50WCxcbiAgICAgICAgICBjbGllbnRZLFxuICAgICAgICAgIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSAnS2V5Ym9hcmRFdmVudHMnOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGluaXQgPSBldnQuaW5pdEtleWJvYXJkRXZlbnQgfHwgZXZ0LmluaXRLZXlFdmVudDtcbiAgICAgICAgICBDb21tb24uZGVmYXVsdHMocGFyYW1zLCB7XG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY3RybEtleTogZmFsc2UsXG4gICAgICAgICAgICBhbHRLZXk6IGZhbHNlLFxuICAgICAgICAgICAgc2hpZnRLZXk6IGZhbHNlLFxuICAgICAgICAgICAgbWV0YUtleTogZmFsc2UsXG4gICAgICAgICAgICBrZXlDb2RlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjaGFyQ29kZTogdW5kZWZpbmVkXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5pdChldmVudFR5cGUsIHBhcmFtcy5idWJibGVzIHx8IGZhbHNlLCBwYXJhbXMuY2FuY2VsYWJsZSwgd2luZG93LCBwYXJhbXMuY3RybEtleSwgcGFyYW1zLmFsdEtleSwgcGFyYW1zLnNoaWZ0S2V5LCBwYXJhbXMubWV0YUtleSwgcGFyYW1zLmtleUNvZGUsIHBhcmFtcy5jaGFyQ29kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICBldnQuaW5pdEV2ZW50KGV2ZW50VHlwZSwgcGFyYW1zLmJ1YmJsZXMgfHwgZmFsc2UsIHBhcmFtcy5jYW5jZWxhYmxlIHx8IHRydWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIENvbW1vbi5kZWZhdWx0cyhldnQsIGF1eCk7XG4gICAgZWxlbS5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gIH0sXG4gIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoZWxlbSwgZXZlbnQsIGZ1bmMsIG5ld0Jvb2wpIHtcbiAgICB2YXIgYm9vbCA9IG5ld0Jvb2wgfHwgZmFsc2U7XG4gICAgaWYgKGVsZW0uYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jLCBib29sKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0uYXR0YWNoRXZlbnQpIHtcbiAgICAgIGVsZW0uYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBmdW5jKTtcbiAgICB9XG4gICAgcmV0dXJuIGRvbTtcbiAgfSxcbiAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoZWxlbSwgZXZlbnQsIGZ1bmMsIG5ld0Jvb2wpIHtcbiAgICB2YXIgYm9vbCA9IG5ld0Jvb2wgfHwgZmFsc2U7XG4gICAgaWYgKGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jLCBib29sKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0uZGV0YWNoRXZlbnQpIHtcbiAgICAgIGVsZW0uZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBmdW5jKTtcbiAgICB9XG4gICAgcmV0dXJuIGRvbTtcbiAgfSxcbiAgYWRkQ2xhc3M6IGZ1bmN0aW9uIGFkZENsYXNzKGVsZW0sIGNsYXNzTmFtZSkge1xuICAgIGlmIChlbGVtLmNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbGVtLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICB9IGVsc2UgaWYgKGVsZW0uY2xhc3NOYW1lICE9PSBjbGFzc05hbWUpIHtcbiAgICAgIHZhciBjbGFzc2VzID0gZWxlbS5jbGFzc05hbWUuc3BsaXQoLyArLyk7XG4gICAgICBpZiAoY2xhc3Nlcy5pbmRleE9mKGNsYXNzTmFtZSkgPT09IC0xKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaChjbGFzc05hbWUpO1xuICAgICAgICBlbGVtLmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbignICcpLnJlcGxhY2UoL15cXHMrLywgJycpLnJlcGxhY2UoL1xccyskLywgJycpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZG9tO1xuICB9LFxuICByZW1vdmVDbGFzczogZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSB7XG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgaWYgKGVsZW0uY2xhc3NOYW1lID09PSBjbGFzc05hbWUpIHtcbiAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY2xhc3NlcyA9IGVsZW0uY2xhc3NOYW1lLnNwbGl0KC8gKy8pO1xuICAgICAgICB2YXIgaW5kZXggPSBjbGFzc2VzLmluZGV4T2YoY2xhc3NOYW1lKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGNsYXNzZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBlbGVtLmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbignICcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW0uY2xhc3NOYW1lID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gZG9tO1xuICB9LFxuICBoYXNDbGFzczogZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJyg/Ol58XFxcXHMrKScgKyBjbGFzc05hbWUgKyAnKD86XFxcXHMrfCQpJykudGVzdChlbGVtLmNsYXNzTmFtZSkgfHwgZmFsc2U7XG4gIH0sXG4gIGdldFdpZHRoOiBmdW5jdGlvbiBnZXRXaWR0aChlbGVtKSB7XG4gICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcbiAgICByZXR1cm4gY3NzVmFsdWVUb1BpeGVscyhzdHlsZVsnYm9yZGVyLWxlZnQtd2lkdGgnXSkgKyBjc3NWYWx1ZVRvUGl4ZWxzKHN0eWxlWydib3JkZXItcmlnaHQtd2lkdGgnXSkgKyBjc3NWYWx1ZVRvUGl4ZWxzKHN0eWxlWydwYWRkaW5nLWxlZnQnXSkgKyBjc3NWYWx1ZVRvUGl4ZWxzKHN0eWxlWydwYWRkaW5nLXJpZ2h0J10pICsgY3NzVmFsdWVUb1BpeGVscyhzdHlsZS53aWR0aCk7XG4gIH0sXG4gIGdldEhlaWdodDogZnVuY3Rpb24gZ2V0SGVpZ2h0KGVsZW0pIHtcbiAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW0pO1xuICAgIHJldHVybiBjc3NWYWx1ZVRvUGl4ZWxzKHN0eWxlWydib3JkZXItdG9wLXdpZHRoJ10pICsgY3NzVmFsdWVUb1BpeGVscyhzdHlsZVsnYm9yZGVyLWJvdHRvbS13aWR0aCddKSArIGNzc1ZhbHVlVG9QaXhlbHMoc3R5bGVbJ3BhZGRpbmctdG9wJ10pICsgY3NzVmFsdWVUb1BpeGVscyhzdHlsZVsncGFkZGluZy1ib3R0b20nXSkgKyBjc3NWYWx1ZVRvUGl4ZWxzKHN0eWxlLmhlaWdodCk7XG4gIH0sXG4gIGdldE9mZnNldDogZnVuY3Rpb24gZ2V0T2Zmc2V0KGVsKSB7XG4gICAgdmFyIGVsZW0gPSBlbDtcbiAgICB2YXIgb2Zmc2V0ID0geyBsZWZ0OiAwLCB0b3A6IDAgfTtcbiAgICBpZiAoZWxlbS5vZmZzZXRQYXJlbnQpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgb2Zmc2V0LmxlZnQgKz0gZWxlbS5vZmZzZXRMZWZ0O1xuICAgICAgICBvZmZzZXQudG9wICs9IGVsZW0ub2Zmc2V0VG9wO1xuICAgICAgICBlbGVtID0gZWxlbS5vZmZzZXRQYXJlbnQ7XG4gICAgICB9IHdoaWxlIChlbGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfSxcbiAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKGVsZW0pIHtcbiAgICByZXR1cm4gZWxlbSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAoZWxlbS50eXBlIHx8IGVsZW0uaHJlZik7XG4gIH1cbn07XG5cbnZhciBCb29sZWFuQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfQ29udHJvbGxlcikge1xuICBpbmhlcml0cyhCb29sZWFuQ29udHJvbGxlciwgX0NvbnRyb2xsZXIpO1xuICBmdW5jdGlvbiBCb29sZWFuQ29udHJvbGxlcihvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgQm9vbGVhbkNvbnRyb2xsZXIpO1xuICAgIHZhciBfdGhpczIgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChCb29sZWFuQ29udHJvbGxlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEJvb2xlYW5Db250cm9sbGVyKSkuY2FsbCh0aGlzLCBvYmplY3QsIHByb3BlcnR5KSk7XG4gICAgdmFyIF90aGlzID0gX3RoaXMyO1xuICAgIF90aGlzMi5fX3ByZXYgPSBfdGhpczIuZ2V0VmFsdWUoKTtcbiAgICBfdGhpczIuX19jaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgX3RoaXMyLl9fY2hlY2tib3guc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG4gICAgICBfdGhpcy5zZXRWYWx1ZSghX3RoaXMuX19wcmV2KTtcbiAgICB9XG4gICAgZG9tLmJpbmQoX3RoaXMyLl9fY2hlY2tib3gsICdjaGFuZ2UnLCBvbkNoYW5nZSwgZmFsc2UpO1xuICAgIF90aGlzMi5kb21FbGVtZW50LmFwcGVuZENoaWxkKF90aGlzMi5fX2NoZWNrYm94KTtcbiAgICBfdGhpczIudXBkYXRlRGlzcGxheSgpO1xuICAgIHJldHVybiBfdGhpczI7XG4gIH1cbiAgY3JlYXRlQ2xhc3MoQm9vbGVhbkNvbnRyb2xsZXIsIFt7XG4gICAga2V5OiAnc2V0VmFsdWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2KSB7XG4gICAgICB2YXIgdG9SZXR1cm4gPSBnZXQoQm9vbGVhbkNvbnRyb2xsZXIucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQm9vbGVhbkNvbnRyb2xsZXIucHJvdG90eXBlKSwgJ3NldFZhbHVlJywgdGhpcykuY2FsbCh0aGlzLCB2KTtcbiAgICAgIGlmICh0aGlzLl9fb25GaW5pc2hDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwodGhpcywgdGhpcy5nZXRWYWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19wcmV2ID0gdGhpcy5nZXRWYWx1ZSgpO1xuICAgICAgcmV0dXJuIHRvUmV0dXJuO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZURpc3BsYXknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5KCkge1xuICAgICAgaWYgKHRoaXMuZ2V0VmFsdWUoKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9fY2hlY2tib3guc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcbiAgICAgICAgdGhpcy5fX2NoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9fcHJldiA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9fcHJldiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldChCb29sZWFuQ29udHJvbGxlci5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihCb29sZWFuQ29udHJvbGxlci5wcm90b3R5cGUpLCAndXBkYXRlRGlzcGxheScsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBCb29sZWFuQ29udHJvbGxlcjtcbn0oQ29udHJvbGxlcik7XG5cbnZhciBPcHRpb25Db250cm9sbGVyID0gZnVuY3Rpb24gKF9Db250cm9sbGVyKSB7XG4gIGluaGVyaXRzKE9wdGlvbkNvbnRyb2xsZXIsIF9Db250cm9sbGVyKTtcbiAgZnVuY3Rpb24gT3B0aW9uQ29udHJvbGxlcihvYmplY3QsIHByb3BlcnR5LCBvcHRzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgT3B0aW9uQ29udHJvbGxlcik7XG4gICAgdmFyIF90aGlzMiA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE9wdGlvbkNvbnRyb2xsZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihPcHRpb25Db250cm9sbGVyKSkuY2FsbCh0aGlzLCBvYmplY3QsIHByb3BlcnR5KSk7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRzO1xuICAgIHZhciBfdGhpcyA9IF90aGlzMjtcbiAgICBfdGhpczIuX19zZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICBpZiAoQ29tbW9uLmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgIHZhciBtYXAgPSB7fTtcbiAgICAgIENvbW1vbi5lYWNoKG9wdGlvbnMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIG1hcFtlbGVtZW50XSA9IGVsZW1lbnQ7XG4gICAgICB9KTtcbiAgICAgIG9wdGlvbnMgPSBtYXA7XG4gICAgfVxuICAgIENvbW1vbi5lYWNoKG9wdGlvbnMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICB2YXIgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICBvcHQuaW5uZXJIVE1MID0ga2V5O1xuICAgICAgb3B0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB2YWx1ZSk7XG4gICAgICBfdGhpcy5fX3NlbGVjdC5hcHBlbmRDaGlsZChvcHQpO1xuICAgIH0pO1xuICAgIF90aGlzMi51cGRhdGVEaXNwbGF5KCk7XG4gICAgZG9tLmJpbmQoX3RoaXMyLl9fc2VsZWN0LCAnY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRlc2lyZWRWYWx1ZSA9IHRoaXMub3B0aW9uc1t0aGlzLnNlbGVjdGVkSW5kZXhdLnZhbHVlO1xuICAgICAgX3RoaXMuc2V0VmFsdWUoZGVzaXJlZFZhbHVlKTtcbiAgICB9KTtcbiAgICBfdGhpczIuZG9tRWxlbWVudC5hcHBlbmRDaGlsZChfdGhpczIuX19zZWxlY3QpO1xuICAgIHJldHVybiBfdGhpczI7XG4gIH1cbiAgY3JlYXRlQ2xhc3MoT3B0aW9uQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdzZXRWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHYpIHtcbiAgICAgIHZhciB0b1JldHVybiA9IGdldChPcHRpb25Db250cm9sbGVyLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE9wdGlvbkNvbnRyb2xsZXIucHJvdG90eXBlKSwgJ3NldFZhbHVlJywgdGhpcykuY2FsbCh0aGlzLCB2KTtcbiAgICAgIGlmICh0aGlzLl9fb25GaW5pc2hDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwodGhpcywgdGhpcy5nZXRWYWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b1JldHVybjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGVEaXNwbGF5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRGlzcGxheSgpIHtcbiAgICAgIGlmIChkb20uaXNBY3RpdmUodGhpcy5fX3NlbGVjdCkpIHJldHVybiB0aGlzO1xuICAgICAgdGhpcy5fX3NlbGVjdC52YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgIHJldHVybiBnZXQoT3B0aW9uQ29udHJvbGxlci5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihPcHRpb25Db250cm9sbGVyLnByb3RvdHlwZSksICd1cGRhdGVEaXNwbGF5JywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIE9wdGlvbkNvbnRyb2xsZXI7XG59KENvbnRyb2xsZXIpO1xuXG52YXIgU3RyaW5nQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfQ29udHJvbGxlcikge1xuICBpbmhlcml0cyhTdHJpbmdDb250cm9sbGVyLCBfQ29udHJvbGxlcik7XG4gIGZ1bmN0aW9uIFN0cmluZ0NvbnRyb2xsZXIob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFN0cmluZ0NvbnRyb2xsZXIpO1xuICAgIHZhciBfdGhpczIgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTdHJpbmdDb250cm9sbGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3RyaW5nQ29udHJvbGxlcikpLmNhbGwodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSkpO1xuICAgIHZhciBfdGhpcyA9IF90aGlzMjtcbiAgICBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcbiAgICAgIF90aGlzLnNldFZhbHVlKF90aGlzLl9faW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgICBpZiAoX3RoaXMuX19vbkZpbmlzaENoYW5nZSkge1xuICAgICAgICBfdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwoX3RoaXMsIF90aGlzLmdldFZhbHVlKCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBfdGhpczIuX19pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgX3RoaXMyLl9faW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgICBkb20uYmluZChfdGhpczIuX19pbnB1dCwgJ2tleXVwJywgb25DaGFuZ2UpO1xuICAgIGRvbS5iaW5kKF90aGlzMi5fX2lucHV0LCAnY2hhbmdlJywgb25DaGFuZ2UpO1xuICAgIGRvbS5iaW5kKF90aGlzMi5fX2lucHV0LCAnYmx1cicsIG9uQmx1cik7XG4gICAgZG9tLmJpbmQoX3RoaXMyLl9faW5wdXQsICdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIHRoaXMuYmx1cigpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIF90aGlzMi51cGRhdGVEaXNwbGF5KCk7XG4gICAgX3RoaXMyLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMyLl9faW5wdXQpO1xuICAgIHJldHVybiBfdGhpczI7XG4gIH1cbiAgY3JlYXRlQ2xhc3MoU3RyaW5nQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICd1cGRhdGVEaXNwbGF5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRGlzcGxheSgpIHtcbiAgICAgIGlmICghZG9tLmlzQWN0aXZlKHRoaXMuX19pbnB1dCkpIHtcbiAgICAgICAgdGhpcy5fX2lucHV0LnZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldChTdHJpbmdDb250cm9sbGVyLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFN0cmluZ0NvbnRyb2xsZXIucHJvdG90eXBlKSwgJ3VwZGF0ZURpc3BsYXknLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU3RyaW5nQ29udHJvbGxlcjtcbn0oQ29udHJvbGxlcik7XG5cbmZ1bmN0aW9uIG51bURlY2ltYWxzKHgpIHtcbiAgdmFyIF94ID0geC50b1N0cmluZygpO1xuICBpZiAoX3guaW5kZXhPZignLicpID4gLTEpIHtcbiAgICByZXR1cm4gX3gubGVuZ3RoIC0gX3guaW5kZXhPZignLicpIC0gMTtcbiAgfVxuICByZXR1cm4gMDtcbn1cbnZhciBOdW1iZXJDb250cm9sbGVyID0gZnVuY3Rpb24gKF9Db250cm9sbGVyKSB7XG4gIGluaGVyaXRzKE51bWJlckNvbnRyb2xsZXIsIF9Db250cm9sbGVyKTtcbiAgZnVuY3Rpb24gTnVtYmVyQ29udHJvbGxlcihvYmplY3QsIHByb3BlcnR5LCBwYXJhbXMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBOdW1iZXJDb250cm9sbGVyKTtcbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChOdW1iZXJDb250cm9sbGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTnVtYmVyQ29udHJvbGxlcikpLmNhbGwodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSkpO1xuICAgIHZhciBfcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICAgIF90aGlzLl9fbWluID0gX3BhcmFtcy5taW47XG4gICAgX3RoaXMuX19tYXggPSBfcGFyYW1zLm1heDtcbiAgICBfdGhpcy5fX3N0ZXAgPSBfcGFyYW1zLnN0ZXA7XG4gICAgaWYgKENvbW1vbi5pc1VuZGVmaW5lZChfdGhpcy5fX3N0ZXApKSB7XG4gICAgICBpZiAoX3RoaXMuaW5pdGlhbFZhbHVlID09PSAwKSB7XG4gICAgICAgIF90aGlzLl9faW1wbGllZFN0ZXAgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuX19pbXBsaWVkU3RlcCA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKE1hdGgubG9nKE1hdGguYWJzKF90aGlzLmluaXRpYWxWYWx1ZSkpIC8gTWF0aC5MTjEwKSkgLyAxMDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuX19pbXBsaWVkU3RlcCA9IF90aGlzLl9fc3RlcDtcbiAgICB9XG4gICAgX3RoaXMuX19wcmVjaXNpb24gPSBudW1EZWNpbWFscyhfdGhpcy5fX2ltcGxpZWRTdGVwKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgY3JlYXRlQ2xhc3MoTnVtYmVyQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdzZXRWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHYpIHtcbiAgICAgIHZhciBfdiA9IHY7XG4gICAgICBpZiAodGhpcy5fX21pbiAhPT0gdW5kZWZpbmVkICYmIF92IDwgdGhpcy5fX21pbikge1xuICAgICAgICBfdiA9IHRoaXMuX19taW47XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX19tYXggIT09IHVuZGVmaW5lZCAmJiBfdiA+IHRoaXMuX19tYXgpIHtcbiAgICAgICAgX3YgPSB0aGlzLl9fbWF4O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19zdGVwICE9PSB1bmRlZmluZWQgJiYgX3YgJSB0aGlzLl9fc3RlcCAhPT0gMCkge1xuICAgICAgICBfdiA9IE1hdGgucm91bmQoX3YgLyB0aGlzLl9fc3RlcCkgKiB0aGlzLl9fc3RlcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXQoTnVtYmVyQ29udHJvbGxlci5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOdW1iZXJDb250cm9sbGVyLnByb3RvdHlwZSksICdzZXRWYWx1ZScsIHRoaXMpLmNhbGwodGhpcywgX3YpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ21pbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1pbihtaW5WYWx1ZSkge1xuICAgICAgdGhpcy5fX21pbiA9IG1pblZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbWF4JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWF4KG1heFZhbHVlKSB7XG4gICAgICB0aGlzLl9fbWF4ID0gbWF4VmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzdGVwJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RlcChzdGVwVmFsdWUpIHtcbiAgICAgIHRoaXMuX19zdGVwID0gc3RlcFZhbHVlO1xuICAgICAgdGhpcy5fX2ltcGxpZWRTdGVwID0gc3RlcFZhbHVlO1xuICAgICAgdGhpcy5fX3ByZWNpc2lvbiA9IG51bURlY2ltYWxzKHN0ZXBWYWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIE51bWJlckNvbnRyb2xsZXI7XG59KENvbnRyb2xsZXIpO1xuXG5mdW5jdGlvbiByb3VuZFRvRGVjaW1hbCh2YWx1ZSwgZGVjaW1hbHMpIHtcbiAgdmFyIHRlblRvID0gTWF0aC5wb3coMTAsIGRlY2ltYWxzKTtcbiAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiB0ZW5UbykgLyB0ZW5Ubztcbn1cbnZhciBOdW1iZXJDb250cm9sbGVyQm94ID0gZnVuY3Rpb24gKF9OdW1iZXJDb250cm9sbGVyKSB7XG4gIGluaGVyaXRzKE51bWJlckNvbnRyb2xsZXJCb3gsIF9OdW1iZXJDb250cm9sbGVyKTtcbiAgZnVuY3Rpb24gTnVtYmVyQ29udHJvbGxlckJveChvYmplY3QsIHByb3BlcnR5LCBwYXJhbXMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBOdW1iZXJDb250cm9sbGVyQm94KTtcbiAgICB2YXIgX3RoaXMyID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTnVtYmVyQ29udHJvbGxlckJveC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE51bWJlckNvbnRyb2xsZXJCb3gpKS5jYWxsKHRoaXMsIG9iamVjdCwgcHJvcGVydHksIHBhcmFtcykpO1xuICAgIF90aGlzMi5fX3RydW5jYXRpb25TdXNwZW5kZWQgPSBmYWxzZTtcbiAgICB2YXIgX3RoaXMgPSBfdGhpczI7XG4gICAgdmFyIHByZXZZID0gdm9pZCAwO1xuICAgIGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuICAgICAgdmFyIGF0dGVtcHRlZCA9IHBhcnNlRmxvYXQoX3RoaXMuX19pbnB1dC52YWx1ZSk7XG4gICAgICBpZiAoIUNvbW1vbi5pc05hTihhdHRlbXB0ZWQpKSB7XG4gICAgICAgIF90aGlzLnNldFZhbHVlKGF0dGVtcHRlZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRmluaXNoKCkge1xuICAgICAgaWYgKF90aGlzLl9fb25GaW5pc2hDaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKF90aGlzLCBfdGhpcy5nZXRWYWx1ZSgpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgb25GaW5pc2goKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Nb3VzZURyYWcoZSkge1xuICAgICAgdmFyIGRpZmYgPSBwcmV2WSAtIGUuY2xpZW50WTtcbiAgICAgIF90aGlzLnNldFZhbHVlKF90aGlzLmdldFZhbHVlKCkgKyBkaWZmICogX3RoaXMuX19pbXBsaWVkU3RlcCk7XG4gICAgICBwcmV2WSA9IGUuY2xpZW50WTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Nb3VzZVVwKCkge1xuICAgICAgZG9tLnVuYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBvbk1vdXNlRHJhZyk7XG4gICAgICBkb20udW5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuICAgICAgb25GaW5pc2goKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Nb3VzZURvd24oZSkge1xuICAgICAgZG9tLmJpbmQod2luZG93LCAnbW91c2Vtb3ZlJywgb25Nb3VzZURyYWcpO1xuICAgICAgZG9tLmJpbmQod2luZG93LCAnbW91c2V1cCcsIG9uTW91c2VVcCk7XG4gICAgICBwcmV2WSA9IGUuY2xpZW50WTtcbiAgICB9XG4gICAgX3RoaXMyLl9faW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIF90aGlzMi5fX2lucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgZG9tLmJpbmQoX3RoaXMyLl9faW5wdXQsICdjaGFuZ2UnLCBvbkNoYW5nZSk7XG4gICAgZG9tLmJpbmQoX3RoaXMyLl9faW5wdXQsICdibHVyJywgb25CbHVyKTtcbiAgICBkb20uYmluZChfdGhpczIuX19pbnB1dCwgJ21vdXNlZG93bicsIG9uTW91c2VEb3duKTtcbiAgICBkb20uYmluZChfdGhpczIuX19pbnB1dCwgJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgX3RoaXMuX190cnVuY2F0aW9uU3VzcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibHVyKCk7XG4gICAgICAgIF90aGlzLl9fdHJ1bmNhdGlvblN1c3BlbmRlZCA9IGZhbHNlO1xuICAgICAgICBvbkZpbmlzaCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIF90aGlzMi51cGRhdGVEaXNwbGF5KCk7XG4gICAgX3RoaXMyLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMyLl9faW5wdXQpO1xuICAgIHJldHVybiBfdGhpczI7XG4gIH1cbiAgY3JlYXRlQ2xhc3MoTnVtYmVyQ29udHJvbGxlckJveCwgW3tcbiAgICBrZXk6ICd1cGRhdGVEaXNwbGF5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRGlzcGxheSgpIHtcbiAgICAgIHRoaXMuX19pbnB1dC52YWx1ZSA9IHRoaXMuX190cnVuY2F0aW9uU3VzcGVuZGVkID8gdGhpcy5nZXRWYWx1ZSgpIDogcm91bmRUb0RlY2ltYWwodGhpcy5nZXRWYWx1ZSgpLCB0aGlzLl9fcHJlY2lzaW9uKTtcbiAgICAgIHJldHVybiBnZXQoTnVtYmVyQ29udHJvbGxlckJveC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOdW1iZXJDb250cm9sbGVyQm94LnByb3RvdHlwZSksICd1cGRhdGVEaXNwbGF5JywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIE51bWJlckNvbnRyb2xsZXJCb3g7XG59KE51bWJlckNvbnRyb2xsZXIpO1xuXG5mdW5jdGlvbiBtYXAodiwgaTEsIGkyLCBvMSwgbzIpIHtcbiAgcmV0dXJuIG8xICsgKG8yIC0gbzEpICogKCh2IC0gaTEpIC8gKGkyIC0gaTEpKTtcbn1cbnZhciBOdW1iZXJDb250cm9sbGVyU2xpZGVyID0gZnVuY3Rpb24gKF9OdW1iZXJDb250cm9sbGVyKSB7XG4gIGluaGVyaXRzKE51bWJlckNvbnRyb2xsZXJTbGlkZXIsIF9OdW1iZXJDb250cm9sbGVyKTtcbiAgZnVuY3Rpb24gTnVtYmVyQ29udHJvbGxlclNsaWRlcihvYmplY3QsIHByb3BlcnR5LCBtaW4sIG1heCwgc3RlcCkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIE51bWJlckNvbnRyb2xsZXJTbGlkZXIpO1xuICAgIHZhciBfdGhpczIgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChOdW1iZXJDb250cm9sbGVyU2xpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTnVtYmVyQ29udHJvbGxlclNsaWRlcikpLmNhbGwodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSwgeyBtaW46IG1pbiwgbWF4OiBtYXgsIHN0ZXA6IHN0ZXAgfSkpO1xuICAgIHZhciBfdGhpcyA9IF90aGlzMjtcbiAgICBfdGhpczIuX19iYWNrZ3JvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgX3RoaXMyLl9fZm9yZWdyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRvbS5iaW5kKF90aGlzMi5fX2JhY2tncm91bmQsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bik7XG4gICAgZG9tLmJpbmQoX3RoaXMyLl9fYmFja2dyb3VuZCwgJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQpO1xuICAgIGRvbS5hZGRDbGFzcyhfdGhpczIuX19iYWNrZ3JvdW5kLCAnc2xpZGVyJyk7XG4gICAgZG9tLmFkZENsYXNzKF90aGlzMi5fX2ZvcmVncm91bmQsICdzbGlkZXItZmcnKTtcbiAgICBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgICAgIGRvbS5iaW5kKHdpbmRvdywgJ21vdXNlbW92ZScsIG9uTW91c2VEcmFnKTtcbiAgICAgIGRvbS5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuICAgICAgb25Nb3VzZURyYWcoZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uTW91c2VEcmFnKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBiZ1JlY3QgPSBfdGhpcy5fX2JhY2tncm91bmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBfdGhpcy5zZXRWYWx1ZShtYXAoZS5jbGllbnRYLCBiZ1JlY3QubGVmdCwgYmdSZWN0LnJpZ2h0LCBfdGhpcy5fX21pbiwgX3RoaXMuX19tYXgpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Nb3VzZVVwKCkge1xuICAgICAgZG9tLnVuYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBvbk1vdXNlRHJhZyk7XG4gICAgICBkb20udW5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuICAgICAgaWYgKF90aGlzLl9fb25GaW5pc2hDaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKF90aGlzLCBfdGhpcy5nZXRWYWx1ZSgpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRvbS5iaW5kKHdpbmRvdywgJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlKTtcbiAgICAgIGRvbS5iaW5kKHdpbmRvdywgJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCk7XG4gICAgICBvblRvdWNoTW92ZShlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Ub3VjaE1vdmUoZSkge1xuICAgICAgdmFyIGNsaWVudFggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHZhciBiZ1JlY3QgPSBfdGhpcy5fX2JhY2tncm91bmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBfdGhpcy5zZXRWYWx1ZShtYXAoY2xpZW50WCwgYmdSZWN0LmxlZnQsIGJnUmVjdC5yaWdodCwgX3RoaXMuX19taW4sIF90aGlzLl9fbWF4KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uVG91Y2hFbmQoKSB7XG4gICAgICBkb20udW5iaW5kKHdpbmRvdywgJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlKTtcbiAgICAgIGRvbS51bmJpbmQod2luZG93LCAndG91Y2hlbmQnLCBvblRvdWNoRW5kKTtcbiAgICAgIGlmIChfdGhpcy5fX29uRmluaXNoQ2hhbmdlKSB7XG4gICAgICAgIF90aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbChfdGhpcywgX3RoaXMuZ2V0VmFsdWUoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIF90aGlzMi51cGRhdGVEaXNwbGF5KCk7XG4gICAgX3RoaXMyLl9fYmFja2dyb3VuZC5hcHBlbmRDaGlsZChfdGhpczIuX19mb3JlZ3JvdW5kKTtcbiAgICBfdGhpczIuZG9tRWxlbWVudC5hcHBlbmRDaGlsZChfdGhpczIuX19iYWNrZ3JvdW5kKTtcbiAgICByZXR1cm4gX3RoaXMyO1xuICB9XG4gIGNyZWF0ZUNsYXNzKE51bWJlckNvbnRyb2xsZXJTbGlkZXIsIFt7XG4gICAga2V5OiAndXBkYXRlRGlzcGxheScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoKSB7XG4gICAgICB2YXIgcGN0ID0gKHRoaXMuZ2V0VmFsdWUoKSAtIHRoaXMuX19taW4pIC8gKHRoaXMuX19tYXggLSB0aGlzLl9fbWluKTtcbiAgICAgIHRoaXMuX19mb3JlZ3JvdW5kLnN0eWxlLndpZHRoID0gcGN0ICogMTAwICsgJyUnO1xuICAgICAgcmV0dXJuIGdldChOdW1iZXJDb250cm9sbGVyU2xpZGVyLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE51bWJlckNvbnRyb2xsZXJTbGlkZXIucHJvdG90eXBlKSwgJ3VwZGF0ZURpc3BsYXknLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gTnVtYmVyQ29udHJvbGxlclNsaWRlcjtcbn0oTnVtYmVyQ29udHJvbGxlcik7XG5cbnZhciBGdW5jdGlvbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX0NvbnRyb2xsZXIpIHtcbiAgaW5oZXJpdHMoRnVuY3Rpb25Db250cm9sbGVyLCBfQ29udHJvbGxlcik7XG4gIGZ1bmN0aW9uIEZ1bmN0aW9uQ29udHJvbGxlcihvYmplY3QsIHByb3BlcnR5LCB0ZXh0KSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgRnVuY3Rpb25Db250cm9sbGVyKTtcbiAgICB2YXIgX3RoaXMyID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRnVuY3Rpb25Db250cm9sbGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRnVuY3Rpb25Db250cm9sbGVyKSkuY2FsbCh0aGlzLCBvYmplY3QsIHByb3BlcnR5KSk7XG4gICAgdmFyIF90aGlzID0gX3RoaXMyO1xuICAgIF90aGlzMi5fX2J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIF90aGlzMi5fX2J1dHRvbi5pbm5lckhUTUwgPSB0ZXh0ID09PSB1bmRlZmluZWQgPyAnRmlyZScgOiB0ZXh0O1xuICAgIGRvbS5iaW5kKF90aGlzMi5fX2J1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIF90aGlzLmZpcmUoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICBkb20uYWRkQ2xhc3MoX3RoaXMyLl9fYnV0dG9uLCAnYnV0dG9uJyk7XG4gICAgX3RoaXMyLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMyLl9fYnV0dG9uKTtcbiAgICByZXR1cm4gX3RoaXMyO1xuICB9XG4gIGNyZWF0ZUNsYXNzKEZ1bmN0aW9uQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdmaXJlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmlyZSgpIHtcbiAgICAgIGlmICh0aGlzLl9fb25DaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fX29uQ2hhbmdlLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgICB0aGlzLmdldFZhbHVlKCkuY2FsbCh0aGlzLm9iamVjdCk7XG4gICAgICBpZiAodGhpcy5fX29uRmluaXNoQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKHRoaXMsIHRoaXMuZ2V0VmFsdWUoKSk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBGdW5jdGlvbkNvbnRyb2xsZXI7XG59KENvbnRyb2xsZXIpO1xuXG52YXIgQ29sb3JDb250cm9sbGVyID0gZnVuY3Rpb24gKF9Db250cm9sbGVyKSB7XG4gIGluaGVyaXRzKENvbG9yQ29udHJvbGxlciwgX0NvbnRyb2xsZXIpO1xuICBmdW5jdGlvbiBDb2xvckNvbnRyb2xsZXIob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENvbG9yQ29udHJvbGxlcik7XG4gICAgdmFyIF90aGlzMiA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENvbG9yQ29udHJvbGxlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENvbG9yQ29udHJvbGxlcikpLmNhbGwodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSkpO1xuICAgIF90aGlzMi5fX2NvbG9yID0gbmV3IENvbG9yKF90aGlzMi5nZXRWYWx1ZSgpKTtcbiAgICBfdGhpczIuX190ZW1wID0gbmV3IENvbG9yKDApO1xuICAgIHZhciBfdGhpcyA9IF90aGlzMjtcbiAgICBfdGhpczIuZG9tRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRvbS5tYWtlU2VsZWN0YWJsZShfdGhpczIuZG9tRWxlbWVudCwgZmFsc2UpO1xuICAgIF90aGlzMi5fX3NlbGVjdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgX3RoaXMyLl9fc2VsZWN0b3IuY2xhc3NOYW1lID0gJ3NlbGVjdG9yJztcbiAgICBfdGhpczIuX19zYXR1cmF0aW9uX2ZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgX3RoaXMyLl9fc2F0dXJhdGlvbl9maWVsZC5jbGFzc05hbWUgPSAnc2F0dXJhdGlvbi1maWVsZCc7XG4gICAgX3RoaXMyLl9fZmllbGRfa25vYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIF90aGlzMi5fX2ZpZWxkX2tub2IuY2xhc3NOYW1lID0gJ2ZpZWxkLWtub2InO1xuICAgIF90aGlzMi5fX2ZpZWxkX2tub2JfYm9yZGVyID0gJzJweCBzb2xpZCAnO1xuICAgIF90aGlzMi5fX2h1ZV9rbm9iID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgX3RoaXMyLl9faHVlX2tub2IuY2xhc3NOYW1lID0gJ2h1ZS1rbm9iJztcbiAgICBfdGhpczIuX19odWVfZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBfdGhpczIuX19odWVfZmllbGQuY2xhc3NOYW1lID0gJ2h1ZS1maWVsZCc7XG4gICAgX3RoaXMyLl9faW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIF90aGlzMi5fX2lucHV0LnR5cGUgPSAndGV4dCc7XG4gICAgX3RoaXMyLl9faW5wdXRfdGV4dFNoYWRvdyA9ICcwIDFweCAxcHggJztcbiAgICBkb20uYmluZChfdGhpczIuX19pbnB1dCwgJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgb25CbHVyLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZG9tLmJpbmQoX3RoaXMyLl9faW5wdXQsICdibHVyJywgb25CbHVyKTtcbiAgICBkb20uYmluZChfdGhpczIuX19zZWxlY3RvciwgJ21vdXNlZG93bicsIGZ1bmN0aW9uICgpICAgICAgICB7XG4gICAgICBkb20uYWRkQ2xhc3ModGhpcywgJ2RyYWcnKS5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBmdW5jdGlvbiAoKSAgICAgICAge1xuICAgICAgICBkb20ucmVtb3ZlQ2xhc3MoX3RoaXMuX19zZWxlY3RvciwgJ2RyYWcnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRvbS5iaW5kKF90aGlzMi5fX3NlbGVjdG9yLCAndG91Y2hzdGFydCcsIGZ1bmN0aW9uICgpICAgICAgICB7XG4gICAgICBkb20uYWRkQ2xhc3ModGhpcywgJ2RyYWcnKS5iaW5kKHdpbmRvdywgJ3RvdWNoZW5kJywgZnVuY3Rpb24gKCkgICAgICAgIHtcbiAgICAgICAgZG9tLnJlbW92ZUNsYXNzKF90aGlzLl9fc2VsZWN0b3IsICdkcmFnJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgdmFsdWVGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIENvbW1vbi5leHRlbmQoX3RoaXMyLl9fc2VsZWN0b3Iuc3R5bGUsIHtcbiAgICAgIHdpZHRoOiAnMTIycHgnLFxuICAgICAgaGVpZ2h0OiAnMTAycHgnLFxuICAgICAgcGFkZGluZzogJzNweCcsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMjIyJyxcbiAgICAgIGJveFNoYWRvdzogJzBweCAxcHggM3B4IHJnYmEoMCwwLDAsMC4zKSdcbiAgICB9KTtcbiAgICBDb21tb24uZXh0ZW5kKF90aGlzMi5fX2ZpZWxkX2tub2Iuc3R5bGUsIHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgd2lkdGg6ICcxMnB4JyxcbiAgICAgIGhlaWdodDogJzEycHgnLFxuICAgICAgYm9yZGVyOiBfdGhpczIuX19maWVsZF9rbm9iX2JvcmRlciArIChfdGhpczIuX19jb2xvci52IDwgMC41ID8gJyNmZmYnIDogJyMwMDAnKSxcbiAgICAgIGJveFNoYWRvdzogJzBweCAxcHggM3B4IHJnYmEoMCwwLDAsMC41KScsXG4gICAgICBib3JkZXJSYWRpdXM6ICcxMnB4JyxcbiAgICAgIHpJbmRleDogMVxuICAgIH0pO1xuICAgIENvbW1vbi5leHRlbmQoX3RoaXMyLl9faHVlX2tub2Iuc3R5bGUsIHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgd2lkdGg6ICcxNXB4JyxcbiAgICAgIGhlaWdodDogJzJweCcsXG4gICAgICBib3JkZXJSaWdodDogJzRweCBzb2xpZCAjZmZmJyxcbiAgICAgIHpJbmRleDogMVxuICAgIH0pO1xuICAgIENvbW1vbi5leHRlbmQoX3RoaXMyLl9fc2F0dXJhdGlvbl9maWVsZC5zdHlsZSwge1xuICAgICAgd2lkdGg6ICcxMDBweCcsXG4gICAgICBoZWlnaHQ6ICcxMDBweCcsXG4gICAgICBib3JkZXI6ICcxcHggc29saWQgIzU1NScsXG4gICAgICBtYXJnaW5SaWdodDogJzNweCcsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgfSk7XG4gICAgQ29tbW9uLmV4dGVuZCh2YWx1ZUZpZWxkLnN0eWxlLCB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBiYWNrZ3JvdW5kOiAnbm9uZSdcbiAgICB9KTtcbiAgICBsaW5lYXJHcmFkaWVudCh2YWx1ZUZpZWxkLCAndG9wJywgJ3JnYmEoMCwwLDAsMCknLCAnIzAwMCcpO1xuICAgIENvbW1vbi5leHRlbmQoX3RoaXMyLl9faHVlX2ZpZWxkLnN0eWxlLCB7XG4gICAgICB3aWR0aDogJzE1cHgnLFxuICAgICAgaGVpZ2h0OiAnMTAwcHgnLFxuICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLFxuICAgICAgY3Vyc29yOiAnbnMtcmVzaXplJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAnM3B4JyxcbiAgICAgIHJpZ2h0OiAnM3B4J1xuICAgIH0pO1xuICAgIGh1ZUdyYWRpZW50KF90aGlzMi5fX2h1ZV9maWVsZCk7XG4gICAgQ29tbW9uLmV4dGVuZChfdGhpczIuX19pbnB1dC5zdHlsZSwge1xuICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIGNvbG9yOiAnI2ZmZicsXG4gICAgICBib3JkZXI6IDAsXG4gICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICB0ZXh0U2hhZG93OiBfdGhpczIuX19pbnB1dF90ZXh0U2hhZG93ICsgJ3JnYmEoMCwwLDAsMC43KSdcbiAgICB9KTtcbiAgICBkb20uYmluZChfdGhpczIuX19zYXR1cmF0aW9uX2ZpZWxkLCAnbW91c2Vkb3duJywgZmllbGREb3duKTtcbiAgICBkb20uYmluZChfdGhpczIuX19zYXR1cmF0aW9uX2ZpZWxkLCAndG91Y2hzdGFydCcsIGZpZWxkRG93bik7XG4gICAgZG9tLmJpbmQoX3RoaXMyLl9fZmllbGRfa25vYiwgJ21vdXNlZG93bicsIGZpZWxkRG93bik7XG4gICAgZG9tLmJpbmQoX3RoaXMyLl9fZmllbGRfa25vYiwgJ3RvdWNoc3RhcnQnLCBmaWVsZERvd24pO1xuICAgIGRvbS5iaW5kKF90aGlzMi5fX2h1ZV9maWVsZCwgJ21vdXNlZG93bicsIGZpZWxkRG93bkgpO1xuICAgIGRvbS5iaW5kKF90aGlzMi5fX2h1ZV9maWVsZCwgJ3RvdWNoc3RhcnQnLCBmaWVsZERvd25IKTtcbiAgICBmdW5jdGlvbiBmaWVsZERvd24oZSkge1xuICAgICAgc2V0U1YoZSk7XG4gICAgICBkb20uYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBzZXRTVik7XG4gICAgICBkb20uYmluZCh3aW5kb3csICd0b3VjaG1vdmUnLCBzZXRTVik7XG4gICAgICBkb20uYmluZCh3aW5kb3csICdtb3VzZXVwJywgZmllbGRVcFNWKTtcbiAgICAgIGRvbS5iaW5kKHdpbmRvdywgJ3RvdWNoZW5kJywgZmllbGRVcFNWKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmllbGREb3duSChlKSB7XG4gICAgICBzZXRIKGUpO1xuICAgICAgZG9tLmJpbmQod2luZG93LCAnbW91c2Vtb3ZlJywgc2V0SCk7XG4gICAgICBkb20uYmluZCh3aW5kb3csICd0b3VjaG1vdmUnLCBzZXRIKTtcbiAgICAgIGRvbS5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBmaWVsZFVwSCk7XG4gICAgICBkb20uYmluZCh3aW5kb3csICd0b3VjaGVuZCcsIGZpZWxkVXBIKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmllbGRVcFNWKCkge1xuICAgICAgZG9tLnVuYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBzZXRTVik7XG4gICAgICBkb20udW5iaW5kKHdpbmRvdywgJ3RvdWNobW92ZScsIHNldFNWKTtcbiAgICAgIGRvbS51bmJpbmQod2luZG93LCAnbW91c2V1cCcsIGZpZWxkVXBTVik7XG4gICAgICBkb20udW5iaW5kKHdpbmRvdywgJ3RvdWNoZW5kJywgZmllbGRVcFNWKTtcbiAgICAgIG9uRmluaXNoKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpZWxkVXBIKCkge1xuICAgICAgZG9tLnVuYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBzZXRIKTtcbiAgICAgIGRvbS51bmJpbmQod2luZG93LCAndG91Y2htb3ZlJywgc2V0SCk7XG4gICAgICBkb20udW5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBmaWVsZFVwSCk7XG4gICAgICBkb20udW5iaW5kKHdpbmRvdywgJ3RvdWNoZW5kJywgZmllbGRVcEgpO1xuICAgICAgb25GaW5pc2goKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgdmFyIGkgPSBpbnRlcnByZXQodGhpcy52YWx1ZSk7XG4gICAgICBpZiAoaSAhPT0gZmFsc2UpIHtcbiAgICAgICAgX3RoaXMuX19jb2xvci5fX3N0YXRlID0gaTtcbiAgICAgICAgX3RoaXMuc2V0VmFsdWUoX3RoaXMuX19jb2xvci50b09yaWdpbmFsKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IF90aGlzLl9fY29sb3IudG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25GaW5pc2goKSB7XG4gICAgICBpZiAoX3RoaXMuX19vbkZpbmlzaENoYW5nZSkge1xuICAgICAgICBfdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwoX3RoaXMsIF90aGlzLl9fY29sb3IudG9PcmlnaW5hbCgpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgX3RoaXMyLl9fc2F0dXJhdGlvbl9maWVsZC5hcHBlbmRDaGlsZCh2YWx1ZUZpZWxkKTtcbiAgICBfdGhpczIuX19zZWxlY3Rvci5hcHBlbmRDaGlsZChfdGhpczIuX19maWVsZF9rbm9iKTtcbiAgICBfdGhpczIuX19zZWxlY3Rvci5hcHBlbmRDaGlsZChfdGhpczIuX19zYXR1cmF0aW9uX2ZpZWxkKTtcbiAgICBfdGhpczIuX19zZWxlY3Rvci5hcHBlbmRDaGlsZChfdGhpczIuX19odWVfZmllbGQpO1xuICAgIF90aGlzMi5fX2h1ZV9maWVsZC5hcHBlbmRDaGlsZChfdGhpczIuX19odWVfa25vYik7XG4gICAgX3RoaXMyLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMyLl9faW5wdXQpO1xuICAgIF90aGlzMi5kb21FbGVtZW50LmFwcGVuZENoaWxkKF90aGlzMi5fX3NlbGVjdG9yKTtcbiAgICBfdGhpczIudXBkYXRlRGlzcGxheSgpO1xuICAgIGZ1bmN0aW9uIHNldFNWKGUpIHtcbiAgICAgIGlmIChlLnR5cGUuaW5kZXhPZigndG91Y2gnKSA9PT0gLTEpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgdmFyIGZpZWxkUmVjdCA9IF90aGlzLl9fc2F0dXJhdGlvbl9maWVsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciBfcmVmID0gZS50b3VjaGVzICYmIGUudG91Y2hlc1swXSB8fCBlLFxuICAgICAgICAgIGNsaWVudFggPSBfcmVmLmNsaWVudFgsXG4gICAgICAgICAgY2xpZW50WSA9IF9yZWYuY2xpZW50WTtcbiAgICAgIHZhciBzID0gKGNsaWVudFggLSBmaWVsZFJlY3QubGVmdCkgLyAoZmllbGRSZWN0LnJpZ2h0IC0gZmllbGRSZWN0LmxlZnQpO1xuICAgICAgdmFyIHYgPSAxIC0gKGNsaWVudFkgLSBmaWVsZFJlY3QudG9wKSAvIChmaWVsZFJlY3QuYm90dG9tIC0gZmllbGRSZWN0LnRvcCk7XG4gICAgICBpZiAodiA+IDEpIHtcbiAgICAgICAgdiA9IDE7XG4gICAgICB9IGVsc2UgaWYgKHYgPCAwKSB7XG4gICAgICAgIHYgPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHMgPiAxKSB7XG4gICAgICAgIHMgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzIDwgMCkge1xuICAgICAgICBzID0gMDtcbiAgICAgIH1cbiAgICAgIF90aGlzLl9fY29sb3IudiA9IHY7XG4gICAgICBfdGhpcy5fX2NvbG9yLnMgPSBzO1xuICAgICAgX3RoaXMuc2V0VmFsdWUoX3RoaXMuX19jb2xvci50b09yaWdpbmFsKCkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRIKGUpIHtcbiAgICAgIGlmIChlLnR5cGUuaW5kZXhPZigndG91Y2gnKSA9PT0gLTEpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgdmFyIGZpZWxkUmVjdCA9IF90aGlzLl9faHVlX2ZpZWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIF9yZWYyID0gZS50b3VjaGVzICYmIGUudG91Y2hlc1swXSB8fCBlLFxuICAgICAgICAgIGNsaWVudFkgPSBfcmVmMi5jbGllbnRZO1xuICAgICAgdmFyIGggPSAxIC0gKGNsaWVudFkgLSBmaWVsZFJlY3QudG9wKSAvIChmaWVsZFJlY3QuYm90dG9tIC0gZmllbGRSZWN0LnRvcCk7XG4gICAgICBpZiAoaCA+IDEpIHtcbiAgICAgICAgaCA9IDE7XG4gICAgICB9IGVsc2UgaWYgKGggPCAwKSB7XG4gICAgICAgIGggPSAwO1xuICAgICAgfVxuICAgICAgX3RoaXMuX19jb2xvci5oID0gaCAqIDM2MDtcbiAgICAgIF90aGlzLnNldFZhbHVlKF90aGlzLl9fY29sb3IudG9PcmlnaW5hbCgpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIF90aGlzMjtcbiAgfVxuICBjcmVhdGVDbGFzcyhDb2xvckNvbnRyb2xsZXIsIFt7XG4gICAga2V5OiAndXBkYXRlRGlzcGxheScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoKSB7XG4gICAgICB2YXIgaSA9IGludGVycHJldCh0aGlzLmdldFZhbHVlKCkpO1xuICAgICAgaWYgKGkgIT09IGZhbHNlKSB7XG4gICAgICAgIHZhciBtaXNtYXRjaCA9IGZhbHNlO1xuICAgICAgICBDb21tb24uZWFjaChDb2xvci5DT01QT05FTlRTLCBmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgaWYgKCFDb21tb24uaXNVbmRlZmluZWQoaVtjb21wb25lbnRdKSAmJiAhQ29tbW9uLmlzVW5kZWZpbmVkKHRoaXMuX19jb2xvci5fX3N0YXRlW2NvbXBvbmVudF0pICYmIGlbY29tcG9uZW50XSAhPT0gdGhpcy5fX2NvbG9yLl9fc3RhdGVbY29tcG9uZW50XSkge1xuICAgICAgICAgICAgbWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGlmIChtaXNtYXRjaCkge1xuICAgICAgICAgIENvbW1vbi5leHRlbmQodGhpcy5fX2NvbG9yLl9fc3RhdGUsIGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBDb21tb24uZXh0ZW5kKHRoaXMuX190ZW1wLl9fc3RhdGUsIHRoaXMuX19jb2xvci5fX3N0YXRlKTtcbiAgICAgIHRoaXMuX190ZW1wLmEgPSAxO1xuICAgICAgdmFyIGZsaXAgPSB0aGlzLl9fY29sb3IudiA8IDAuNSB8fCB0aGlzLl9fY29sb3IucyA+IDAuNSA/IDI1NSA6IDA7XG4gICAgICB2YXIgX2ZsaXAgPSAyNTUgLSBmbGlwO1xuICAgICAgQ29tbW9uLmV4dGVuZCh0aGlzLl9fZmllbGRfa25vYi5zdHlsZSwge1xuICAgICAgICBtYXJnaW5MZWZ0OiAxMDAgKiB0aGlzLl9fY29sb3IucyAtIDcgKyAncHgnLFxuICAgICAgICBtYXJnaW5Ub3A6IDEwMCAqICgxIC0gdGhpcy5fX2NvbG9yLnYpIC0gNyArICdweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5fX3RlbXAudG9IZXhTdHJpbmcoKSxcbiAgICAgICAgYm9yZGVyOiB0aGlzLl9fZmllbGRfa25vYl9ib3JkZXIgKyAncmdiKCcgKyBmbGlwICsgJywnICsgZmxpcCArICcsJyArIGZsaXAgKyAnKSdcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fX2h1ZV9rbm9iLnN0eWxlLm1hcmdpblRvcCA9ICgxIC0gdGhpcy5fX2NvbG9yLmggLyAzNjApICogMTAwICsgJ3B4JztcbiAgICAgIHRoaXMuX190ZW1wLnMgPSAxO1xuICAgICAgdGhpcy5fX3RlbXAudiA9IDE7XG4gICAgICBsaW5lYXJHcmFkaWVudCh0aGlzLl9fc2F0dXJhdGlvbl9maWVsZCwgJ2xlZnQnLCAnI2ZmZicsIHRoaXMuX190ZW1wLnRvSGV4U3RyaW5nKCkpO1xuICAgICAgdGhpcy5fX2lucHV0LnZhbHVlID0gdGhpcy5fX2NvbG9yLnRvU3RyaW5nKCk7XG4gICAgICBDb21tb24uZXh0ZW5kKHRoaXMuX19pbnB1dC5zdHlsZSwge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuX19jb2xvci50b0hleFN0cmluZygpLFxuICAgICAgICBjb2xvcjogJ3JnYignICsgZmxpcCArICcsJyArIGZsaXAgKyAnLCcgKyBmbGlwICsgJyknLFxuICAgICAgICB0ZXh0U2hhZG93OiB0aGlzLl9faW5wdXRfdGV4dFNoYWRvdyArICdyZ2JhKCcgKyBfZmxpcCArICcsJyArIF9mbGlwICsgJywnICsgX2ZsaXAgKyAnLC43KSdcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ29sb3JDb250cm9sbGVyO1xufShDb250cm9sbGVyKTtcbnZhciB2ZW5kb3JzID0gWyctbW96LScsICctby0nLCAnLXdlYmtpdC0nLCAnLW1zLScsICcnXTtcbmZ1bmN0aW9uIGxpbmVhckdyYWRpZW50KGVsZW0sIHgsIGEsIGIpIHtcbiAgZWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gIENvbW1vbi5lYWNoKHZlbmRvcnMsIGZ1bmN0aW9uICh2ZW5kb3IpIHtcbiAgICBlbGVtLnN0eWxlLmNzc1RleHQgKz0gJ2JhY2tncm91bmQ6ICcgKyB2ZW5kb3IgKyAnbGluZWFyLWdyYWRpZW50KCcgKyB4ICsgJywgJyArIGEgKyAnIDAlLCAnICsgYiArICcgMTAwJSk7ICc7XG4gIH0pO1xufVxuZnVuY3Rpb24gaHVlR3JhZGllbnQoZWxlbSkge1xuICBlbGVtLnN0eWxlLmJhY2tncm91bmQgPSAnJztcbiAgZWxlbS5zdHlsZS5jc3NUZXh0ICs9ICdiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCAjZmYwMGZmIDE3JSwgIzAwMDBmZiAzNCUsICMwMGZmZmYgNTAlLCAjMDBmZjAwIDY3JSwgI2ZmZmYwMCA4NCUsICNmZjAwMDAgMTAwJSk7JztcbiAgZWxlbS5zdHlsZS5jc3NUZXh0ICs9ICdiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7JztcbiAgZWxlbS5zdHlsZS5jc3NUZXh0ICs9ICdiYWNrZ3JvdW5kOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpOyc7XG4gIGVsZW0uc3R5bGUuY3NzVGV4dCArPSAnYmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7JztcbiAgZWxlbS5zdHlsZS5jc3NUZXh0ICs9ICdiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpOyc7XG59XG5cbnZhciBjc3MgPSB7XG4gIGxvYWQ6IGZ1bmN0aW9uIGxvYWQodXJsLCBpbmRvYykge1xuICAgIHZhciBkb2MgPSBpbmRvYyB8fCBkb2N1bWVudDtcbiAgICB2YXIgbGluayA9IGRvYy5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgbGluay50eXBlID0gJ3RleHQvY3NzJztcbiAgICBsaW5rLnJlbCA9ICdzdHlsZXNoZWV0JztcbiAgICBsaW5rLmhyZWYgPSB1cmw7XG4gICAgZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQobGluayk7XG4gIH0sXG4gIGluamVjdDogZnVuY3Rpb24gaW5qZWN0KGNzc0NvbnRlbnQsIGluZG9jKSB7XG4gICAgdmFyIGRvYyA9IGluZG9jIHx8IGRvY3VtZW50O1xuICAgIHZhciBpbmplY3RlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgaW5qZWN0ZWQudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgaW5qZWN0ZWQuaW5uZXJIVE1MID0gY3NzQ29udGVudDtcbiAgICB2YXIgaGVhZCA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICAgIHRyeSB7XG4gICAgICBoZWFkLmFwcGVuZENoaWxkKGluamVjdGVkKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICB9XG59O1xuXG52YXIgc2F2ZURpYWxvZ0NvbnRlbnRzID0gXCI8ZGl2IGlkPVxcXCJkZy1zYXZlXFxcIiBjbGFzcz1cXFwiZGcgZGlhbG9ndWVcXFwiPlxcblxcbiAgSGVyZSdzIHRoZSBuZXcgbG9hZCBwYXJhbWV0ZXIgZm9yIHlvdXIgPGNvZGU+R1VJPC9jb2RlPidzIGNvbnN0cnVjdG9yOlxcblxcbiAgPHRleHRhcmVhIGlkPVxcXCJkZy1uZXctY29uc3RydWN0b3JcXFwiPjwvdGV4dGFyZWE+XFxuXFxuICA8ZGl2IGlkPVxcXCJkZy1zYXZlLWxvY2FsbHlcXFwiPlxcblxcbiAgICA8aW5wdXQgaWQ9XFxcImRnLWxvY2FsLXN0b3JhZ2VcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIi8+IEF1dG9tYXRpY2FsbHkgc2F2ZVxcbiAgICB2YWx1ZXMgdG8gPGNvZGU+bG9jYWxTdG9yYWdlPC9jb2RlPiBvbiBleGl0LlxcblxcbiAgICA8ZGl2IGlkPVxcXCJkZy1sb2NhbC1leHBsYWluXFxcIj5UaGUgdmFsdWVzIHNhdmVkIHRvIDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4gd2lsbFxcbiAgICAgIG92ZXJyaWRlIHRob3NlIHBhc3NlZCB0byA8Y29kZT5kYXQuR1VJPC9jb2RlPidzIGNvbnN0cnVjdG9yLiBUaGlzIG1ha2VzIGl0XFxuICAgICAgZWFzaWVyIHRvIHdvcmsgaW5jcmVtZW50YWxseSwgYnV0IDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4gaXMgZnJhZ2lsZSxcXG4gICAgICBhbmQgeW91ciBmcmllbmRzIG1heSBub3Qgc2VlIHRoZSBzYW1lIHZhbHVlcyB5b3UgZG8uXFxuXFxuICAgIDwvZGl2PlxcblxcbiAgPC9kaXY+XFxuXFxuPC9kaXY+XCI7XG5cbnZhciBDb250cm9sbGVyRmFjdG9yeSA9IGZ1bmN0aW9uIENvbnRyb2xsZXJGYWN0b3J5KG9iamVjdCwgcHJvcGVydHkpIHtcbiAgdmFyIGluaXRpYWxWYWx1ZSA9IG9iamVjdFtwcm9wZXJ0eV07XG4gIGlmIChDb21tb24uaXNBcnJheShhcmd1bWVudHNbMl0pIHx8IENvbW1vbi5pc09iamVjdChhcmd1bWVudHNbMl0pKSB7XG4gICAgcmV0dXJuIG5ldyBPcHRpb25Db250cm9sbGVyKG9iamVjdCwgcHJvcGVydHksIGFyZ3VtZW50c1syXSk7XG4gIH1cbiAgaWYgKENvbW1vbi5pc051bWJlcihpbml0aWFsVmFsdWUpKSB7XG4gICAgaWYgKENvbW1vbi5pc051bWJlcihhcmd1bWVudHNbMl0pICYmIENvbW1vbi5pc051bWJlcihhcmd1bWVudHNbM10pKSB7XG4gICAgICBpZiAoQ29tbW9uLmlzTnVtYmVyKGFyZ3VtZW50c1s0XSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOdW1iZXJDb250cm9sbGVyU2xpZGVyKG9iamVjdCwgcHJvcGVydHksIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdLCBhcmd1bWVudHNbNF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBOdW1iZXJDb250cm9sbGVyU2xpZGVyKG9iamVjdCwgcHJvcGVydHksIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdKTtcbiAgICB9XG4gICAgaWYgKENvbW1vbi5pc051bWJlcihhcmd1bWVudHNbNF0pKSB7XG4gICAgICByZXR1cm4gbmV3IE51bWJlckNvbnRyb2xsZXJCb3gob2JqZWN0LCBwcm9wZXJ0eSwgeyBtaW46IGFyZ3VtZW50c1syXSwgbWF4OiBhcmd1bWVudHNbM10sIHN0ZXA6IGFyZ3VtZW50c1s0XSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBOdW1iZXJDb250cm9sbGVyQm94KG9iamVjdCwgcHJvcGVydHksIHsgbWluOiBhcmd1bWVudHNbMl0sIG1heDogYXJndW1lbnRzWzNdIH0pO1xuICB9XG4gIGlmIChDb21tb24uaXNTdHJpbmcoaW5pdGlhbFZhbHVlKSkge1xuICAgIHJldHVybiBuZXcgU3RyaW5nQ29udHJvbGxlcihvYmplY3QsIHByb3BlcnR5KTtcbiAgfVxuICBpZiAoQ29tbW9uLmlzRnVuY3Rpb24oaW5pdGlhbFZhbHVlKSkge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Db250cm9sbGVyKG9iamVjdCwgcHJvcGVydHksICcnKTtcbiAgfVxuICBpZiAoQ29tbW9uLmlzQm9vbGVhbihpbml0aWFsVmFsdWUpKSB7XG4gICAgcmV0dXJuIG5ldyBCb29sZWFuQ29udHJvbGxlcihvYmplY3QsIHByb3BlcnR5KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmZ1bmN0aW9uIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjaykge1xuICBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xufVxudmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSQxID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHJlcXVlc3RBbmltYXRpb25GcmFtZTtcblxudmFyIENlbnRlcmVkRGl2ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDZW50ZXJlZERpdigpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBDZW50ZXJlZERpdik7XG4gICAgdGhpcy5iYWNrZ3JvdW5kRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIENvbW1vbi5leHRlbmQodGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZSwge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjgpJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgICB6SW5kZXg6ICcxMDAwJyxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBXZWJraXRUcmFuc2l0aW9uOiAnb3BhY2l0eSAwLjJzIGxpbmVhcicsXG4gICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjJzIGxpbmVhcidcbiAgICB9KTtcbiAgICBkb20ubWFrZUZ1bGxzY3JlZW4odGhpcy5iYWNrZ3JvdW5kRWxlbWVudCk7XG4gICAgdGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgdGhpcy5kb21FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgQ29tbW9uLmV4dGVuZCh0aGlzLmRvbUVsZW1lbnQuc3R5bGUsIHtcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgekluZGV4OiAnMTAwMScsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgV2Via2l0VHJhbnNpdGlvbjogJy13ZWJraXQtdHJhbnNmb3JtIDAuMnMgZWFzZS1vdXQsIG9wYWNpdHkgMC4ycyBsaW5lYXInLFxuICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAwLjJzIGVhc2Utb3V0LCBvcGFjaXR5IDAuMnMgbGluZWFyJ1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5iYWNrZ3JvdW5kRWxlbWVudCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW1lbnQpO1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgZG9tLmJpbmQodGhpcy5iYWNrZ3JvdW5kRWxlbWVudCwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuaGlkZSgpO1xuICAgIH0pO1xuICB9XG4gIGNyZWF0ZUNsYXNzKENlbnRlcmVkRGl2LCBbe1xuICAgIGtleTogJ3Nob3cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHRoaXMuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ3NjYWxlKDEuMSknO1xuICAgICAgdGhpcy5sYXlvdXQoKTtcbiAgICAgIENvbW1vbi5kZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICBfdGhpcy5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICBfdGhpcy5kb21FbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdzY2FsZSgxKSc7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoaWRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgIF90aGlzLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgX3RoaXMuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9tLnVuYmluZChfdGhpcy5kb21FbGVtZW50LCAnd2Via2l0VHJhbnNpdGlvbkVuZCcsIGhpZGUpO1xuICAgICAgICBkb20udW5iaW5kKF90aGlzLmRvbUVsZW1lbnQsICd0cmFuc2l0aW9uZW5kJywgaGlkZSk7XG4gICAgICAgIGRvbS51bmJpbmQoX3RoaXMuZG9tRWxlbWVudCwgJ29UcmFuc2l0aW9uRW5kJywgaGlkZSk7XG4gICAgICB9O1xuICAgICAgZG9tLmJpbmQodGhpcy5kb21FbGVtZW50LCAnd2Via2l0VHJhbnNpdGlvbkVuZCcsIGhpZGUpO1xuICAgICAgZG9tLmJpbmQodGhpcy5kb21FbGVtZW50LCAndHJhbnNpdGlvbmVuZCcsIGhpZGUpO1xuICAgICAgZG9tLmJpbmQodGhpcy5kb21FbGVtZW50LCAnb1RyYW5zaXRpb25FbmQnLCBoaWRlKTtcbiAgICAgIHRoaXMuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ3NjYWxlKDEuMSknO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xheW91dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxheW91dCgpIHtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS5sZWZ0ID0gd2luZG93LmlubmVyV2lkdGggLyAyIC0gZG9tLmdldFdpZHRoKHRoaXMuZG9tRWxlbWVudCkgLyAyICsgJ3B4JztcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS50b3AgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyIC0gZG9tLmdldEhlaWdodCh0aGlzLmRvbUVsZW1lbnQpIC8gMiArICdweCc7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDZW50ZXJlZERpdjtcbn0oKTtcblxudmFyIHN0eWxlU2hlZXQgPSBfX18kaW5zZXJ0U3R5bGUoXCIuZGcgdWx7bGlzdC1zdHlsZTpub25lO21hcmdpbjowO3BhZGRpbmc6MDt3aWR0aDoxMDAlO2NsZWFyOmJvdGh9LmRnLmFje3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtyaWdodDowO2hlaWdodDowO3otaW5kZXg6MH0uZGc6bm90KC5hYykgLm1haW57b3ZlcmZsb3c6aGlkZGVufS5kZy5tYWluey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBsaW5lYXI7LW8tdHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBsaW5lYXI7LW1vei10cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGxpbmVhcjt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGxpbmVhcn0uZGcubWFpbi50YWxsZXItdGhhbi13aW5kb3d7b3ZlcmZsb3cteTphdXRvfS5kZy5tYWluLnRhbGxlci10aGFuLXdpbmRvdyAuY2xvc2UtYnV0dG9ue29wYWNpdHk6MTttYXJnaW4tdG9wOi0xcHg7Ym9yZGVyLXRvcDoxcHggc29saWQgIzJjMmMyY30uZGcubWFpbiB1bC5jbG9zZWQgLmNsb3NlLWJ1dHRvbntvcGFjaXR5OjEgIWltcG9ydGFudH0uZGcubWFpbjpob3ZlciAuY2xvc2UtYnV0dG9uLC5kZy5tYWluIC5jbG9zZS1idXR0b24uZHJhZ3tvcGFjaXR5OjF9LmRnLm1haW4gLmNsb3NlLWJ1dHRvbnstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMXMgbGluZWFyOy1vLXRyYW5zaXRpb246b3BhY2l0eSAuMXMgbGluZWFyOy1tb3otdHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBsaW5lYXI7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBsaW5lYXI7Ym9yZGVyOjA7bGluZS1oZWlnaHQ6MTlweDtoZWlnaHQ6MjBweDtjdXJzb3I6cG9pbnRlcjt0ZXh0LWFsaWduOmNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiMwMDB9LmRnLm1haW4gLmNsb3NlLWJ1dHRvbi5jbG9zZS10b3B7cG9zaXRpb246cmVsYXRpdmV9LmRnLm1haW4gLmNsb3NlLWJ1dHRvbi5jbG9zZS1ib3R0b217cG9zaXRpb246YWJzb2x1dGV9LmRnLm1haW4gLmNsb3NlLWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMxMTF9LmRnLmF7ZmxvYXQ6cmlnaHQ7bWFyZ2luLXJpZ2h0OjE1cHg7b3ZlcmZsb3cteTp2aXNpYmxlfS5kZy5hLmhhcy1zYXZlPnVsLmNsb3NlLXRvcHttYXJnaW4tdG9wOjB9LmRnLmEuaGFzLXNhdmU+dWwuY2xvc2UtYm90dG9te21hcmdpbi10b3A6MjdweH0uZGcuYS5oYXMtc2F2ZT51bC5jbG9zZWR7bWFyZ2luLXRvcDowfS5kZy5hIC5zYXZlLXJvd3t0b3A6MDt6LWluZGV4OjEwMDJ9LmRnLmEgLnNhdmUtcm93LmNsb3NlLXRvcHtwb3NpdGlvbjpyZWxhdGl2ZX0uZGcuYSAuc2F2ZS1yb3cuY2xvc2UtYm90dG9te3Bvc2l0aW9uOmZpeGVkfS5kZyBsaXstd2Via2l0LXRyYW5zaXRpb246aGVpZ2h0IC4xcyBlYXNlLW91dDstby10cmFuc2l0aW9uOmhlaWdodCAuMXMgZWFzZS1vdXQ7LW1vei10cmFuc2l0aW9uOmhlaWdodCAuMXMgZWFzZS1vdXQ7dHJhbnNpdGlvbjpoZWlnaHQgLjFzIGVhc2Utb3V0Oy13ZWJraXQtdHJhbnNpdGlvbjpvdmVyZmxvdyAuMXMgbGluZWFyOy1vLXRyYW5zaXRpb246b3ZlcmZsb3cgLjFzIGxpbmVhcjstbW96LXRyYW5zaXRpb246b3ZlcmZsb3cgLjFzIGxpbmVhcjt0cmFuc2l0aW9uOm92ZXJmbG93IC4xcyBsaW5lYXJ9LmRnIGxpOm5vdCguZm9sZGVyKXtjdXJzb3I6YXV0bztoZWlnaHQ6MjdweDtsaW5lLWhlaWdodDoyN3B4O3BhZGRpbmc6MCA0cHggMCA1cHh9LmRnIGxpLmZvbGRlcntwYWRkaW5nOjA7Ym9yZGVyLWxlZnQ6NHB4IHNvbGlkIHJnYmEoMCwwLDAsMCl9LmRnIGxpLnRpdGxle2N1cnNvcjpwb2ludGVyO21hcmdpbi1sZWZ0Oi00cHh9LmRnIC5jbG9zZWQgbGk6bm90KC50aXRsZSksLmRnIC5jbG9zZWQgdWwgbGksLmRnIC5jbG9zZWQgdWwgbGk+KntoZWlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyOjB9LmRnIC5jcntjbGVhcjpib3RoO3BhZGRpbmctbGVmdDozcHg7aGVpZ2h0OjI3cHg7b3ZlcmZsb3c6aGlkZGVufS5kZyAucHJvcGVydHktbmFtZXtjdXJzb3I6ZGVmYXVsdDtmbG9hdDpsZWZ0O2NsZWFyOmxlZnQ7d2lkdGg6NDAlO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5kZyAuY3tmbG9hdDpsZWZ0O3dpZHRoOjYwJTtwb3NpdGlvbjpyZWxhdGl2ZX0uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XXtib3JkZXI6MDttYXJnaW4tdG9wOjRweDtwYWRkaW5nOjNweDt3aWR0aDoxMDAlO2Zsb2F0OnJpZ2h0fS5kZyAuaGFzLXNsaWRlciBpbnB1dFt0eXBlPXRleHRde3dpZHRoOjMwJTttYXJnaW4tbGVmdDowfS5kZyAuc2xpZGVye2Zsb2F0OmxlZnQ7d2lkdGg6NjYlO21hcmdpbi1sZWZ0Oi01cHg7bWFyZ2luLXJpZ2h0OjA7aGVpZ2h0OjE5cHg7bWFyZ2luLXRvcDo0cHh9LmRnIC5zbGlkZXItZmd7aGVpZ2h0OjEwMCV9LmRnIC5jIGlucHV0W3R5cGU9Y2hlY2tib3hde21hcmdpbi10b3A6N3B4fS5kZyAuYyBzZWxlY3R7bWFyZ2luLXRvcDo1cHh9LmRnIC5jci5mdW5jdGlvbiwuZGcgLmNyLmZ1bmN0aW9uIC5wcm9wZXJ0eS1uYW1lLC5kZyAuY3IuZnVuY3Rpb24gKiwuZGcgLmNyLmJvb2xlYW4sLmRnIC5jci5ib29sZWFuICp7Y3Vyc29yOnBvaW50ZXJ9LmRnIC5jci5jb2xvcntvdmVyZmxvdzp2aXNpYmxlfS5kZyAuc2VsZWN0b3J7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi1sZWZ0Oi05cHg7bWFyZ2luLXRvcDoyM3B4O3otaW5kZXg6MTB9LmRnIC5jOmhvdmVyIC5zZWxlY3RvciwuZGcgLnNlbGVjdG9yLmRyYWd7ZGlzcGxheTpibG9ja30uZGcgbGkuc2F2ZS1yb3d7cGFkZGluZzowfS5kZyBsaS5zYXZlLXJvdyAuYnV0dG9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6MHB4IDZweH0uZGcuZGlhbG9ndWV7YmFja2dyb3VuZC1jb2xvcjojMjIyO3dpZHRoOjQ2MHB4O3BhZGRpbmc6MTVweDtmb250LXNpemU6MTNweDtsaW5lLWhlaWdodDoxNXB4fSNkZy1uZXctY29uc3RydWN0b3J7cGFkZGluZzoxMHB4O2NvbG9yOiMyMjI7Zm9udC1mYW1pbHk6TW9uYWNvLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHg7Ym9yZGVyOjA7cmVzaXplOm5vbmU7Ym94LXNoYWRvdzppbnNldCAxcHggMXB4IDFweCAjODg4O3dvcmQtd3JhcDpicmVhay13b3JkO21hcmdpbjoxMnB4IDA7ZGlzcGxheTpibG9jazt3aWR0aDo0NDBweDtvdmVyZmxvdy15OnNjcm9sbDtoZWlnaHQ6MTAwcHg7cG9zaXRpb246cmVsYXRpdmV9I2RnLWxvY2FsLWV4cGxhaW57ZGlzcGxheTpub25lO2ZvbnQtc2l6ZToxMXB4O2xpbmUtaGVpZ2h0OjE3cHg7Ym9yZGVyLXJhZGl1czozcHg7YmFja2dyb3VuZC1jb2xvcjojMzMzO3BhZGRpbmc6OHB4O21hcmdpbi10b3A6MTBweH0jZGctbG9jYWwtZXhwbGFpbiBjb2Rle2ZvbnQtc2l6ZToxMHB4fSNkYXQtZ3VpLXNhdmUtbG9jYWxseXtkaXNwbGF5Om5vbmV9LmRne2NvbG9yOiNlZWU7Zm9udDoxMXB4ICdMdWNpZGEgR3JhbmRlJywgc2Fucy1zZXJpZjt0ZXh0LXNoYWRvdzowIC0xcHggMCAjMTExfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDo1cHg7YmFja2dyb3VuZDojMWExYTFhfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhci1jb3JuZXJ7aGVpZ2h0OjA7ZGlzcGxheTpub25lfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kOiM2NzY3Njd9LmRnIGxpOm5vdCguZm9sZGVyKXtiYWNrZ3JvdW5kOiMxYTFhMWE7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzJjMmMyY30uZGcgbGkuc2F2ZS1yb3d7bGluZS1oZWlnaHQ6MjVweDtiYWNrZ3JvdW5kOiNkYWQ1Y2I7Ym9yZGVyOjB9LmRnIGxpLnNhdmUtcm93IHNlbGVjdHttYXJnaW4tbGVmdDo1cHg7d2lkdGg6MTA4cHh9LmRnIGxpLnNhdmUtcm93IC5idXR0b257bWFyZ2luLWxlZnQ6NXB4O21hcmdpbi10b3A6MXB4O2JvcmRlci1yYWRpdXM6MnB4O2ZvbnQtc2l6ZTo5cHg7bGluZS1oZWlnaHQ6N3B4O3BhZGRpbmc6NHB4IDRweCA1cHggNHB4O2JhY2tncm91bmQ6I2M1YmRhZDtjb2xvcjojZmZmO3RleHQtc2hhZG93OjAgMXB4IDAgI2IwYTU4Zjtib3gtc2hhZG93OjAgLTFweCAwICNiMGE1OGY7Y3Vyc29yOnBvaW50ZXJ9LmRnIGxpLnNhdmUtcm93IC5idXR0b24uZ2VhcnN7YmFja2dyb3VuZDojYzViZGFkIHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFzQUFBQU5DQVlBQUFCLzlaUTdBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQVFKSlJFRlVlTnBpWUtBVS9QLy9Qd0dJQy9BcENBQmlCU0FXK0k4QUNsQWNnS3hRNFQ5aG9NQUVVcnh4MlFTR042K2VnRFgrL3ZXVDRlN044MkFNWW9QQXgvZXZ3V29Zb1NZYkFDWDJzN0t4Q3h6Y3NlekRoM2V2Rm9ERUJZVEVFcXljZ2dXQXpBOUF1VVNRUWdlWVBhOWZQdjYvWVdtL0FjeDVJUGI3dHkvZncrUVpibHc2N3ZEczhSMFlIeVFoZ09ieCt5QUprQnFtRzVkUFBEaDFhUE9HUi9ldWdXMEc0dmxJb1RJZnlGY0ErUWVraGhISmhQZFF4YmlBSWd1TUJUUVpyUEQ3MTA4TTZyb1dZREZRaUlBQXY2QW93LzFiRndYZ2lzK2YyTFVBeW53b0lhTmN6OFhOeDNEbDdNRUpVREdRcHg5Z3RROFlDdWVCK0QyNk9FQ0FBUURhZHQ3ZTQ2RDQyUUFBQUFCSlJVNUVya0pnZ2c9PSkgMnB4IDFweCBuby1yZXBlYXQ7aGVpZ2h0OjdweDt3aWR0aDo4cHh9LmRnIGxpLnNhdmUtcm93IC5idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojYmFiMTllO2JveC1zaGFkb3c6MCAtMXB4IDAgI2IwYTU4Zn0uZGcgbGkuZm9sZGVye2JvcmRlci1ib3R0b206MH0uZGcgbGkudGl0bGV7cGFkZGluZy1sZWZ0OjE2cHg7YmFja2dyb3VuZDojMDAwIHVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhCUUFGQUpFQUFQLy8vL1B6OC8vLy8vLy8veUg1QkFFQUFBSUFMQUFBQUFBRkFBVUFBQUlJbEkraEtnRnhvQ2dBT3c9PSkgNnB4IDEwcHggbm8tcmVwZWF0O2N1cnNvcjpwb2ludGVyO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4yKX0uZGcgLmNsb3NlZCBsaS50aXRsZXtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhCUUFGQUpFQUFQLy8vL1B6OC8vLy8vLy8veUg1QkFFQUFBSUFMQUFBQUFBRkFBVUFBQUlJbEdJV3FNQ2JXQUVBT3c9PSl9LmRnIC5jci5ib29sZWFue2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjODA2Nzg3fS5kZyAuY3IuY29sb3J7Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkfS5kZyAuY3IuZnVuY3Rpb257Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICNlNjFkNWZ9LmRnIC5jci5udW1iZXJ7Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICMyRkExRDZ9LmRnIC5jci5udW1iZXIgaW5wdXRbdHlwZT10ZXh0XXtjb2xvcjojMkZBMUQ2fS5kZyAuY3Iuc3RyaW5ne2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjMWVkMzZmfS5kZyAuY3Iuc3RyaW5nIGlucHV0W3R5cGU9dGV4dF17Y29sb3I6IzFlZDM2Zn0uZGcgLmNyLmZ1bmN0aW9uOmhvdmVyLC5kZyAuY3IuYm9vbGVhbjpob3ZlcntiYWNrZ3JvdW5kOiMxMTF9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF17YmFja2dyb3VuZDojMzAzMDMwO291dGxpbmU6bm9uZX0uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XTpob3ZlcntiYWNrZ3JvdW5kOiMzYzNjM2N9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF06Zm9jdXN7YmFja2dyb3VuZDojNDk0OTQ5O2NvbG9yOiNmZmZ9LmRnIC5jIC5zbGlkZXJ7YmFja2dyb3VuZDojMzAzMDMwO2N1cnNvcjpldy1yZXNpemV9LmRnIC5jIC5zbGlkZXItZmd7YmFja2dyb3VuZDojMkZBMUQ2O21heC13aWR0aDoxMDAlfS5kZyAuYyAuc2xpZGVyOmhvdmVye2JhY2tncm91bmQ6IzNjM2MzY30uZGcgLmMgLnNsaWRlcjpob3ZlciAuc2xpZGVyLWZne2JhY2tncm91bmQ6IzQ0YWJkYX1cXG5cIik7XG5cbmNzcy5pbmplY3Qoc3R5bGVTaGVldCk7XG52YXIgQ1NTX05BTUVTUEFDRSA9ICdkZyc7XG52YXIgSElERV9LRVlfQ09ERSA9IDcyO1xudmFyIENMT1NFX0JVVFRPTl9IRUlHSFQgPSAyMDtcbnZhciBERUZBVUxUX0RFRkFVTFRfUFJFU0VUX05BTUUgPSAnRGVmYXVsdCc7XG52YXIgU1VQUE9SVFNfTE9DQUxfU1RPUkFHRSA9IGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISF3aW5kb3cubG9jYWxTdG9yYWdlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KCk7XG52YXIgU0FWRV9ESUFMT0dVRSA9IHZvaWQgMDtcbnZhciBhdXRvUGxhY2VWaXJnaW4gPSB0cnVlO1xudmFyIGF1dG9QbGFjZUNvbnRhaW5lciA9IHZvaWQgMDtcbnZhciBoaWRlID0gZmFsc2U7XG52YXIgaGlkZWFibGVHdWlzID0gW107XG52YXIgR1VJID0gZnVuY3Rpb24gR1VJKHBhcnMpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcbiAgdmFyIHBhcmFtcyA9IHBhcnMgfHwge307XG4gIHRoaXMuZG9tRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0aGlzLl9fdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICB0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX3VsKTtcbiAgZG9tLmFkZENsYXNzKHRoaXMuZG9tRWxlbWVudCwgQ1NTX05BTUVTUEFDRSk7XG4gIHRoaXMuX19mb2xkZXJzID0ge307XG4gIHRoaXMuX19jb250cm9sbGVycyA9IFtdO1xuICB0aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMgPSBbXTtcbiAgdGhpcy5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVycyA9IFtdO1xuICB0aGlzLl9fbGlzdGVuaW5nID0gW107XG4gIHBhcmFtcyA9IENvbW1vbi5kZWZhdWx0cyhwYXJhbXMsIHtcbiAgICBjbG9zZU9uVG9wOiBmYWxzZSxcbiAgICBhdXRvUGxhY2U6IHRydWUsXG4gICAgd2lkdGg6IEdVSS5ERUZBVUxUX1dJRFRIXG4gIH0pO1xuICBwYXJhbXMgPSBDb21tb24uZGVmYXVsdHMocGFyYW1zLCB7XG4gICAgcmVzaXphYmxlOiBwYXJhbXMuYXV0b1BsYWNlLFxuICAgIGhpZGVhYmxlOiBwYXJhbXMuYXV0b1BsYWNlXG4gIH0pO1xuICBpZiAoIUNvbW1vbi5pc1VuZGVmaW5lZChwYXJhbXMubG9hZCkpIHtcbiAgICBpZiAocGFyYW1zLnByZXNldCkge1xuICAgICAgcGFyYW1zLmxvYWQucHJlc2V0ID0gcGFyYW1zLnByZXNldDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGFyYW1zLmxvYWQgPSB7IHByZXNldDogREVGQVVMVF9ERUZBVUxUX1BSRVNFVF9OQU1FIH07XG4gIH1cbiAgaWYgKENvbW1vbi5pc1VuZGVmaW5lZChwYXJhbXMucGFyZW50KSAmJiBwYXJhbXMuaGlkZWFibGUpIHtcbiAgICBoaWRlYWJsZUd1aXMucHVzaCh0aGlzKTtcbiAgfVxuICBwYXJhbXMucmVzaXphYmxlID0gQ29tbW9uLmlzVW5kZWZpbmVkKHBhcmFtcy5wYXJlbnQpICYmIHBhcmFtcy5yZXNpemFibGU7XG4gIGlmIChwYXJhbXMuYXV0b1BsYWNlICYmIENvbW1vbi5pc1VuZGVmaW5lZChwYXJhbXMuc2Nyb2xsYWJsZSkpIHtcbiAgICBwYXJhbXMuc2Nyb2xsYWJsZSA9IHRydWU7XG4gIH1cbiAgdmFyIHVzZUxvY2FsU3RvcmFnZSA9IFNVUFBPUlRTX0xPQ0FMX1NUT1JBR0UgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2V0TG9jYWxTdG9yYWdlSGFzaCh0aGlzLCAnaXNMb2NhbCcpKSA9PT0gJ3RydWUnO1xuICB2YXIgc2F2ZVRvTG9jYWxTdG9yYWdlID0gdm9pZCAwO1xuICB2YXIgdGl0bGVSb3cgPSB2b2lkIDA7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsXG4gIHtcbiAgICBwYXJlbnQ6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICByZXR1cm4gcGFyYW1zLnBhcmVudDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNjcm9sbGFibGU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICByZXR1cm4gcGFyYW1zLnNjcm9sbGFibGU7XG4gICAgICB9XG4gICAgfSxcbiAgICBhdXRvUGxhY2U6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICByZXR1cm4gcGFyYW1zLmF1dG9QbGFjZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsb3NlT25Ub3A6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICByZXR1cm4gcGFyYW1zLmNsb3NlT25Ub3A7XG4gICAgICB9XG4gICAgfSxcbiAgICBwcmVzZXQ6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICBpZiAoX3RoaXMucGFyZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmdldFJvb3QoKS5wcmVzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtcy5sb2FkLnByZXNldDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2KSB7XG4gICAgICAgIGlmIChfdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICBfdGhpcy5nZXRSb290KCkucHJlc2V0ID0gdjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJhbXMubG9hZC5wcmVzZXQgPSB2O1xuICAgICAgICB9XG4gICAgICAgIHNldFByZXNldFNlbGVjdEluZGV4KHRoaXMpO1xuICAgICAgICBfdGhpcy5yZXZlcnQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdpZHRoOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgcmV0dXJuIHBhcmFtcy53aWR0aDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2KSB7XG4gICAgICAgIHBhcmFtcy53aWR0aCA9IHY7XG4gICAgICAgIHNldFdpZHRoKF90aGlzLCB2KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG5hbWU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICByZXR1cm4gcGFyYW1zLm5hbWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodikge1xuICAgICAgICBwYXJhbXMubmFtZSA9IHY7XG4gICAgICAgIGlmICh0aXRsZVJvdykge1xuICAgICAgICAgIHRpdGxlUm93LmlubmVySFRNTCA9IHBhcmFtcy5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjbG9zZWQ6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICByZXR1cm4gcGFyYW1zLmNsb3NlZDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2KSB7XG4gICAgICAgIHBhcmFtcy5jbG9zZWQgPSB2O1xuICAgICAgICBpZiAocGFyYW1zLmNsb3NlZCkge1xuICAgICAgICAgIGRvbS5hZGRDbGFzcyhfdGhpcy5fX3VsLCBHVUkuQ0xBU1NfQ0xPU0VEKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb20ucmVtb3ZlQ2xhc3MoX3RoaXMuX191bCwgR1VJLkNMQVNTX0NMT1NFRCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgICAgICBpZiAoX3RoaXMuX19jbG9zZUJ1dHRvbikge1xuICAgICAgICAgIF90aGlzLl9fY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gdiA/IEdVSS5URVhUX09QRU4gOiBHVUkuVEVYVF9DTE9TRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGxvYWQ6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICByZXR1cm4gcGFyYW1zLmxvYWQ7XG4gICAgICB9XG4gICAgfSxcbiAgICB1c2VMb2NhbFN0b3JhZ2U6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICByZXR1cm4gdXNlTG9jYWxTdG9yYWdlO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKGJvb2wpIHtcbiAgICAgICAgaWYgKFNVUFBPUlRTX0xPQ0FMX1NUT1JBR0UpIHtcbiAgICAgICAgICB1c2VMb2NhbFN0b3JhZ2UgPSBib29sO1xuICAgICAgICAgIGlmIChib29sKSB7XG4gICAgICAgICAgICBkb20uYmluZCh3aW5kb3csICd1bmxvYWQnLCBzYXZlVG9Mb2NhbFN0b3JhZ2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb20udW5iaW5kKHdpbmRvdywgJ3VubG9hZCcsIHNhdmVUb0xvY2FsU3RvcmFnZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGdldExvY2FsU3RvcmFnZUhhc2goX3RoaXMsICdpc0xvY2FsJyksIGJvb2wpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgaWYgKENvbW1vbi5pc1VuZGVmaW5lZChwYXJhbXMucGFyZW50KSkge1xuICAgIHRoaXMuY2xvc2VkID0gcGFyYW1zLmNsb3NlZCB8fCBmYWxzZTtcbiAgICBkb20uYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LCBHVUkuQ0xBU1NfTUFJTik7XG4gICAgZG9tLm1ha2VTZWxlY3RhYmxlKHRoaXMuZG9tRWxlbWVudCwgZmFsc2UpO1xuICAgIGlmIChTVVBQT1JUU19MT0NBTF9TVE9SQUdFKSB7XG4gICAgICBpZiAodXNlTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIF90aGlzLnVzZUxvY2FsU3RvcmFnZSA9IHRydWU7XG4gICAgICAgIHZhciBzYXZlZEd1aSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGdldExvY2FsU3RvcmFnZUhhc2godGhpcywgJ2d1aScpKTtcbiAgICAgICAgaWYgKHNhdmVkR3VpKSB7XG4gICAgICAgICAgcGFyYW1zLmxvYWQgPSBKU09OLnBhcnNlKHNhdmVkR3VpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9fY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9fY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gR1VJLlRFWFRfQ0xPU0VEO1xuICAgIGRvbS5hZGRDbGFzcyh0aGlzLl9fY2xvc2VCdXR0b24sIEdVSS5DTEFTU19DTE9TRV9CVVRUT04pO1xuICAgIGlmIChwYXJhbXMuY2xvc2VPblRvcCkge1xuICAgICAgZG9tLmFkZENsYXNzKHRoaXMuX19jbG9zZUJ1dHRvbiwgR1VJLkNMQVNTX0NMT1NFX1RPUCk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMuX19jbG9zZUJ1dHRvbiwgdGhpcy5kb21FbGVtZW50LmNoaWxkTm9kZXNbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb20uYWRkQ2xhc3ModGhpcy5fX2Nsb3NlQnV0dG9uLCBHVUkuQ0xBU1NfQ0xPU0VfQk9UVE9NKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fY2xvc2VCdXR0b24pO1xuICAgIH1cbiAgICBkb20uYmluZCh0aGlzLl9fY2xvc2VCdXR0b24sICdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsb3NlZCA9ICFfdGhpcy5jbG9zZWQ7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHBhcmFtcy5jbG9zZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFyYW1zLmNsb3NlZCA9IHRydWU7XG4gICAgfVxuICAgIHZhciB0aXRsZVJvd05hbWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShwYXJhbXMubmFtZSk7XG4gICAgZG9tLmFkZENsYXNzKHRpdGxlUm93TmFtZSwgJ2NvbnRyb2xsZXItbmFtZScpO1xuICAgIHRpdGxlUm93ID0gYWRkUm93KF90aGlzLCB0aXRsZVJvd05hbWUpO1xuICAgIHZhciBvbkNsaWNrVGl0bGUgPSBmdW5jdGlvbiBvbkNsaWNrVGl0bGUoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgX3RoaXMuY2xvc2VkID0gIV90aGlzLmNsb3NlZDtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIGRvbS5hZGRDbGFzcyh0aGlzLl9fdWwsIEdVSS5DTEFTU19DTE9TRUQpO1xuICAgIGRvbS5hZGRDbGFzcyh0aXRsZVJvdywgJ3RpdGxlJyk7XG4gICAgZG9tLmJpbmQodGl0bGVSb3csICdjbGljaycsIG9uQ2xpY2tUaXRsZSk7XG4gICAgaWYgKCFwYXJhbXMuY2xvc2VkKSB7XG4gICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAocGFyYW1zLmF1dG9QbGFjZSkge1xuICAgIGlmIChDb21tb24uaXNVbmRlZmluZWQocGFyYW1zLnBhcmVudCkpIHtcbiAgICAgIGlmIChhdXRvUGxhY2VWaXJnaW4pIHtcbiAgICAgICAgYXV0b1BsYWNlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRvbS5hZGRDbGFzcyhhdXRvUGxhY2VDb250YWluZXIsIENTU19OQU1FU1BBQ0UpO1xuICAgICAgICBkb20uYWRkQ2xhc3MoYXV0b1BsYWNlQ29udGFpbmVyLCBHVUkuQ0xBU1NfQVVUT19QTEFDRV9DT05UQUlORVIpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGF1dG9QbGFjZUNvbnRhaW5lcik7XG4gICAgICAgIGF1dG9QbGFjZVZpcmdpbiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgYXV0b1BsYWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZG9tRWxlbWVudCk7XG4gICAgICBkb20uYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LCBHVUkuQ0xBU1NfQVVUT19QTEFDRSk7XG4gICAgfVxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgIHNldFdpZHRoKF90aGlzLCBwYXJhbXMud2lkdGgpO1xuICAgIH1cbiAgfVxuICB0aGlzLl9fcmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpcy5vblJlc2l6ZURlYm91bmNlZCgpO1xuICB9O1xuICBkb20uYmluZCh3aW5kb3csICdyZXNpemUnLCB0aGlzLl9fcmVzaXplSGFuZGxlcik7XG4gIGRvbS5iaW5kKHRoaXMuX191bCwgJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCB0aGlzLl9fcmVzaXplSGFuZGxlcik7XG4gIGRvbS5iaW5kKHRoaXMuX191bCwgJ3RyYW5zaXRpb25lbmQnLCB0aGlzLl9fcmVzaXplSGFuZGxlcik7XG4gIGRvbS5iaW5kKHRoaXMuX191bCwgJ29UcmFuc2l0aW9uRW5kJywgdGhpcy5fX3Jlc2l6ZUhhbmRsZXIpO1xuICB0aGlzLm9uUmVzaXplKCk7XG4gIGlmIChwYXJhbXMucmVzaXphYmxlKSB7XG4gICAgYWRkUmVzaXplSGFuZGxlKHRoaXMpO1xuICB9XG4gIHNhdmVUb0xvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uIHNhdmVUb0xvY2FsU3RvcmFnZSgpIHtcbiAgICBpZiAoU1VQUE9SVFNfTE9DQUxfU1RPUkFHRSAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShnZXRMb2NhbFN0b3JhZ2VIYXNoKF90aGlzLCAnaXNMb2NhbCcpKSA9PT0gJ3RydWUnKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShnZXRMb2NhbFN0b3JhZ2VIYXNoKF90aGlzLCAnZ3VpJyksIEpTT04uc3RyaW5naWZ5KF90aGlzLmdldFNhdmVPYmplY3QoKSkpO1xuICAgIH1cbiAgfTtcbiAgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2VJZlBvc3NpYmxlID0gc2F2ZVRvTG9jYWxTdG9yYWdlO1xuICBmdW5jdGlvbiByZXNldFdpZHRoKCkge1xuICAgIHZhciByb290ID0gX3RoaXMuZ2V0Um9vdCgpO1xuICAgIHJvb3Qud2lkdGggKz0gMTtcbiAgICBDb21tb24uZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgcm9vdC53aWR0aCAtPSAxO1xuICAgIH0pO1xuICB9XG4gIGlmICghcGFyYW1zLnBhcmVudCkge1xuICAgIHJlc2V0V2lkdGgoKTtcbiAgfVxufTtcbkdVSS50b2dnbGVIaWRlID0gZnVuY3Rpb24gKCkge1xuICBoaWRlID0gIWhpZGU7XG4gIENvbW1vbi5lYWNoKGhpZGVhYmxlR3VpcywgZnVuY3Rpb24gKGd1aSkge1xuICAgIGd1aS5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBoaWRlID8gJ25vbmUnIDogJyc7XG4gIH0pO1xufTtcbkdVSS5DTEFTU19BVVRPX1BMQUNFID0gJ2EnO1xuR1VJLkNMQVNTX0FVVE9fUExBQ0VfQ09OVEFJTkVSID0gJ2FjJztcbkdVSS5DTEFTU19NQUlOID0gJ21haW4nO1xuR1VJLkNMQVNTX0NPTlRST0xMRVJfUk9XID0gJ2NyJztcbkdVSS5DTEFTU19UT09fVEFMTCA9ICd0YWxsZXItdGhhbi13aW5kb3cnO1xuR1VJLkNMQVNTX0NMT1NFRCA9ICdjbG9zZWQnO1xuR1VJLkNMQVNTX0NMT1NFX0JVVFRPTiA9ICdjbG9zZS1idXR0b24nO1xuR1VJLkNMQVNTX0NMT1NFX1RPUCA9ICdjbG9zZS10b3AnO1xuR1VJLkNMQVNTX0NMT1NFX0JPVFRPTSA9ICdjbG9zZS1ib3R0b20nO1xuR1VJLkNMQVNTX0RSQUcgPSAnZHJhZyc7XG5HVUkuREVGQVVMVF9XSURUSCA9IDI0NTtcbkdVSS5URVhUX0NMT1NFRCA9ICdDbG9zZSBDb250cm9scyc7XG5HVUkuVEVYVF9PUEVOID0gJ09wZW4gQ29udHJvbHMnO1xuR1VJLl9rZXlkb3duSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50LnR5cGUgIT09ICd0ZXh0JyAmJiAoZS53aGljaCA9PT0gSElERV9LRVlfQ09ERSB8fCBlLmtleUNvZGUgPT09IEhJREVfS0VZX0NPREUpKSB7XG4gICAgR1VJLnRvZ2dsZUhpZGUoKTtcbiAgfVxufTtcbmRvbS5iaW5kKHdpbmRvdywgJ2tleWRvd24nLCBHVUkuX2tleWRvd25IYW5kbGVyLCBmYWxzZSk7XG5Db21tb24uZXh0ZW5kKEdVSS5wcm90b3R5cGUsXG57XG4gIGFkZDogZnVuY3Rpb24gYWRkKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICByZXR1cm4gX2FkZCh0aGlzLCBvYmplY3QsIHByb3BlcnR5LCB7XG4gICAgICBmYWN0b3J5QXJnczogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKVxuICAgIH0pO1xuICB9LFxuICBhZGRDb2xvcjogZnVuY3Rpb24gYWRkQ29sb3Iob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgIHJldHVybiBfYWRkKHRoaXMsIG9iamVjdCwgcHJvcGVydHksIHtcbiAgICAgIGNvbG9yOiB0cnVlXG4gICAgfSk7XG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGNvbnRyb2xsZXIpIHtcbiAgICB0aGlzLl9fdWwucmVtb3ZlQ2hpbGQoY29udHJvbGxlci5fX2xpKTtcbiAgICB0aGlzLl9fY29udHJvbGxlcnMuc3BsaWNlKHRoaXMuX19jb250cm9sbGVycy5pbmRleE9mKGNvbnRyb2xsZXIpLCAxKTtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIENvbW1vbi5kZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5vblJlc2l6ZSgpO1xuICAgIH0pO1xuICB9LFxuICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHRoZSByb290IEdVSSBzaG91bGQgYmUgcmVtb3ZlZCB3aXRoIC5kZXN0cm95KCkuICcgKyAnRm9yIHN1YmZvbGRlcnMsIHVzZSBndWkucmVtb3ZlRm9sZGVyKGZvbGRlcikgaW5zdGVhZC4nKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYXV0b1BsYWNlKSB7XG4gICAgICBhdXRvUGxhY2VDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5kb21FbGVtZW50KTtcbiAgICB9XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBDb21tb24uZWFjaCh0aGlzLl9fZm9sZGVycywgZnVuY3Rpb24gKHN1YmZvbGRlcikge1xuICAgICAgX3RoaXMucmVtb3ZlRm9sZGVyKHN1YmZvbGRlcik7XG4gICAgfSk7XG4gICAgZG9tLnVuYmluZCh3aW5kb3csICdrZXlkb3duJywgR1VJLl9rZXlkb3duSGFuZGxlciwgZmFsc2UpO1xuICAgIHJlbW92ZUxpc3RlbmVycyh0aGlzKTtcbiAgfSxcbiAgYWRkRm9sZGVyOiBmdW5jdGlvbiBhZGRGb2xkZXIobmFtZSkge1xuICAgIGlmICh0aGlzLl9fZm9sZGVyc1tuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBhbHJlYWR5IGhhdmUgYSBmb2xkZXIgaW4gdGhpcyBHVUkgYnkgdGhlJyArICcgbmFtZSBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgfVxuICAgIHZhciBuZXdHdWlQYXJhbXMgPSB7IG5hbWU6IG5hbWUsIHBhcmVudDogdGhpcyB9O1xuICAgIG5ld0d1aVBhcmFtcy5hdXRvUGxhY2UgPSB0aGlzLmF1dG9QbGFjZTtcbiAgICBpZiAodGhpcy5sb2FkICYmXG4gICAgdGhpcy5sb2FkLmZvbGRlcnMgJiZcbiAgICB0aGlzLmxvYWQuZm9sZGVyc1tuYW1lXSkge1xuICAgICAgbmV3R3VpUGFyYW1zLmNsb3NlZCA9IHRoaXMubG9hZC5mb2xkZXJzW25hbWVdLmNsb3NlZDtcbiAgICAgIG5ld0d1aVBhcmFtcy5sb2FkID0gdGhpcy5sb2FkLmZvbGRlcnNbbmFtZV07XG4gICAgfVxuICAgIHZhciBndWkgPSBuZXcgR1VJKG5ld0d1aVBhcmFtcyk7XG4gICAgdGhpcy5fX2ZvbGRlcnNbbmFtZV0gPSBndWk7XG4gICAgdmFyIGxpID0gYWRkUm93KHRoaXMsIGd1aS5kb21FbGVtZW50KTtcbiAgICBkb20uYWRkQ2xhc3MobGksICdmb2xkZXInKTtcbiAgICByZXR1cm4gZ3VpO1xuICB9LFxuICByZW1vdmVGb2xkZXI6IGZ1bmN0aW9uIHJlbW92ZUZvbGRlcihmb2xkZXIpIHtcbiAgICB0aGlzLl9fdWwucmVtb3ZlQ2hpbGQoZm9sZGVyLmRvbUVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gICAgZGVsZXRlIHRoaXMuX19mb2xkZXJzW2ZvbGRlci5uYW1lXTtcbiAgICBpZiAodGhpcy5sb2FkICYmXG4gICAgdGhpcy5sb2FkLmZvbGRlcnMgJiZcbiAgICB0aGlzLmxvYWQuZm9sZGVyc1tmb2xkZXIubmFtZV0pIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmxvYWQuZm9sZGVyc1tmb2xkZXIubmFtZV07XG4gICAgfVxuICAgIHJlbW92ZUxpc3RlbmVycyhmb2xkZXIpO1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgQ29tbW9uLmVhY2goZm9sZGVyLl9fZm9sZGVycywgZnVuY3Rpb24gKHN1YmZvbGRlcikge1xuICAgICAgZm9sZGVyLnJlbW92ZUZvbGRlcihzdWJmb2xkZXIpO1xuICAgIH0pO1xuICAgIENvbW1vbi5kZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5vblJlc2l6ZSgpO1xuICAgIH0pO1xuICB9LFxuICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gIH0sXG4gIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gIH0sXG4gIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH0sXG4gIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgfSxcbiAgb25SZXNpemU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgIHZhciByb290ID0gdGhpcy5nZXRSb290KCk7XG4gICAgaWYgKHJvb3Quc2Nyb2xsYWJsZSkge1xuICAgICAgdmFyIHRvcCA9IGRvbS5nZXRPZmZzZXQocm9vdC5fX3VsKS50b3A7XG4gICAgICB2YXIgaCA9IDA7XG4gICAgICBDb21tb24uZWFjaChyb290Ll9fdWwuY2hpbGROb2RlcywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgaWYgKCEocm9vdC5hdXRvUGxhY2UgJiYgbm9kZSA9PT0gcm9vdC5fX3NhdmVfcm93KSkge1xuICAgICAgICAgIGggKz0gZG9tLmdldEhlaWdodChub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAod2luZG93LmlubmVySGVpZ2h0IC0gdG9wIC0gQ0xPU0VfQlVUVE9OX0hFSUdIVCA8IGgpIHtcbiAgICAgICAgZG9tLmFkZENsYXNzKHJvb3QuZG9tRWxlbWVudCwgR1VJLkNMQVNTX1RPT19UQUxMKTtcbiAgICAgICAgcm9vdC5fX3VsLnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIHRvcCAtIENMT1NFX0JVVFRPTl9IRUlHSFQgKyAncHgnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9tLnJlbW92ZUNsYXNzKHJvb3QuZG9tRWxlbWVudCwgR1VJLkNMQVNTX1RPT19UQUxMKTtcbiAgICAgICAgcm9vdC5fX3VsLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJvb3QuX19yZXNpemVfaGFuZGxlKSB7XG4gICAgICBDb21tb24uZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICByb290Ll9fcmVzaXplX2hhbmRsZS5zdHlsZS5oZWlnaHQgPSByb290Ll9fdWwub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocm9vdC5fX2Nsb3NlQnV0dG9uKSB7XG4gICAgICByb290Ll9fY2xvc2VCdXR0b24uc3R5bGUud2lkdGggPSByb290LndpZHRoICsgJ3B4JztcbiAgICB9XG4gIH0sXG4gIG9uUmVzaXplRGVib3VuY2VkOiBDb21tb24uZGVib3VuY2UoZnVuY3Rpb24gKCkge1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgfSwgNTApLFxuICByZW1lbWJlcjogZnVuY3Rpb24gcmVtZW1iZXIoKSB7XG4gICAgaWYgKENvbW1vbi5pc1VuZGVmaW5lZChTQVZFX0RJQUxPR1VFKSkge1xuICAgICAgU0FWRV9ESUFMT0dVRSA9IG5ldyBDZW50ZXJlZERpdigpO1xuICAgICAgU0FWRV9ESUFMT0dVRS5kb21FbGVtZW50LmlubmVySFRNTCA9IHNhdmVEaWFsb2dDb250ZW50cztcbiAgICB9XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBjYW4gb25seSBjYWxsIHJlbWVtYmVyIG9uIGEgdG9wIGxldmVsIEdVSS4nKTtcbiAgICB9XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBDb21tb24uZWFjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLCBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICBpZiAoX3RoaXMuX19yZW1lbWJlcmVkT2JqZWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYWRkU2F2ZU1lbnUoX3RoaXMpO1xuICAgICAgfVxuICAgICAgaWYgKF90aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMuaW5kZXhPZihvYmplY3QpID09PSAtMSkge1xuICAgICAgICBfdGhpcy5fX3JlbWVtYmVyZWRPYmplY3RzLnB1c2gob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGhpcy5hdXRvUGxhY2UpIHtcbiAgICAgIHNldFdpZHRoKHRoaXMsIHRoaXMud2lkdGgpO1xuICAgIH1cbiAgfSxcbiAgZ2V0Um9vdDogZnVuY3Rpb24gZ2V0Um9vdCgpIHtcbiAgICB2YXIgZ3VpID0gdGhpcztcbiAgICB3aGlsZSAoZ3VpLnBhcmVudCkge1xuICAgICAgZ3VpID0gZ3VpLnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGd1aTtcbiAgfSxcbiAgZ2V0U2F2ZU9iamVjdDogZnVuY3Rpb24gZ2V0U2F2ZU9iamVjdCgpIHtcbiAgICB2YXIgdG9SZXR1cm4gPSB0aGlzLmxvYWQ7XG4gICAgdG9SZXR1cm4uY2xvc2VkID0gdGhpcy5jbG9zZWQ7XG4gICAgaWYgKHRoaXMuX19yZW1lbWJlcmVkT2JqZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICB0b1JldHVybi5wcmVzZXQgPSB0aGlzLnByZXNldDtcbiAgICAgIGlmICghdG9SZXR1cm4ucmVtZW1iZXJlZCkge1xuICAgICAgICB0b1JldHVybi5yZW1lbWJlcmVkID0ge307XG4gICAgICB9XG4gICAgICB0b1JldHVybi5yZW1lbWJlcmVkW3RoaXMucHJlc2V0XSA9IGdldEN1cnJlbnRQcmVzZXQodGhpcyk7XG4gICAgfVxuICAgIHRvUmV0dXJuLmZvbGRlcnMgPSB7fTtcbiAgICBDb21tb24uZWFjaCh0aGlzLl9fZm9sZGVycywgZnVuY3Rpb24gKGVsZW1lbnQsIGtleSkge1xuICAgICAgdG9SZXR1cm4uZm9sZGVyc1trZXldID0gZWxlbWVudC5nZXRTYXZlT2JqZWN0KCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvUmV0dXJuO1xuICB9LFxuICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkge1xuICAgIGlmICghdGhpcy5sb2FkLnJlbWVtYmVyZWQpIHtcbiAgICAgIHRoaXMubG9hZC5yZW1lbWJlcmVkID0ge307XG4gICAgfVxuICAgIHRoaXMubG9hZC5yZW1lbWJlcmVkW3RoaXMucHJlc2V0XSA9IGdldEN1cnJlbnRQcmVzZXQodGhpcyk7XG4gICAgbWFya1ByZXNldE1vZGlmaWVkKHRoaXMsIGZhbHNlKTtcbiAgICB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZUlmUG9zc2libGUoKTtcbiAgfSxcbiAgc2F2ZUFzOiBmdW5jdGlvbiBzYXZlQXMocHJlc2V0TmFtZSkge1xuICAgIGlmICghdGhpcy5sb2FkLnJlbWVtYmVyZWQpIHtcbiAgICAgIHRoaXMubG9hZC5yZW1lbWJlcmVkID0ge307XG4gICAgICB0aGlzLmxvYWQucmVtZW1iZXJlZFtERUZBVUxUX0RFRkFVTFRfUFJFU0VUX05BTUVdID0gZ2V0Q3VycmVudFByZXNldCh0aGlzLCB0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5sb2FkLnJlbWVtYmVyZWRbcHJlc2V0TmFtZV0gPSBnZXRDdXJyZW50UHJlc2V0KHRoaXMpO1xuICAgIHRoaXMucHJlc2V0ID0gcHJlc2V0TmFtZTtcbiAgICBhZGRQcmVzZXRPcHRpb24odGhpcywgcHJlc2V0TmFtZSwgdHJ1ZSk7XG4gICAgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2VJZlBvc3NpYmxlKCk7XG4gIH0sXG4gIHJldmVydDogZnVuY3Rpb24gcmV2ZXJ0KGd1aSkge1xuICAgIENvbW1vbi5lYWNoKHRoaXMuX19jb250cm9sbGVycywgZnVuY3Rpb24gKGNvbnRyb2xsZXIpIHtcbiAgICAgIGlmICghdGhpcy5nZXRSb290KCkubG9hZC5yZW1lbWJlcmVkKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuc2V0VmFsdWUoY29udHJvbGxlci5pbml0aWFsVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVjYWxsU2F2ZWRWYWx1ZShndWkgfHwgdGhpcy5nZXRSb290KCksIGNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRyb2xsZXIuX19vbkZpbmlzaENoYW5nZSkge1xuICAgICAgICBjb250cm9sbGVyLl9fb25GaW5pc2hDaGFuZ2UuY2FsbChjb250cm9sbGVyLCBjb250cm9sbGVyLmdldFZhbHVlKCkpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICAgIENvbW1vbi5lYWNoKHRoaXMuX19mb2xkZXJzLCBmdW5jdGlvbiAoZm9sZGVyKSB7XG4gICAgICBmb2xkZXIucmV2ZXJ0KGZvbGRlcik7XG4gICAgfSk7XG4gICAgaWYgKCFndWkpIHtcbiAgICAgIG1hcmtQcmVzZXRNb2RpZmllZCh0aGlzLmdldFJvb3QoKSwgZmFsc2UpO1xuICAgIH1cbiAgfSxcbiAgbGlzdGVuOiBmdW5jdGlvbiBsaXN0ZW4oY29udHJvbGxlcikge1xuICAgIHZhciBpbml0ID0gdGhpcy5fX2xpc3RlbmluZy5sZW5ndGggPT09IDA7XG4gICAgdGhpcy5fX2xpc3RlbmluZy5wdXNoKGNvbnRyb2xsZXIpO1xuICAgIGlmIChpbml0KSB7XG4gICAgICB1cGRhdGVEaXNwbGF5cyh0aGlzLl9fbGlzdGVuaW5nKTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZURpc3BsYXk6IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoKSB7XG4gICAgQ29tbW9uLmVhY2godGhpcy5fX2NvbnRyb2xsZXJzLCBmdW5jdGlvbiAoY29udHJvbGxlcikge1xuICAgICAgY29udHJvbGxlci51cGRhdGVEaXNwbGF5KCk7XG4gICAgfSk7XG4gICAgQ29tbW9uLmVhY2godGhpcy5fX2ZvbGRlcnMsIGZ1bmN0aW9uIChmb2xkZXIpIHtcbiAgICAgIGZvbGRlci51cGRhdGVEaXNwbGF5KCk7XG4gICAgfSk7XG4gIH1cbn0pO1xuZnVuY3Rpb24gYWRkUm93KGd1aSwgbmV3RG9tLCBsaUJlZm9yZSkge1xuICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICBpZiAobmV3RG9tKSB7XG4gICAgbGkuYXBwZW5kQ2hpbGQobmV3RG9tKTtcbiAgfVxuICBpZiAobGlCZWZvcmUpIHtcbiAgICBndWkuX191bC5pbnNlcnRCZWZvcmUobGksIGxpQmVmb3JlKTtcbiAgfSBlbHNlIHtcbiAgICBndWkuX191bC5hcHBlbmRDaGlsZChsaSk7XG4gIH1cbiAgZ3VpLm9uUmVzaXplKCk7XG4gIHJldHVybiBsaTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVycyhndWkpIHtcbiAgZG9tLnVuYmluZCh3aW5kb3csICdyZXNpemUnLCBndWkuX19yZXNpemVIYW5kbGVyKTtcbiAgaWYgKGd1aS5zYXZlVG9Mb2NhbFN0b3JhZ2VJZlBvc3NpYmxlKSB7XG4gICAgZG9tLnVuYmluZCh3aW5kb3csICd1bmxvYWQnLCBndWkuc2F2ZVRvTG9jYWxTdG9yYWdlSWZQb3NzaWJsZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIG1hcmtQcmVzZXRNb2RpZmllZChndWksIG1vZGlmaWVkKSB7XG4gIHZhciBvcHQgPSBndWkuX19wcmVzZXRfc2VsZWN0W2d1aS5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleF07XG4gIGlmIChtb2RpZmllZCkge1xuICAgIG9wdC5pbm5lckhUTUwgPSBvcHQudmFsdWUgKyAnKic7XG4gIH0gZWxzZSB7XG4gICAgb3B0LmlubmVySFRNTCA9IG9wdC52YWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gYXVnbWVudENvbnRyb2xsZXIoZ3VpLCBsaSwgY29udHJvbGxlcikge1xuICBjb250cm9sbGVyLl9fbGkgPSBsaTtcbiAgY29udHJvbGxlci5fX2d1aSA9IGd1aTtcbiAgQ29tbW9uLmV4dGVuZChjb250cm9sbGVyLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnMoX29wdGlvbnMpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSBjb250cm9sbGVyLl9fbGkubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICBjb250cm9sbGVyLnJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gX2FkZChndWksIGNvbnRyb2xsZXIub2JqZWN0LCBjb250cm9sbGVyLnByb3BlcnR5LCB7XG4gICAgICAgICAgYmVmb3JlOiBuZXh0U2libGluZyxcbiAgICAgICAgICBmYWN0b3J5QXJnczogW0NvbW1vbi50b0FycmF5KGFyZ3VtZW50cyldXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKENvbW1vbi5pc0FycmF5KF9vcHRpb25zKSB8fCBDb21tb24uaXNPYmplY3QoX29wdGlvbnMpKSB7XG4gICAgICAgIHZhciBfbmV4dFNpYmxpbmcgPSBjb250cm9sbGVyLl9fbGkubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICBjb250cm9sbGVyLnJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gX2FkZChndWksIGNvbnRyb2xsZXIub2JqZWN0LCBjb250cm9sbGVyLnByb3BlcnR5LCB7XG4gICAgICAgICAgYmVmb3JlOiBfbmV4dFNpYmxpbmcsXG4gICAgICAgICAgZmFjdG9yeUFyZ3M6IFtfb3B0aW9uc11cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBuYW1lOiBmdW5jdGlvbiBuYW1lKF9uYW1lKSB7XG4gICAgICBjb250cm9sbGVyLl9fbGkuZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQuaW5uZXJIVE1MID0gX25hbWU7XG4gICAgICByZXR1cm4gY29udHJvbGxlcjtcbiAgICB9LFxuICAgIGxpc3RlbjogZnVuY3Rpb24gbGlzdGVuKCkge1xuICAgICAgY29udHJvbGxlci5fX2d1aS5saXN0ZW4oY29udHJvbGxlcik7XG4gICAgICByZXR1cm4gY29udHJvbGxlcjtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgY29udHJvbGxlci5fX2d1aS5yZW1vdmUoY29udHJvbGxlcik7XG4gICAgICByZXR1cm4gY29udHJvbGxlcjtcbiAgICB9XG4gIH0pO1xuICBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIE51bWJlckNvbnRyb2xsZXJTbGlkZXIpIHtcbiAgICB2YXIgYm94ID0gbmV3IE51bWJlckNvbnRyb2xsZXJCb3goY29udHJvbGxlci5vYmplY3QsIGNvbnRyb2xsZXIucHJvcGVydHksIHsgbWluOiBjb250cm9sbGVyLl9fbWluLCBtYXg6IGNvbnRyb2xsZXIuX19tYXgsIHN0ZXA6IGNvbnRyb2xsZXIuX19zdGVwIH0pO1xuICAgIENvbW1vbi5lYWNoKFsndXBkYXRlRGlzcGxheScsICdvbkNoYW5nZScsICdvbkZpbmlzaENoYW5nZScsICdzdGVwJywgJ21pbicsICdtYXgnXSwgZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgdmFyIHBjID0gY29udHJvbGxlclttZXRob2RdO1xuICAgICAgdmFyIHBiID0gYm94W21ldGhvZF07XG4gICAgICBjb250cm9sbGVyW21ldGhvZF0gPSBib3hbbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICBwYi5hcHBseShib3gsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcGMuYXBwbHkoY29udHJvbGxlciwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuICAgIGRvbS5hZGRDbGFzcyhsaSwgJ2hhcy1zbGlkZXInKTtcbiAgICBjb250cm9sbGVyLmRvbUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGJveC5kb21FbGVtZW50LCBjb250cm9sbGVyLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBOdW1iZXJDb250cm9sbGVyQm94KSB7XG4gICAgdmFyIHIgPSBmdW5jdGlvbiByKHJldHVybmVkKSB7XG4gICAgICBpZiAoQ29tbW9uLmlzTnVtYmVyKGNvbnRyb2xsZXIuX19taW4pICYmIENvbW1vbi5pc051bWJlcihjb250cm9sbGVyLl9fbWF4KSkge1xuICAgICAgICB2YXIgb2xkTmFtZSA9IGNvbnRyb2xsZXIuX19saS5maXJzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUw7XG4gICAgICAgIHZhciB3YXNMaXN0ZW5pbmcgPSBjb250cm9sbGVyLl9fZ3VpLl9fbGlzdGVuaW5nLmluZGV4T2YoY29udHJvbGxlcikgPiAtMTtcbiAgICAgICAgY29udHJvbGxlci5yZW1vdmUoKTtcbiAgICAgICAgdmFyIG5ld0NvbnRyb2xsZXIgPSBfYWRkKGd1aSwgY29udHJvbGxlci5vYmplY3QsIGNvbnRyb2xsZXIucHJvcGVydHksIHtcbiAgICAgICAgICBiZWZvcmU6IGNvbnRyb2xsZXIuX19saS5uZXh0RWxlbWVudFNpYmxpbmcsXG4gICAgICAgICAgZmFjdG9yeUFyZ3M6IFtjb250cm9sbGVyLl9fbWluLCBjb250cm9sbGVyLl9fbWF4LCBjb250cm9sbGVyLl9fc3RlcF1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld0NvbnRyb2xsZXIubmFtZShvbGROYW1lKTtcbiAgICAgICAgaWYgKHdhc0xpc3RlbmluZykgbmV3Q29udHJvbGxlci5saXN0ZW4oKTtcbiAgICAgICAgcmV0dXJuIG5ld0NvbnRyb2xsZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0dXJuZWQ7XG4gICAgfTtcbiAgICBjb250cm9sbGVyLm1pbiA9IENvbW1vbi5jb21wb3NlKHIsIGNvbnRyb2xsZXIubWluKTtcbiAgICBjb250cm9sbGVyLm1heCA9IENvbW1vbi5jb21wb3NlKHIsIGNvbnRyb2xsZXIubWF4KTtcbiAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgQm9vbGVhbkNvbnRyb2xsZXIpIHtcbiAgICBkb20uYmluZChsaSwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgZG9tLmZha2VFdmVudChjb250cm9sbGVyLl9fY2hlY2tib3gsICdjbGljaycpO1xuICAgIH0pO1xuICAgIGRvbS5iaW5kKGNvbnRyb2xsZXIuX19jaGVja2JveCwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIEZ1bmN0aW9uQ29udHJvbGxlcikge1xuICAgIGRvbS5iaW5kKGxpLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBkb20uZmFrZUV2ZW50KGNvbnRyb2xsZXIuX19idXR0b24sICdjbGljaycpO1xuICAgIH0pO1xuICAgIGRvbS5iaW5kKGxpLCAnbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgZG9tLmFkZENsYXNzKGNvbnRyb2xsZXIuX19idXR0b24sICdob3ZlcicpO1xuICAgIH0pO1xuICAgIGRvbS5iaW5kKGxpLCAnbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBkb20ucmVtb3ZlQ2xhc3MoY29udHJvbGxlci5fX2J1dHRvbiwgJ2hvdmVyJyk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIENvbG9yQ29udHJvbGxlcikge1xuICAgIGRvbS5hZGRDbGFzcyhsaSwgJ2NvbG9yJyk7XG4gICAgY29udHJvbGxlci51cGRhdGVEaXNwbGF5ID0gQ29tbW9uLmNvbXBvc2UoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgbGkuc3R5bGUuYm9yZGVyTGVmdENvbG9yID0gY29udHJvbGxlci5fX2NvbG9yLnRvU3RyaW5nKCk7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0sIGNvbnRyb2xsZXIudXBkYXRlRGlzcGxheSk7XG4gICAgY29udHJvbGxlci51cGRhdGVEaXNwbGF5KCk7XG4gIH1cbiAgY29udHJvbGxlci5zZXRWYWx1ZSA9IENvbW1vbi5jb21wb3NlKGZ1bmN0aW9uICh2YWwpIHtcbiAgICBpZiAoZ3VpLmdldFJvb3QoKS5fX3ByZXNldF9zZWxlY3QgJiYgY29udHJvbGxlci5pc01vZGlmaWVkKCkpIHtcbiAgICAgIG1hcmtQcmVzZXRNb2RpZmllZChndWkuZ2V0Um9vdCgpLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfSwgY29udHJvbGxlci5zZXRWYWx1ZSk7XG59XG5mdW5jdGlvbiByZWNhbGxTYXZlZFZhbHVlKGd1aSwgY29udHJvbGxlcikge1xuICB2YXIgcm9vdCA9IGd1aS5nZXRSb290KCk7XG4gIHZhciBtYXRjaGVkSW5kZXggPSByb290Ll9fcmVtZW1iZXJlZE9iamVjdHMuaW5kZXhPZihjb250cm9sbGVyLm9iamVjdCk7XG4gIGlmIChtYXRjaGVkSW5kZXggIT09IC0xKSB7XG4gICAgdmFyIGNvbnRyb2xsZXJNYXAgPSByb290Ll9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzW21hdGNoZWRJbmRleF07XG4gICAgaWYgKGNvbnRyb2xsZXJNYXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udHJvbGxlck1hcCA9IHt9O1xuICAgICAgcm9vdC5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1ttYXRjaGVkSW5kZXhdID0gY29udHJvbGxlck1hcDtcbiAgICB9XG4gICAgY29udHJvbGxlck1hcFtjb250cm9sbGVyLnByb3BlcnR5XSA9IGNvbnRyb2xsZXI7XG4gICAgaWYgKHJvb3QubG9hZCAmJiByb290LmxvYWQucmVtZW1iZXJlZCkge1xuICAgICAgdmFyIHByZXNldE1hcCA9IHJvb3QubG9hZC5yZW1lbWJlcmVkO1xuICAgICAgdmFyIHByZXNldCA9IHZvaWQgMDtcbiAgICAgIGlmIChwcmVzZXRNYXBbZ3VpLnByZXNldF0pIHtcbiAgICAgICAgcHJlc2V0ID0gcHJlc2V0TWFwW2d1aS5wcmVzZXRdO1xuICAgICAgfSBlbHNlIGlmIChwcmVzZXRNYXBbREVGQVVMVF9ERUZBVUxUX1BSRVNFVF9OQU1FXSkge1xuICAgICAgICBwcmVzZXQgPSBwcmVzZXRNYXBbREVGQVVMVF9ERUZBVUxUX1BSRVNFVF9OQU1FXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwcmVzZXRbbWF0Y2hlZEluZGV4XSAmJiBwcmVzZXRbbWF0Y2hlZEluZGV4XVtjb250cm9sbGVyLnByb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHByZXNldFttYXRjaGVkSW5kZXhdW2NvbnRyb2xsZXIucHJvcGVydHldO1xuICAgICAgICBjb250cm9sbGVyLmluaXRpYWxWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIF9hZGQoZ3VpLCBvYmplY3QsIHByb3BlcnR5LCBwYXJhbXMpIHtcbiAgaWYgKG9iamVjdFtwcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignT2JqZWN0IFwiJyArIG9iamVjdCArICdcIiBoYXMgbm8gcHJvcGVydHkgXCInICsgcHJvcGVydHkgKyAnXCInKTtcbiAgfVxuICB2YXIgY29udHJvbGxlciA9IHZvaWQgMDtcbiAgaWYgKHBhcmFtcy5jb2xvcikge1xuICAgIGNvbnRyb2xsZXIgPSBuZXcgQ29sb3JDb250cm9sbGVyKG9iamVjdCwgcHJvcGVydHkpO1xuICB9IGVsc2Uge1xuICAgIHZhciBmYWN0b3J5QXJncyA9IFtvYmplY3QsIHByb3BlcnR5XS5jb25jYXQocGFyYW1zLmZhY3RvcnlBcmdzKTtcbiAgICBjb250cm9sbGVyID0gQ29udHJvbGxlckZhY3RvcnkuYXBwbHkoZ3VpLCBmYWN0b3J5QXJncyk7XG4gIH1cbiAgaWYgKHBhcmFtcy5iZWZvcmUgaW5zdGFuY2VvZiBDb250cm9sbGVyKSB7XG4gICAgcGFyYW1zLmJlZm9yZSA9IHBhcmFtcy5iZWZvcmUuX19saTtcbiAgfVxuICByZWNhbGxTYXZlZFZhbHVlKGd1aSwgY29udHJvbGxlcik7XG4gIGRvbS5hZGRDbGFzcyhjb250cm9sbGVyLmRvbUVsZW1lbnQsICdjJyk7XG4gIHZhciBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBkb20uYWRkQ2xhc3MobmFtZSwgJ3Byb3BlcnR5LW5hbWUnKTtcbiAgbmFtZS5pbm5lckhUTUwgPSBjb250cm9sbGVyLnByb3BlcnR5O1xuICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChuYW1lKTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRyb2xsZXIuZG9tRWxlbWVudCk7XG4gIHZhciBsaSA9IGFkZFJvdyhndWksIGNvbnRhaW5lciwgcGFyYW1zLmJlZm9yZSk7XG4gIGRvbS5hZGRDbGFzcyhsaSwgR1VJLkNMQVNTX0NPTlRST0xMRVJfUk9XKTtcbiAgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBDb2xvckNvbnRyb2xsZXIpIHtcbiAgICBkb20uYWRkQ2xhc3MobGksICdjb2xvcicpO1xuICB9IGVsc2Uge1xuICAgIGRvbS5hZGRDbGFzcyhsaSwgX3R5cGVvZihjb250cm9sbGVyLmdldFZhbHVlKCkpKTtcbiAgfVxuICBhdWdtZW50Q29udHJvbGxlcihndWksIGxpLCBjb250cm9sbGVyKTtcbiAgZ3VpLl9fY29udHJvbGxlcnMucHVzaChjb250cm9sbGVyKTtcbiAgcmV0dXJuIGNvbnRyb2xsZXI7XG59XG5mdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2VIYXNoKGd1aSwga2V5KSB7XG4gIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmICsgJy4nICsga2V5O1xufVxuZnVuY3Rpb24gYWRkUHJlc2V0T3B0aW9uKGd1aSwgbmFtZSwgc2V0U2VsZWN0ZWQpIHtcbiAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICBvcHQuaW5uZXJIVE1MID0gbmFtZTtcbiAgb3B0LnZhbHVlID0gbmFtZTtcbiAgZ3VpLl9fcHJlc2V0X3NlbGVjdC5hcHBlbmRDaGlsZChvcHQpO1xuICBpZiAoc2V0U2VsZWN0ZWQpIHtcbiAgICBndWkuX19wcmVzZXRfc2VsZWN0LnNlbGVjdGVkSW5kZXggPSBndWkuX19wcmVzZXRfc2VsZWN0Lmxlbmd0aCAtIDE7XG4gIH1cbn1cbmZ1bmN0aW9uIHNob3dIaWRlRXhwbGFpbihndWksIGV4cGxhaW4pIHtcbiAgZXhwbGFpbi5zdHlsZS5kaXNwbGF5ID0gZ3VpLnVzZUxvY2FsU3RvcmFnZSA/ICdibG9jaycgOiAnbm9uZSc7XG59XG5mdW5jdGlvbiBhZGRTYXZlTWVudShndWkpIHtcbiAgdmFyIGRpdiA9IGd1aS5fX3NhdmVfcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgZG9tLmFkZENsYXNzKGd1aS5kb21FbGVtZW50LCAnaGFzLXNhdmUnKTtcbiAgZ3VpLl9fdWwuaW5zZXJ0QmVmb3JlKGRpdiwgZ3VpLl9fdWwuZmlyc3RDaGlsZCk7XG4gIGRvbS5hZGRDbGFzcyhkaXYsICdzYXZlLXJvdycpO1xuICB2YXIgZ2VhcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIGdlYXJzLmlubmVySFRNTCA9ICcmbmJzcDsnO1xuICBkb20uYWRkQ2xhc3MoZ2VhcnMsICdidXR0b24gZ2VhcnMnKTtcbiAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgYnV0dG9uLmlubmVySFRNTCA9ICdTYXZlJztcbiAgZG9tLmFkZENsYXNzKGJ1dHRvbiwgJ2J1dHRvbicpO1xuICBkb20uYWRkQ2xhc3MoYnV0dG9uLCAnc2F2ZScpO1xuICB2YXIgYnV0dG9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgYnV0dG9uMi5pbm5lckhUTUwgPSAnTmV3JztcbiAgZG9tLmFkZENsYXNzKGJ1dHRvbjIsICdidXR0b24nKTtcbiAgZG9tLmFkZENsYXNzKGJ1dHRvbjIsICdzYXZlLWFzJyk7XG4gIHZhciBidXR0b24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBidXR0b24zLmlubmVySFRNTCA9ICdSZXZlcnQnO1xuICBkb20uYWRkQ2xhc3MoYnV0dG9uMywgJ2J1dHRvbicpO1xuICBkb20uYWRkQ2xhc3MoYnV0dG9uMywgJ3JldmVydCcpO1xuICB2YXIgc2VsZWN0ID0gZ3VpLl9fcHJlc2V0X3NlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICBpZiAoZ3VpLmxvYWQgJiYgZ3VpLmxvYWQucmVtZW1iZXJlZCkge1xuICAgIENvbW1vbi5lYWNoKGd1aS5sb2FkLnJlbWVtYmVyZWQsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICBhZGRQcmVzZXRPcHRpb24oZ3VpLCBrZXksIGtleSA9PT0gZ3VpLnByZXNldCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgYWRkUHJlc2V0T3B0aW9uKGd1aSwgREVGQVVMVF9ERUZBVUxUX1BSRVNFVF9OQU1FLCBmYWxzZSk7XG4gIH1cbiAgZG9tLmJpbmQoc2VsZWN0LCAnY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBndWkuX19wcmVzZXRfc2VsZWN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgZ3VpLl9fcHJlc2V0X3NlbGVjdFtpbmRleF0uaW5uZXJIVE1MID0gZ3VpLl9fcHJlc2V0X3NlbGVjdFtpbmRleF0udmFsdWU7XG4gICAgfVxuICAgIGd1aS5wcmVzZXQgPSB0aGlzLnZhbHVlO1xuICB9KTtcbiAgZGl2LmFwcGVuZENoaWxkKHNlbGVjdCk7XG4gIGRpdi5hcHBlbmRDaGlsZChnZWFycyk7XG4gIGRpdi5hcHBlbmRDaGlsZChidXR0b24pO1xuICBkaXYuYXBwZW5kQ2hpbGQoYnV0dG9uMik7XG4gIGRpdi5hcHBlbmRDaGlsZChidXR0b24zKTtcbiAgaWYgKFNVUFBPUlRTX0xPQ0FMX1NUT1JBR0UpIHtcbiAgICB2YXIgZXhwbGFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZy1sb2NhbC1leHBsYWluJyk7XG4gICAgdmFyIGxvY2FsU3RvcmFnZUNoZWNrQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RnLWxvY2FsLXN0b3JhZ2UnKTtcbiAgICB2YXIgc2F2ZUxvY2FsbHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGctc2F2ZS1sb2NhbGx5Jyk7XG4gICAgc2F2ZUxvY2FsbHkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGdldExvY2FsU3RvcmFnZUhhc2goZ3VpLCAnaXNMb2NhbCcpKSA9PT0gJ3RydWUnKSB7XG4gICAgICBsb2NhbFN0b3JhZ2VDaGVja0JveC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xuICAgIH1cbiAgICBzaG93SGlkZUV4cGxhaW4oZ3VpLCBleHBsYWluKTtcbiAgICBkb20uYmluZChsb2NhbFN0b3JhZ2VDaGVja0JveCwgJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGd1aS51c2VMb2NhbFN0b3JhZ2UgPSAhZ3VpLnVzZUxvY2FsU3RvcmFnZTtcbiAgICAgIHNob3dIaWRlRXhwbGFpbihndWksIGV4cGxhaW4pO1xuICAgIH0pO1xuICB9XG4gIHZhciBuZXdDb25zdHJ1Y3RvclRleHRBcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RnLW5ldy1jb25zdHJ1Y3RvcicpO1xuICBkb20uYmluZChuZXdDb25zdHJ1Y3RvclRleHRBcmVhLCAna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUubWV0YUtleSAmJiAoZS53aGljaCA9PT0gNjcgfHwgZS5rZXlDb2RlID09PSA2NykpIHtcbiAgICAgIFNBVkVfRElBTE9HVUUuaGlkZSgpO1xuICAgIH1cbiAgfSk7XG4gIGRvbS5iaW5kKGdlYXJzLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgbmV3Q29uc3RydWN0b3JUZXh0QXJlYS5pbm5lckhUTUwgPSBKU09OLnN0cmluZ2lmeShndWkuZ2V0U2F2ZU9iamVjdCgpLCB1bmRlZmluZWQsIDIpO1xuICAgIFNBVkVfRElBTE9HVUUuc2hvdygpO1xuICAgIG5ld0NvbnN0cnVjdG9yVGV4dEFyZWEuZm9jdXMoKTtcbiAgICBuZXdDb25zdHJ1Y3RvclRleHRBcmVhLnNlbGVjdCgpO1xuICB9KTtcbiAgZG9tLmJpbmQoYnV0dG9uLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgZ3VpLnNhdmUoKTtcbiAgfSk7XG4gIGRvbS5iaW5kKGJ1dHRvbjIsICdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJlc2V0TmFtZSA9IHByb21wdCgnRW50ZXIgYSBuZXcgcHJlc2V0IG5hbWUuJyk7XG4gICAgaWYgKHByZXNldE5hbWUpIHtcbiAgICAgIGd1aS5zYXZlQXMocHJlc2V0TmFtZSk7XG4gICAgfVxuICB9KTtcbiAgZG9tLmJpbmQoYnV0dG9uMywgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGd1aS5yZXZlcnQoKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBhZGRSZXNpemVIYW5kbGUoZ3VpKSB7XG4gIHZhciBwbW91c2VYID0gdm9pZCAwO1xuICBndWkuX19yZXNpemVfaGFuZGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIENvbW1vbi5leHRlbmQoZ3VpLl9fcmVzaXplX2hhbmRsZS5zdHlsZSwge1xuICAgIHdpZHRoOiAnNnB4JyxcbiAgICBtYXJnaW5MZWZ0OiAnLTNweCcsXG4gICAgaGVpZ2h0OiAnMjAwcHgnLFxuICAgIGN1cnNvcjogJ2V3LXJlc2l6ZScsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgfSk7XG4gIGZ1bmN0aW9uIGRyYWcoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBndWkud2lkdGggKz0gcG1vdXNlWCAtIGUuY2xpZW50WDtcbiAgICBndWkub25SZXNpemUoKTtcbiAgICBwbW91c2VYID0gZS5jbGllbnRYO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBkcmFnU3RvcCgpIHtcbiAgICBkb20ucmVtb3ZlQ2xhc3MoZ3VpLl9fY2xvc2VCdXR0b24sIEdVSS5DTEFTU19EUkFHKTtcbiAgICBkb20udW5iaW5kKHdpbmRvdywgJ21vdXNlbW92ZScsIGRyYWcpO1xuICAgIGRvbS51bmJpbmQod2luZG93LCAnbW91c2V1cCcsIGRyYWdTdG9wKTtcbiAgfVxuICBmdW5jdGlvbiBkcmFnU3RhcnQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBwbW91c2VYID0gZS5jbGllbnRYO1xuICAgIGRvbS5hZGRDbGFzcyhndWkuX19jbG9zZUJ1dHRvbiwgR1VJLkNMQVNTX0RSQUcpO1xuICAgIGRvbS5iaW5kKHdpbmRvdywgJ21vdXNlbW92ZScsIGRyYWcpO1xuICAgIGRvbS5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBkcmFnU3RvcCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGRvbS5iaW5kKGd1aS5fX3Jlc2l6ZV9oYW5kbGUsICdtb3VzZWRvd24nLCBkcmFnU3RhcnQpO1xuICBkb20uYmluZChndWkuX19jbG9zZUJ1dHRvbiwgJ21vdXNlZG93bicsIGRyYWdTdGFydCk7XG4gIGd1aS5kb21FbGVtZW50Lmluc2VydEJlZm9yZShndWkuX19yZXNpemVfaGFuZGxlLCBndWkuZG9tRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCk7XG59XG5mdW5jdGlvbiBzZXRXaWR0aChndWksIHcpIHtcbiAgZ3VpLmRvbUVsZW1lbnQuc3R5bGUud2lkdGggPSB3ICsgJ3B4JztcbiAgaWYgKGd1aS5fX3NhdmVfcm93ICYmIGd1aS5hdXRvUGxhY2UpIHtcbiAgICBndWkuX19zYXZlX3Jvdy5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xuICB9XG4gIGlmIChndWkuX19jbG9zZUJ1dHRvbikge1xuICAgIGd1aS5fX2Nsb3NlQnV0dG9uLnN0eWxlLndpZHRoID0gdyArICdweCc7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRQcmVzZXQoZ3VpLCB1c2VJbml0aWFsVmFsdWVzKSB7XG4gIHZhciB0b1JldHVybiA9IHt9O1xuICBDb21tb24uZWFjaChndWkuX19yZW1lbWJlcmVkT2JqZWN0cywgZnVuY3Rpb24gKHZhbCwgaW5kZXgpIHtcbiAgICB2YXIgc2F2ZWRWYWx1ZXMgPSB7fTtcbiAgICB2YXIgY29udHJvbGxlck1hcCA9IGd1aS5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1tpbmRleF07XG4gICAgQ29tbW9uLmVhY2goY29udHJvbGxlck1hcCwgZnVuY3Rpb24gKGNvbnRyb2xsZXIsIHByb3BlcnR5KSB7XG4gICAgICBzYXZlZFZhbHVlc1twcm9wZXJ0eV0gPSB1c2VJbml0aWFsVmFsdWVzID8gY29udHJvbGxlci5pbml0aWFsVmFsdWUgOiBjb250cm9sbGVyLmdldFZhbHVlKCk7XG4gICAgfSk7XG4gICAgdG9SZXR1cm5baW5kZXhdID0gc2F2ZWRWYWx1ZXM7XG4gIH0pO1xuICByZXR1cm4gdG9SZXR1cm47XG59XG5mdW5jdGlvbiBzZXRQcmVzZXRTZWxlY3RJbmRleChndWkpIHtcbiAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGd1aS5fX3ByZXNldF9zZWxlY3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgaWYgKGd1aS5fX3ByZXNldF9zZWxlY3RbaW5kZXhdLnZhbHVlID09PSBndWkucHJlc2V0KSB7XG4gICAgICBndWkuX19wcmVzZXRfc2VsZWN0LnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlzKGNvbnRyb2xsZXJBcnJheSkge1xuICBpZiAoY29udHJvbGxlckFycmF5Lmxlbmd0aCAhPT0gMCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSQxLmNhbGwod2luZG93LCBmdW5jdGlvbiAoKSB7XG4gICAgICB1cGRhdGVEaXNwbGF5cyhjb250cm9sbGVyQXJyYXkpO1xuICAgIH0pO1xuICB9XG4gIENvbW1vbi5lYWNoKGNvbnRyb2xsZXJBcnJheSwgZnVuY3Rpb24gKGMpIHtcbiAgICBjLnVwZGF0ZURpc3BsYXkoKTtcbiAgfSk7XG59XG5cbnZhciBjb2xvciA9IHtcbiAgQ29sb3I6IENvbG9yLFxuICBtYXRoOiBDb2xvck1hdGgsXG4gIGludGVycHJldDogaW50ZXJwcmV0XG59O1xudmFyIGNvbnRyb2xsZXJzID0ge1xuICBDb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBCb29sZWFuQ29udHJvbGxlcjogQm9vbGVhbkNvbnRyb2xsZXIsXG4gIE9wdGlvbkNvbnRyb2xsZXI6IE9wdGlvbkNvbnRyb2xsZXIsXG4gIFN0cmluZ0NvbnRyb2xsZXI6IFN0cmluZ0NvbnRyb2xsZXIsXG4gIE51bWJlckNvbnRyb2xsZXI6IE51bWJlckNvbnRyb2xsZXIsXG4gIE51bWJlckNvbnRyb2xsZXJCb3g6IE51bWJlckNvbnRyb2xsZXJCb3gsXG4gIE51bWJlckNvbnRyb2xsZXJTbGlkZXI6IE51bWJlckNvbnRyb2xsZXJTbGlkZXIsXG4gIEZ1bmN0aW9uQ29udHJvbGxlcjogRnVuY3Rpb25Db250cm9sbGVyLFxuICBDb2xvckNvbnRyb2xsZXI6IENvbG9yQ29udHJvbGxlclxufTtcbnZhciBkb20kMSA9IHsgZG9tOiBkb20gfTtcbnZhciBndWkgPSB7IEdVSTogR1VJIH07XG52YXIgR1VJJDEgPSBHVUk7XG52YXIgaW5kZXggPSB7XG4gIGNvbG9yOiBjb2xvcixcbiAgY29udHJvbGxlcnM6IGNvbnRyb2xsZXJzLFxuICBkb206IGRvbSQxLFxuICBndWk6IGd1aSxcbiAgR1VJOiBHVUkkMVxufTtcblxuZXhwb3J0IHsgY29sb3IsIGNvbnRyb2xsZXJzLCBkb20kMSBhcyBkb20sIGd1aSwgR1VJJDEgYXMgR1VJIH07XG5leHBvcnQgZGVmYXVsdCBpbmRleDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdC5ndWkubW9kdWxlLmpzLm1hcFxuIiwiLy8gc3RhdHMuanMgLSBodHRwOi8vZ2l0aHViLmNvbS9tcmRvb2Ivc3RhdHMuanNcbihmdW5jdGlvbihmLGUpe1wib2JqZWN0XCI9PT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOmYuU3RhdHM9ZSgpfSkodGhpcyxmdW5jdGlvbigpe3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShhKXtjLmFwcGVuZENoaWxkKGEuZG9tKTtyZXR1cm4gYX1mdW5jdGlvbiB1KGEpe2Zvcih2YXIgZD0wO2Q8Yy5jaGlsZHJlbi5sZW5ndGg7ZCsrKWMuY2hpbGRyZW5bZF0uc3R5bGUuZGlzcGxheT1kPT09YT9cImJsb2NrXCI6XCJub25lXCI7bD1hfXZhciBsPTAsYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Muc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtjdXJzb3I6cG9pbnRlcjtvcGFjaXR5OjAuOTt6LWluZGV4OjEwMDAwXCI7Yy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCk7XG51KCsrbCVjLmNoaWxkcmVuLmxlbmd0aCl9LCExKTt2YXIgaz0ocGVyZm9ybWFuY2V8fERhdGUpLm5vdygpLGc9ayxhPTAscj1lKG5ldyBmLlBhbmVsKFwiRlBTXCIsXCIjMGZmXCIsXCIjMDAyXCIpKSxoPWUobmV3IGYuUGFuZWwoXCJNU1wiLFwiIzBmMFwiLFwiIzAyMFwiKSk7aWYoc2VsZi5wZXJmb3JtYW5jZSYmc2VsZi5wZXJmb3JtYW5jZS5tZW1vcnkpdmFyIHQ9ZShuZXcgZi5QYW5lbChcIk1CXCIsXCIjZjA4XCIsXCIjMjAxXCIpKTt1KDApO3JldHVybntSRVZJU0lPTjoxNixkb206YyxhZGRQYW5lbDplLHNob3dQYW5lbDp1LGJlZ2luOmZ1bmN0aW9uKCl7az0ocGVyZm9ybWFuY2V8fERhdGUpLm5vdygpfSxlbmQ6ZnVuY3Rpb24oKXthKys7dmFyIGM9KHBlcmZvcm1hbmNlfHxEYXRlKS5ub3coKTtoLnVwZGF0ZShjLWssMjAwKTtpZihjPmcrMUUzJiYoci51cGRhdGUoMUUzKmEvKGMtZyksMTAwKSxnPWMsYT0wLHQpKXt2YXIgZD1wZXJmb3JtYW5jZS5tZW1vcnk7dC51cGRhdGUoZC51c2VkSlNIZWFwU2l6ZS9cbjEwNDg1NzYsZC5qc0hlYXBTaXplTGltaXQvMTA0ODU3Nil9cmV0dXJuIGN9LHVwZGF0ZTpmdW5jdGlvbigpe2s9dGhpcy5lbmQoKX0sZG9tRWxlbWVudDpjLHNldE1vZGU6dX19O2YuUGFuZWw9ZnVuY3Rpb24oZSxmLGwpe3ZhciBjPUluZmluaXR5LGs9MCxnPU1hdGgucm91bmQsYT1nKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKSxyPTgwKmEsaD00OCphLHQ9MyphLHY9MiphLGQ9MyphLG09MTUqYSxuPTc0KmEscD0zMCphLHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtxLndpZHRoPXI7cS5oZWlnaHQ9aDtxLnN0eWxlLmNzc1RleHQ9XCJ3aWR0aDo4MHB4O2hlaWdodDo0OHB4XCI7dmFyIGI9cS5nZXRDb250ZXh0KFwiMmRcIik7Yi5mb250PVwiYm9sZCBcIis5KmErXCJweCBIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZlwiO2IudGV4dEJhc2VsaW5lPVwidG9wXCI7Yi5maWxsU3R5bGU9bDtiLmZpbGxSZWN0KDAsMCxyLGgpO2IuZmlsbFN0eWxlPWY7Yi5maWxsVGV4dChlLHQsdik7XG5iLmZpbGxSZWN0KGQsbSxuLHApO2IuZmlsbFN0eWxlPWw7Yi5nbG9iYWxBbHBoYT0uOTtiLmZpbGxSZWN0KGQsbSxuLHApO3JldHVybntkb206cSx1cGRhdGU6ZnVuY3Rpb24oaCx3KXtjPU1hdGgubWluKGMsaCk7az1NYXRoLm1heChrLGgpO2IuZmlsbFN0eWxlPWw7Yi5nbG9iYWxBbHBoYT0xO2IuZmlsbFJlY3QoMCwwLHIsbSk7Yi5maWxsU3R5bGU9ZjtiLmZpbGxUZXh0KGcoaCkrXCIgXCIrZStcIiAoXCIrZyhjKStcIi1cIitnKGspK1wiKVwiLHQsdik7Yi5kcmF3SW1hZ2UocSxkK2EsbSxuLWEscCxkLG0sbi1hLHApO2IuZmlsbFJlY3QoZCtuLWEsbSxhLHApO2IuZmlsbFN0eWxlPWw7Yi5nbG9iYWxBbHBoYT0uOTtiLmZpbGxSZWN0KGQrbi1hLG0sYSxnKCgxLWgvdykqcCkpfX19O3JldHVybiBmfSk7XG4iLCIvLyBkZWJ1Zy5qc1xuaW1wb3J0IGRhdCBmcm9tICdkYXQuZ3VpJ1xuaW1wb3J0IFN0YXRzIGZyb20gJ3N0YXRzLmpzJ1xuaW1wb3J0IGFsZnJpZCBmcm9tICdhbGZyaWQnXG5cbi8vIElOSVQgREFULUdVSVxud2luZG93Lmd1aSA9IG5ldyBkYXQuR1VJKHsgd2lkdGg6IDMwMCB9KVxuY29uc3QgZGl2ID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCcuZGcuYWMnKVxuZGl2LnN0eWxlLnpJbmRleCA9ICc5OTknXG5cbi8vIFNUQVRTXG5jb25zdCBzdGF0cyA9IG5ldyBTdGF0cygpXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0YXRzLmRvbUVsZW1lbnQpXG5hbGZyaWQuU2NoZWR1bGVyLmFkZEVGKCgpID0+IHN0YXRzLnVwZGF0ZSgpKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==